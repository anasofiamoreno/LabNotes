var Tce=Object.defineProperty,Ace=Object.defineProperties,Sce=Object.getOwnPropertyDescriptors,WB=Object.getOwnPropertySymbols,xce=Object.prototype.hasOwnProperty,Mce=Object.prototype.propertyIsEnumerable,zB=(kn,Ut,wt)=>Ut in kn?Tce(kn,Ut,{enumerable:!0,configurable:!0,writable:!0,value:wt}):kn[Ut]=wt,B=(kn,Ut)=>{for(var wt in Ut||(Ut={}))xce.call(Ut,wt)&&zB(kn,wt,Ut[wt]);if(WB)for(var wt of WB(Ut))Mce.call(Ut,wt)&&zB(kn,wt,Ut[wt]);return kn},Vt=(kn,Ut)=>Ace(kn,Sce(Ut));(self.webpackChunkLabNotes=self.webpackChunkLabNotes||[]).push([[179],{995:function(kn,Ut){!function(wt){"use strict";function Te(F){return Array.prototype.slice.call(F)}function Ko(F){return new Promise(function(oe,ye){F.onsuccess=function(){oe(F.result)},F.onerror=function(){ye(F.error)}})}function Xi(F,oe,ye){var Ee,le=new Promise(function(mn,es){Ko(Ee=F[oe].apply(F,ye)).then(mn,es)});return le.request=Ee,le}function Qo(F,oe,ye){var Ee=Xi(F,oe,ye);return Ee.then(function(le){if(le)return new Wr(le,Ee.request)})}function it(F,oe,ye){ye.forEach(function(Ee){Object.defineProperty(F.prototype,Ee,{get:function(){return this[oe][Ee]},set:function(le){this[oe][Ee]=le}})})}function Yo(F,oe,ye,Ee){Ee.forEach(function(le){le in ye.prototype&&(F.prototype[le]=function(){return Xi(this[oe],le,arguments)})})}function Us(F,oe,ye,Ee){Ee.forEach(function(le){le in ye.prototype&&(F.prototype[le]=function(){return this[oe][le].apply(this[oe],arguments)})})}function uc(F,oe,ye,Ee){Ee.forEach(function(le){le in ye.prototype&&(F.prototype[le]=function(){return Qo(this[oe],le,arguments)})})}function gn(F){this._index=F}function Wr(F,oe){this._cursor=F,this._request=oe}function zn(F){this._store=F}function zr(F){this._tx=F,this.complete=new Promise(function(oe,ye){F.oncomplete=function(){oe()},F.onerror=function(){ye(F.error)},F.onabort=function(){ye(F.error)}})}function Jo(F,oe,ye){this._db=F,this.oldVersion=oe,this.transaction=new zr(ye)}function Zo(F){this._db=F}it(gn,"_index",["name","keyPath","multiEntry","unique"]),Yo(gn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),uc(gn,"_index",IDBIndex,["openCursor","openKeyCursor"]),it(Wr,"_cursor",["direction","key","primaryKey","value"]),Yo(Wr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(F){F in IDBCursor.prototype&&(Wr.prototype[F]=function(){var oe=this,ye=arguments;return Promise.resolve().then(function(){return oe._cursor[F].apply(oe._cursor,ye),Ko(oe._request).then(function(Ee){if(Ee)return new Wr(Ee,oe._request)})})})}),zn.prototype.createIndex=function(){return new gn(this._store.createIndex.apply(this._store,arguments))},zn.prototype.index=function(){return new gn(this._store.index.apply(this._store,arguments))},it(zn,"_store",["name","keyPath","indexNames","autoIncrement"]),Yo(zn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),uc(zn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Us(zn,"_store",IDBObjectStore,["deleteIndex"]),zr.prototype.objectStore=function(){return new zn(this._tx.objectStore.apply(this._tx,arguments))},it(zr,"_tx",["objectStoreNames","mode"]),Us(zr,"_tx",IDBTransaction,["abort"]),Jo.prototype.createObjectStore=function(){return new zn(this._db.createObjectStore.apply(this._db,arguments))},it(Jo,"_db",["name","version","objectStoreNames"]),Us(Jo,"_db",IDBDatabase,["deleteObjectStore","close"]),Zo.prototype.transaction=function(){return new zr(this._db.transaction.apply(this._db,arguments))},it(Zo,"_db",["name","version","objectStoreNames"]),Us(Zo,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(F){[zn,gn].forEach(function(oe){F in oe.prototype&&(oe.prototype[F.replace("open","iterate")]=function(){var ye=Te(arguments),Ee=ye[ye.length-1],le=this._store||this._index,mn=le[F].apply(le,ye.slice(0,-1));mn.onsuccess=function(){Ee(mn.result)}})})}),[gn,zn].forEach(function(F){F.prototype.getAll||(F.prototype.getAll=function(oe,ye){var Ee=this,le=[];return new Promise(function(mn){Ee.iterateCursor(oe,function(es){es?(le.push(es.value),void 0===ye||le.length!=ye?es.continue():mn(le)):mn(le)})})})}),wt.openDb=function(F,oe,ye){var Ee=Xi(indexedDB,"open",[F,oe]),le=Ee.request;return le&&(le.onupgradeneeded=function(mn){ye&&ye(new Jo(le.result,mn.oldVersion,le.transaction))}),Ee.then(function(mn){return new Zo(mn)})},wt.deleteDb=function(F){return Xi(indexedDB,"deleteDatabase",[F])},Object.defineProperty(wt,"__esModule",{value:!0})}(Ut)},750:(kn,Ut,wt)=>{"use strict";function Te(t){return"function"==typeof t}function Ko(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Xi=Ko(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Qo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class it{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof Xi?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{uc(s)}catch(o){e=null!=e?e:[],o instanceof Xi?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xi(e)}}add(e){var n;if(e&&e!==this)if(this.closed)uc(e);else{if(e instanceof it){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qo(n,e)}remove(e){const{_teardowns:n}=this;n&&Qo(n,e),e instanceof it&&e._removeParent(this)}}it.EMPTY=(()=>{const t=new it;return t.closed=!0,t})();const Yo=it.EMPTY;function Us(t){return t instanceof it||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function uc(t){Te(t)?t():t.unsubscribe()}const gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wr={setTimeout(...t){const{delegate:e}=Wr;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Wr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function zn(t){Wr.setTimeout(()=>{const{onUnhandledError:e}=gn;if(!e)throw t;e(t)})}function zr(){}const Jo=cc("C",void 0,void 0);function cc(t,e,n){return{kind:t,value:e,error:n}}let F=null;function oe(t){if(gn.useDeprecatedSynchronousErrorHandling){const e=!F;if(e&&(F={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=F;if(F=null,n)throw r}}else t()}class Ee extends it{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Us(e)&&e.add(this)):this.destination=KB}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?em(cc("N",e,void 0),this):this._next(e)}error(e){this.isStopped?em(cc("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?em(Jo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class le extends Ee{constructor(e,n,r){let i;if(super(),Te(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?mn(i):zr,error:mn(null!=n?n:es),complete:r?mn(r):zr}}}function mn(t,e){return(...n)=>{try{t(...n)}catch(r){gn.useDeprecatedSynchronousErrorHandling?function(t){gn.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=t)}(r):zn(r)}}}function es(t){throw t}function em(t,e){const{onStoppedNotification:n}=gn;n&&Wr.setTimeout(()=>n(t,e))}const KB={closed:!0,next:zr,error:es,complete:zr},tm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bs(t){return t}let xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof Ee||function(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&Us(t)}(n)?n:new le(n,r,i);return oe(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=k0(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[tm](){return this}pipe(...n){return function(t){return 0===t.length?Bs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=k0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function k0(t){var e;return null!==(e=null!=t?t:gn.Promise)&&void 0!==e?e:Promise}const JB=Ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let vi=(()=>{class t extends xe{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new P0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new JB}next(n){oe(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){oe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Yo:(s.push(n),new it(()=>Qo(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new xe;return n.source=this,n}}return t.create=(e,n)=>new P0(e,n),t})();class P0 extends vi{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Yo}}function O0(t){return Te(null==t?void 0:t.lift)}function Bt(t){return e=>{if(O0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Et extends Ee{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Me(t,e){return Bt((n,r)=>{let i=0;n.subscribe(new Et(r,s=>{r.next(t.call(e,s,i++))}))})}function js(t){return this instanceof js?(this.v=t,this):new js(t)}function ej(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof js?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function tj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const U0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function B0(t){return Te(null==t?void 0:t.then)}function j0(t){return Te(t[tm])}function $0(t){return Symbol.asyncIterator&&Te(null==t?void 0:t[Symbol.asyncIterator])}function H0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const G0="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function q0(t){return Te(null==t?void 0:t[G0])}function W0(t){return ej(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield js(n.read());if(i)return yield js(void 0);yield yield js(r)}}finally{n.releaseLock()}})}function z0(t){return Te(null==t?void 0:t.getReader)}function Kr(t){if(t instanceof xe)return t;if(null!=t){if(j0(t))return function(t){return new xe(e=>{const n=t[tm]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(U0(t))return function(t){return new xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(B0(t))return function(t){return new xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,zn)})}(t);if($0(t))return K0(t);if(q0(t))return function(t){return new xe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(z0(t))return function(t){return K0(W0(t))}(t)}throw H0(t)}function K0(t){return new xe(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=tj(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function wi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ct(t,e,n=1/0){return Te(e)?Ct((r,i)=>Me((s,o)=>e(r,s,i,o))(Kr(t(r,i))),n):("number"==typeof e&&(n=e),Bt((r,i)=>function(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{c++;let g=!1;Kr(n(m,l++)).subscribe(new Et(e,v=>{e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;u.length&&c<r;){const v=u.shift();p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(new Et(e,f,()=>{d=!0,h()})),()=>{}}(r,i,t,n)))}function lc(t=1/0){return Ct(Bs,t)}const Ei=new xe(t=>t.complete());function rm(t){return t[t.length-1]}function Q0(t){return Te(rm(t))?t.pop():void 0}function dc(t){return function(t){return t&&Te(t.schedule)}(rm(t))?t.pop():void 0}function Jd(t,e=0){return Bt((n,r)=>{n.subscribe(new Et(r,i=>wi(r,t,()=>r.next(i),e),()=>wi(r,t,()=>r.complete(),e),i=>wi(r,t,()=>r.error(i),e)))})}function Zd(t,e=0){return Bt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Y0(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(n=>{wi(n,e,()=>{const r=t[Symbol.asyncIterator]();wi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function It(t,e){return e?function(t,e){if(null!=t){if(j0(t))return function(t,e){return Kr(t).pipe(Zd(e),Jd(e))}(t,e);if(U0(t))return function(t,e){return new xe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(B0(t))return function(t,e){return Kr(t).pipe(Zd(e),Jd(e))}(t,e);if($0(t))return Y0(t,e);if(q0(t))return function(t,e){return new xe(n=>{let r;return wi(n,e,()=>{r=t[G0](),wi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Te(null==r?void 0:r.return)&&r.return()})}(t,e);if(z0(t))return function(t,e){return Y0(W0(t),e)}(t,e)}throw H0(t)}(t,e):Kr(t)}function hc(t){return t<=0?()=>Ei:Bt((e,n)=>{let r=0;e.subscribe(new Et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function im(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(hc(1)).subscribe(()=>t())}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function sm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function om(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Cj=be({__forward_ref__:be});function Re(t){return t.__forward_ref__=Re,t.toString=function(){return se(this())},t}function U(t){return J0(t)?t():t}function J0(t){return"function"==typeof t&&t.hasOwnProperty(Cj)&&t.__forward_ref__===Re}class $s extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function yn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}function Xd(t,e){const n=e?` in ${e}`:"";throw new $s("201",`No provider for ${yn(t)} found${n}`)}function Qn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ii(t){return Z0(t,eh)||Z0(t,eA)}function Z0(t,e){return t.hasOwnProperty(e)?t[e]:null}function X0(t){return t&&(t.hasOwnProperty(um)||t.hasOwnProperty(xj))?t[um]:null}const eh=be({\u0275prov:be}),um=be({\u0275inj:be}),eA=be({ngInjectableDef:be}),xj=be({ngInjectorDef:be});var j=(()=>((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j))();let cm;function ts(t){const e=cm;return cm=t,e}function tA(t,e,n){const r=Ii(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void Xd(se(t),"Injector")}function ns(t){return{toString:t}.toString()}var cr=(()=>((cr=cr||{})[cr.OnPush=0]="OnPush",cr[cr.Default=1]="Default",cr))(),Yn=(()=>{return(t=Yn||(Yn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Yn;var t})();const Rj="undefined"!=typeof globalThis&&globalThis,Nj="undefined"!=typeof window&&window,kj="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce=Rj||"undefined"!=typeof global&&global||Nj||kj,Xo={},Ae=[],th=be({\u0275cmp:be}),lm=be({\u0275dir:be}),dm=be({\u0275pipe:be}),nA=be({\u0275mod:be}),bi=be({\u0275fac:be}),fc=be({__NG_ELEMENT_ID__:be});let Pj=0;function Dr(t){return ns(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===cr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ae,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Yn.Emulated,id:"c",styles:t.styles||Ae,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=Pj++,r.inputs=oA(t.inputs,n),r.outputs=oA(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(rA):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(iA):null,r})}function rA(t){return tn(t)||function(t){return t[lm]||null}(t)}function iA(t){return function(t){return t[dm]||null}(t)}const sA={};function Pn(t){return ns(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ae,declarations:t.declarations||Ae,imports:t.imports||Ae,exports:t.exports||Ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(sA[t.id]=t.type),e})}function oA(t,e){if(null==t)return Xo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const q=Dr;function tn(t){return t[th]||null}function lr(t,e){const n=t[nA]||null;if(!n&&!0===e)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return n}function Qr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ar(t){return Array.isArray(t)&&!0===t[1]}function pm(t){return 0!=(8&t.flags)}function sh(t){return 2==(2&t.flags)}function oh(t){return 1==(1&t.flags)}function Sr(t){return null!==t.template}function Bj(t){return 0!=(512&t[2])}function zs(t,e){return t.hasOwnProperty(bi)?t[bi]:null}class uA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function rn(){return cA}function cA(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gj),Hj}function Hj(){const t=dA(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Xo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Gj(t,e,n,r){const i=dA(t)||function(t,e){return t[lA]=e}(t,{previous:Xo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new uA(u&&u.currentValue,e,o===Xo),t[r]=e}rn.ngInherit=!0;const lA="__ngSimpleChanges__";function dA(t){return t[lA]||null}let ym;function ze(t){return!!t.listen}const pA={createRenderer:(t,e)=>void 0!==ym?ym:"undefined"!=typeof document?document:void 0};function st(t){for(;Array.isArray(t);)t=t[0];return t}function ah(t,e){return st(e[t])}function fr(t,e){return st(e[t.index])}function vm(t,e){return t.data[e]}function Zn(t,e){const n=e[t];return Qr(n)?n:n[0]}function wm(t){return 128==(128&t[2])}function is(t,e){return null==e?null:t[e]}function mA(t){t[18]=0}function Em(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const z={lFrame:bA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yA(){return z.bindingsEnabled}function I(){return z.lFrame.lView}function fe(){return z.lFrame.tView}function Ks(t){return z.lFrame.contextLView=t,t[8]}function ft(){let t=_A();for(;null!==t&&64===t.type;)t=t.parent;return t}function _A(){return z.lFrame.currentTNode}function Yr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function Cm(){return z.lFrame.isParent}function uh(){return z.isInCheckNoChangesMode}function ch(t){z.isInCheckNoChangesMode=t}function sa(){return z.lFrame.bindingIndex++}function s$(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,bm(e)}function bm(t){z.lFrame.currentDirectiveIndex=t}function Tm(t){z.lFrame.currentQueryIndex=t}function a$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function CA(t,e,n){if(n&j.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&j.Host||(i=a$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=IA();return r.currentTNode=e,r.lView=t,!0}function lh(t){const e=IA(),n=t[1];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function IA(){const t=z.lFrame,e=null===t?null:t.child;return null===e?bA(t):e}function bA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function DA(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const TA=DA;function dh(){const t=DA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vn(){return z.lFrame.selectedIndex}function ss(t){z.lFrame.selectedIndex=t}function hh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function fh(t,e,n){AA(t,e,3,n)}function ph(t,e,n,r){(3&t[2])===n&&AA(t,e,n,r)}function Am(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function AA(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(m$(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function m$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class _c{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function gh(t,e,n){const r=ze(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];xm(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function SA(t){return 3===t||4===t||6===t}function xm(t){return 64===t.charCodeAt(0)}function mh(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function MA(t){return-1!==t}function oa(t){return 32767&t}function aa(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Mm=!0;function yh(t){const e=Mm;return Mm=t,e}let C$=0;function wc(t,e){const n=Nm(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Rm(r.data,t),Rm(e,null),Rm(r.blueprint,null));const i=_h(t,e),s=t.injectorIndex;if(MA(i)){const o=oa(i),a=aa(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Rm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Nm(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function _h(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function vh(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(fc)&&(r=n[fc]),null==r&&(r=n[fc]=C$++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function kA(t,e,n){if(n&j.Optional)return t;Xd(e,"NodeInjector")}function PA(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=ts(void 0);try{return i?i.get(e,r,n&j.Optional):tA(e,r,n&j.Optional)}finally{ts(s)}}return kA(r,e,n)}function OA(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(fc)?t[fc]:void 0;return"number"==typeof e?e>=0?255&e:D$:e}(n);if("function"==typeof s){if(!CA(e,t,r))return r&j.Host?kA(i,n,r):PA(e,n,r,i);try{const o=s(r);if(null!=o||r&j.Optional)return o;Xd(n)}finally{TA()}}else if("number"==typeof s){let o=null,a=Nm(t,e),u=-1,c=r&j.Host?e[16][6]:null;for((-1===a||r&j.SkipSelf)&&(u=-1===a?_h(t,e):e[a+8],-1!==u&&VA(r,!1)?(o=e[1],a=oa(u),e=aa(u,e)):a=-1);-1!==a;){const l=e[1];if(LA(s,a,l.data)){const d=T$(a,e,n,o,r,c);if(d!==FA)return d}u=e[a+8],-1!==u&&VA(r,e[1].data[a+8]===c)&&LA(s,a,e)?(o=l,a=oa(u),e=aa(u,e)):a=-1}}}return PA(e,n,r,i)}const FA={};function D$(){return new ua(ft(),I())}function T$(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Sr(f)&&f.type===n)return u}return null}(a,o,n,null==r?sh(a)&&Mm:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==l?Ec(e,o,l,a):FA}function Ec(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof _c}(i)){const o=i;o.resolving&&function(t,e){throw new $s("200",`Circular dependency in DI detected for ${t}`)}(yn(s[n]));const a=yh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ts(o.injectImpl):null;CA(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=cA(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&ts(u),yh(a),o.resolving=!1,TA()}}return i}function LA(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function VA(t,e){return!(t&j.Self||t&j.Host&&e)}class ua{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OA(this._tNode,this._lView,e,r,n)}}function km(t){return J0(t)?()=>{const e=km(U(t));return e&&e()}:zs(t)}const la="__parameters__";function Qs(t,e,n){return ns(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(la)?u[la]:Object.defineProperty(u,la,{value:[]})[la];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const M$=new ee("AnalyzeForEntryComponents");function Jr(t,e){t.forEach(n=>Array.isArray(n)?Jr(n,e):e(n))}function Eh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ys(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function er(t,e,n){let r=ha(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Fm(t,e){const n=ha(t,e);if(n>=0)return t[1|n]}function ha(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ac={},Vm="__NG_DI_FLAG__",fa="ngTempTokenPath",B$=/\n/gm,Um="__source",Bm=be({provide:String,useValue:be});let Sc;function pa(t){const e=Sc;return Sc=t,e}function $$(t,e=j.Default){if(void 0===Sc)throw new Error("inject() must be called from an injection context");return null===Sc?tA(t,void 0,e):Sc.get(t,e&j.Optional?null:void 0,e)}function O(t,e=j.Default){return(cm||$$)(U(t),e)}function Js(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=j.Default;for(let o=0;o<r.length;o++){const a=r[o],u=H$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function xc(t,e){return t[Vm]=e,t.prototype[Vm]=e,t}function H$(t){return t[Vm]}function HA(t,e,n,r){const i=t[fa];throw e[Um]&&i.unshift(e[Um]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=se(e);if(Array.isArray(e))i=e.map(se).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):se(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(B$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[fa]=null,t}const ga=xc(Qs("Inject",t=>({token:t})),-1),Le=xc(Qs("Optional"),8),us=xc(Qs("SkipSelf"),4);const uS="__ngContext__";function sn(t,e){t[uS]=e}function Ym(t){const e=function(t){return t[uS]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Sh(t){return t.ngOriginalError}function FH(t,...e){t.error(...e)}class Xs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||FH;var t;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Sh(e)):null}_findOriginalError(e){let n=e&&Sh(e);for(;n&&Sh(n);)n=Sh(n);return n||null}}const yS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce))();function ei(t){return t instanceof Function?t():t}var nr=(()=>((nr=nr||{})[nr.Important=1]="Important",nr[nr.DashCase=2]="DashCase",nr))();function Xm(t,e){return undefined(t,e)}function Oc(t){const e=t[3];return Ar(e)?e[3]:e}function ey(t){return CS(t[13])}function ty(t){return CS(t[4])}function CS(t){for(;null!==t&&!Ar(t);)t=t[4];return t}function va(t,e,n,r,i){if(null!=r){let s,o=!1;Ar(r)?s=r:Qr(r)&&(o=!0,r=r[0]);const a=st(r);0===t&&null!==n?null==i?SS(e,n,a):eo(e,n,a,i||null,!0):1===t&&null!==n?eo(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mh(t,e);r&&function(t,e,n,r){ze(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==st(n)&&va(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Fc(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function ry(t,e,n){return ze(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function bS(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Em(i,-1)),n.splice(r,1)}function iy(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&bS(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ys(t,10+e);!function(t,e){Fc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function DS(t,e){if(!(256&e[2])){const n=e[11];ze(n)&&n.destroyNode&&Fc(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return sy(t[1],t);for(;e;){let n=null;if(Qr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Qr(e)&&sy(e[1],e),e=e[3];null===e&&(e=t),Qr(e)&&sy(e[1],e),n=e&&e[4]}e=n}}(e)}}function sy(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof _c)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):st(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&ze(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ar(e[3])){n!==e[3]&&bS(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function TS(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Yn.None||i===Yn.Emulated)return null}return fr(r,n)}(t,e.parent,n)}function eo(t,e,n,r,i){ze(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function SS(t,e,n){ze(t)?t.appendChild(e,n):e.appendChild(n)}function xS(t,e,n,r,i){null!==r?eo(t,e,n,r,i):SS(t,e,n)}function Mh(t,e){return ze(t)?t.parentNode(e):e.parentNode}let NS=function(t,e,n){return 40&t.type?fr(t,n):null};function Rh(t,e,n,r){const i=TS(t,r,e),s=e[11],a=function(t,e,n){return NS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)xS(s,i,n[u],a,!1);else xS(s,i,n,a,!1)}function Nh(t,e){if(null!==e){const n=e.type;if(3&n)return fr(e,t);if(4&n)return ay(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Nh(t,r);{const i=t[e.index];return Ar(i)?ay(-1,i):st(i)}}if(32&n)return Xm(e,t)()||st(t[e.index]);{const r=PS(t,e);return null!==r?Array.isArray(r)?r[0]:Nh(Oc(t[16]),r):Nh(t,e.next)}}return null}function PS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ay(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Nh(r,i)}return e[7]}function uy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&sn(st(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)uy(t,e,n.child,r,i,s,!1),va(e,t,i,a,s);else if(32&u){const c=Xm(n,r);let l;for(;l=c();)va(e,t,i,l,s);va(e,t,i,a,s)}else 16&u?FS(t,e,r,n,i,s):va(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Fc(t,e,n,r,i,s){uy(n,r,t.firstChild,e,i,s,!1)}function FS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)va(e,t,i,u[c],s);else uy(t,e,u,o[3],i,s,!0)}function LS(t,e,n){ze(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function cy(t,e,n){ze(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function VS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const US="ng-template";function u3(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==VS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function BS(t){return 4===t.type&&t.value!==US}function c3(t,e,n){return e===(4!==t.type||n?t.value:US)}function l3(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(SA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!c3(t,u,n)||""===u&&1===e.length){if(xr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!u3(t.attrs,c,n)){if(xr(r))return!1;o=!0}continue}const d=d3(8&r?"class":u,i,BS(t),n);if(-1===d){if(xr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==VS(f,c,0)||2&r&&c!==h){if(xr(r))return!1;o=!0}}}}else{if(!o&&!xr(r)&&!xr(u))return!1;if(o&&xr(u))continue;o=!1,r=u|1&r}}return xr(r)||o}function xr(t){return 0==(1&t)}function d3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jS(t,e,n=!1){for(let r=0;r<e.length;r++)if(l3(t,e[r],n))return!0;return!1}function $S(t,e){return t?":not("+e.trim()+")":e}function m3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xr(o)&&(e+=$S(s,i),i=""),r=o,s=s||!xr(r);n++}return""!==i&&(e+=$S(s,i)),e}const X={};function tt(t){HS(fe(),I(),vn()+t,uh())}function HS(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&fh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ph(e,s,0,n)}ss(n)}function kh(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function ly(t){return 2|t}function Ai(t){return(131068&t)>>2}function dy(t,e){return-131069&t|e<<2}function hy(t){return 1|t}function ex(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Tm(i),o.contentQueries(2,e[s],s)}}}function Lc(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,mA(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function wa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=_A(),o=Cm(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),z.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Yr(s,!0),s}function Ea(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vc(t,e,n){lh(e);try{const r=t.viewQuery;null!==r&&My(1,r,n);const i=t.template;null!==i&&tx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ex(t,e),t.staticViewQueries&&My(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Z3(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,dh()}}function Ca(t,e,n,r){const i=e[2];if(256==(256&i))return;lh(e);const s=uh();try{mA(e),function(t){z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&tx(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&fh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ph(e,c,0,null),Am(e,0)}if(function(t){for(let e=ey(t);null!==e;e=ty(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Em(s,1),i[2]|=1024}}}(e),function(t){for(let e=ey(t);null!==e;e=ty(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];wm(r)&&Ca(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&ex(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&fh(e,c)}else{const c=t.contentHooks;null!==c&&ph(e,c,1),Am(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ss(~i);else{const s=i,o=n[++r],a=n[++r];s$(o,s),a(2,e[s])}}}finally{ss(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)J3(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&My(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&fh(e,c)}else{const c=t.viewHooks;null!==c&&ph(e,c,2),Am(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Em(e[3],-1))}finally{dh()}}function N3(t,e,n,r){const i=e[10],s=!uh(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Vc(t,e,r),Ca(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function tx(t,e,n,r,i){const s=vn(),o=2&r;try{ss(-1),o&&e.length>20&&HS(t,e,20,uh()),n(r,i)}finally{ss(s)}}function Cy(t,e,n){!yA()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||wc(n,e),sn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Sr(u);c&&W3(e,n,u);const l=Ec(e,t,a,n);sn(l,e),null!==o&&z3(0,a-i,l,u,0,o),c&&(Zn(n.index,e)[8]=l)}}(t,e,n,fr(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=z.lFrame.currentDirectiveIndex;try{ss(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];bm(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&lx(c,l)}}finally{ss(-1),bm(a)}}(t,e,n))}function Iy(t,e,n=fr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function rx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fh(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ax(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function by(t,e,n,r){let i=!1;if(yA()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];jS(n,o.selectors,!1)&&(i||(i=[]),vh(wc(n,e),t,o.type),Sr(o)?(dx(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,hx(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Ea(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=mh(n.mergedAttrs,d.hostAttrs),fx(t,n,e,c,d),q3(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||BS(e)?null:K3(d,s);o.push(h),a=ax(d,c,a),u=ax(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new $s("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=mh(n.mergedAttrs,n.attrs),i}function cx(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function lx(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function dx(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function q3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sr(e)&&(n[""]=t)}}function hx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fx(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=zs(i.type)),o=new _c(s,Sr(i),null);t.blueprint[r]=o,n[r]=o,cx(t,e,0,r,Ea(t,n,i.hostVars,X),i)}function W3(t,e,n){const r=fr(e,t),i=rx(n),s=t[10],o=Lh(t,Lc(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function z3(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function K3(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function px(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function J3(t,e){const n=Zn(e,t);if(wm(n)){const r=n[1];80&n[2]?Ca(r,n,r.template,n[8]):n[5]>0&&Ty(n)}}function Ty(t){for(let r=ey(t);null!==r;r=ty(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ca(o,s,o.template,s[8])}else s[5]>0&&Ty(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Zn(n[r],t);wm(i)&&i[5]>0&&Ty(i)}}function Z3(t,e){const n=Zn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Vc(r,n,n[8])}function Lh(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ay(t){for(;t;){t[2]|=64;const e=Oc(t);if(Bj(t)&&!e)return t;t=e}return null}function xy(t,e,n){const r=e[10];r.begin&&r.begin();try{Ca(t,e,t.template,n)}catch(i){throw vx(e,i),i}finally{r.end&&r.end()}}function gx(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ym(n),i=r[1];N3(i,r,i.template,n)}}(t[8])}function My(t,e,n){Tm(0),e(t,n)}const rG=(()=>Promise.resolve(null))();function mx(t){return t[7]||(t[7]=[])}function yx(t){return t.cleanup||(t.cleanup=[])}function vx(t,e){const n=t[9],r=n?n.get(Xs,null):null;r&&r.handleError(e)}function wx(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Si(t,e,n){const r=ah(e,t);!function(t,e,n){ze(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Vh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=om(i,a):2==s&&(r=om(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Uc=new ee("INJECTOR",-1);class Ex{get(e,n=Ac){if(n===Ac){const r=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw r.name="NullInjectorError",r}return n}}const Bc=new ee("Set Injector scope."),jc={},oG={};let Ry;function Cx(){return void 0===Ry&&(Ry=new Ex),Ry}function Ix(t,e=null,n=null,r){return new uG(t,n,e||Cx(),r)}class uG{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Jr(n,a=>this.processProvider(a,e,n)),Jr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Uc,Ia(void 0,this));const o=this.records.get(Bc);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:se(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Ac,r=j.Default){this.assertNotDestroyed();const i=pa(this),s=ts(void 0);try{if(!(r&j.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(t=e)||"object"==typeof t&&t instanceof ee)&&Ii(e);a=u&&this.injectableDefInScope(u)?Ia(Ny(e),jc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&j.Self?Cx():this.parent).get(e,n=r&j.Optional&&n===Ac?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[fa]=o[fa]||[]).unshift(se(e)),i)throw o;return HA(o,e,"R3InjectorError",this.source)}throw o}finally{ts(s),pa(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(se(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=U(e)))return!1;let i=X0(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=X0(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Jr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Jr(f,p=>this.processProvider(p,h,f||Ae))}}this.injectorDefTypes.add(o);const u=zs(o)||(()=>new o);this.records.set(o,Ia(u,jc));const c=i.providers;if(null!=c&&!a){const l=e;Jr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=ba(e=U(e))?e:U(e&&e.provide);const s=function(t,e,n){return Dx(t)?Ia(void 0,t.useValue):Ia(bx(t),jc)}(e);if(ba(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ia(void 0,jc,!0),o.factory=()=>Js(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===jc&&(n.value=oG,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=U(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Ny(t){const e=Ii(t),n=null!==e?e.factory:zs(t);if(null!==n)return n;if(t instanceof ee)throw new Error(`Token ${se(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${se(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[eh]||t[eA]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bx(t,e,n){let r;if(ba(t)){const i=U(t);return zs(i)||Ny(i)}if(Dx(t))r=()=>U(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Js(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>O(U(t.useExisting));else{const i=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return zs(i)||Ny(i);r=()=>new i(...Js(t.deps))}return r}function Ia(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Dx(t){return null!==t&&"object"==typeof t&&Bm in t}function ba(t){return"function"==typeof t}const Tx=function(t,e,n){return function(t,e=null,n=null,r){const i=Ix(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let _e=(()=>{class t{static create(n,r){return Array.isArray(n)?Tx(n,r,""):Tx(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=Ac,t.NULL=new Ex,t.\u0275prov=Z({token:t,providedIn:"any",factory:()=>O(Uc)}),t.__NG_ELEMENT_ID__=-1,t})();function xG(t,e){hh(Ym(t)[1],ft())}function ke(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Vy(t.inputs),o.declaredInputs=Vy(t.declaredInputs),o.outputs=Vy(t.outputs);const a=i.hostBindings;a&&kG(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&RG(t,u),c&&NG(t,c),sm(t.inputs,i.inputs),sm(t.declaredInputs,i.declaredInputs),sm(t.outputs,i.outputs),Sr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ke&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mh(i.hostAttrs,n=mh(n,i.hostAttrs))}}(r)}function Vy(t){return t===Xo?{}:t===Ae?[]:t}function RG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function NG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function kG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Uh=null;function Da(){if(!Uh){const t=Ce.Symbol;if(t&&t.iterator)Uh=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Uh=r)}}}return Uh}function Hc(t){return!!Uy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Da()in t)}function Uy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function on(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mi(t,e,n,r,i,s,o,a){const u=I(),c=fe(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=wa(e,t,4,o||null,is(c,a));by(e,n,l,is(c,u)),hh(e,l);const d=l.tViews=Fh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Yr(d,!1);const h=u[11].createComment("");Rh(c,u,h,d),sn(h,u),Lh(u,u[l]=px(h,u,h,d)),oh(d)&&Cy(c,u,d),null!=o&&Iy(u,d,a)}function E(t,e=j.Default){const n=I();return null===n?O(t,e):OA(ft(),n,U(t),e)}function Gy(){throw new Error("invalid")}function Dt(t,e,n){const r=I();return on(r,sa(),e)&&function(t,e,n,r,i,s,o,a){const u=fr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(wx(t,n,l,r,i),sh(e)&&function(t,e){const n=Zn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,ze(s)?s.setProperty(u,r,i):xm(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(fe(),function(){const t=z.lFrame;return vm(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),Dt}function qy(t,e,n,r,i){const o=i?"class":"style";wx(t,n,e.inputs[o],o,r)}function N(t,e,n,r){const i=I(),s=fe(),o=20+t,a=i[11],u=i[o]=ry(a,e,z.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=wa(e,t,2,i,is(a,s));return by(e,n,c,is(a,o)),null!==c.attrs&&Vh(c,c.attrs,!1),null!==c.mergedAttrs&&Vh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Yr(c,!0);const l=c.mergedAttrs;null!==l&&gh(a,u,l);const d=c.classes;null!==d&&cy(a,u,d);const h=c.styles;null!==h&&LS(a,u,h),64!=(64&c.flags)&&Rh(s,i,u,c),0===z.lFrame.elementDepthCount&&sn(u,i),z.lFrame.elementDepthCount++,oh(c)&&(Cy(s,i,c),function(t,e,n){if(pm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&Iy(i,c)}function k(){let t=ft();Cm()?z.lFrame.isParent=!1:(t=t.parent,Yr(t,!1));const e=t;z.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&(hh(n,t),pm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qy(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qy(n,e,I(),e.stylesWithoutHost,!1)}function Ln(t,e,n,r){N(t,e,n,r),k()}function Fa(){return I()}function qc(t){return!!t&&"function"==typeof t.then}const $h=function(t){return!!t&&"function"==typeof t.subscribe};function ve(t,e,n,r){const i=I(),s=fe(),o=ft();return function(t,e,n,r,i,s,o,a){const u=oh(r),l=t.firstCreatePass&&yx(t),d=e[8],h=mx(e);let f=!0;if(3&r.type||a){const g=fr(r,e),v=a?a(g):g,_=h.length,T=a?R=>a(st(R[r.index])):r.index;if(ze(n)){let R=null;if(!a&&u&&(R=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,f=!1;else{s=Wy(r,e,d,s,!1);const G=n.listen(v,i,s);h.push(s,G),l&&l.push(i,T,_,_+1)}}else s=Wy(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),l&&l.push(i,T,_,o)}else s=Wy(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let v=0;v<g;v+=2){const Oe=e[m[v]][m[v+1]].subscribe(s),Nn=h.length;h.push(s,Oe),l&&l.push(i,r.index,Nn,-(Nn+1))}}}(s,i,i[11],o,t,e,!!n,r),ve}function gM(t,e,n,r){try{return!1!==n(r)}catch(i){return vx(t,i),!1}}function Wy(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Zn(t.index,e):e;0==(32&e[2])&&Ay(a);let u=gM(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=gM(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ds(t=1){return function(t){return(z.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,z.lFrame.contextLView))[8]}(t)}function DM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Mr(s):Ai(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];vq(t[a],e)&&(u=!0,t[a+1]=r?hy(l):ly(l)),a=r?Mr(l):Ai(l)}u&&(t[n+1]=r?ly(s):hy(s))}function vq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ha(t,e)>=0}function Hh(t,e){return function(t,e,n,r){const i=I(),s=fe(),o=function(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[vn()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wc(n=Ky(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ky(i,t,e,n,r),null===s){let u=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ai(r))return t[Mr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Ky(null,t,e,u[1],r),u=Wc(u,e.attrs,r),function(t,e,n,r){t[Mr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Wc(r,t[s].hostAttrs,n);return Wc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Mr(o),u=Ai(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||ha(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Mr(t[a+1]);t[r+1]=kh(h,a),0!==h&&(t[h+1]=dy(t[h+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=kh(a,0),0!==a&&(t[a+1]=dy(t[a+1],r)),a=r;else t[r+1]=kh(u,0),0===a?a=r:t[u+1]=dy(t[u+1],r),u=r;c&&(t[r+1]=ly(t[r+1])),DM(t,l,r,!0),DM(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ha(s,e)>=0&&(n[r+1]=hy(n[r+1]))}(e,l,t,r,s),o=kh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==X&&on(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Gh(function(t){return 1==(1&t)}(c)?LM(u,e,n,i,Ai(c),o):void 0)||(Gh(s)||function(t){return 2==(2&t)}(c)&&(s=LM(u,null,n,i,a,o)),function(t,e,n,r,i){const s=ze(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:nr.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=nr.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,ah(vn(),n),i,s))}(s,s.data[vn()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=se(function(t){return t instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Hh}function Ky(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Wc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Wc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),er(t,o,!!n||e[++s]))}return void 0===t?null:t}function LM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===X&&(h=d?Ae:void 0);let f=d?Fm(h,r):l===r?h:void 0;if(c&&!Gh(f)&&(f=Fm(u,r)),Gh(f)&&(a=f,o))return a;const p=t[i+1];i=o?Mr(p):Ai(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Fm(u,r))}return a}function Gh(t){return void 0!==t}function jt(t,e=""){const n=I(),r=fe(),i=t+20,s=r.firstCreatePass?wa(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return ze(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Rh(r,n,o,s),Yr(s,!1)}function Va(t){return qh("",t,""),Va}function qh(t,e,n){const r=I(),i=function(t,e,n,r){return on(t,sa(),n)?e+J(n)+r:X}(r,t,e,n);return i!==X&&Si(r,vn(),i),qh}const no=void 0;var eW=["en",[["a","p"],["AM","PM"],no],[["AM","PM"],no,no],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],no,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],no,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",no,"{1} 'at' {0}",no],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ua={};function sR(t){return t in Ua||(Ua[t]=Ce.ng&&Ce.ng.common&&Ce.ng.common.locales&&Ce.ng.common.locales[t]),Ua[t]}var M=(()=>((M=M||{})[M.LocaleId=0]="LocaleId",M[M.DayPeriodsFormat=1]="DayPeriodsFormat",M[M.DayPeriodsStandalone=2]="DayPeriodsStandalone",M[M.DaysFormat=3]="DaysFormat",M[M.DaysStandalone=4]="DaysStandalone",M[M.MonthsFormat=5]="MonthsFormat",M[M.MonthsStandalone=6]="MonthsStandalone",M[M.Eras=7]="Eras",M[M.FirstDayOfWeek=8]="FirstDayOfWeek",M[M.WeekendRange=9]="WeekendRange",M[M.DateFormat=10]="DateFormat",M[M.TimeFormat=11]="TimeFormat",M[M.DateTimeFormat=12]="DateTimeFormat",M[M.NumberSymbols=13]="NumberSymbols",M[M.NumberFormats=14]="NumberFormats",M[M.CurrencyCode=15]="CurrencyCode",M[M.CurrencySymbol=16]="CurrencySymbol",M[M.CurrencyName=17]="CurrencyName",M[M.Currencies=18]="Currencies",M[M.Directionality=19]="Directionality",M[M.PluralCase=20]="PluralCase",M[M.ExtraData=21]="ExtraData",M))();const Wh="en-US";let oR=Wh;function Jy(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jy(t[s],e,n,r,i);else{const s=fe(),o=I();let a=ba(t)?t:U(t.provide),u=bx(t);const c=ft(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ba(t)||!t.multi){const f=new _c(u,i,E),p=Xy(a,e,i?l:l+h,d);-1===p?(vh(wc(c,o),s,a),Zy(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Xy(a,e,l+h,d),p=Xy(a,e,l,l+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){vh(wc(c,o),s,a);const v=function(t,e,n,r,i){const s=new _c(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,MR(s,i,r&&!n),s}(i?ZW:JW,n.length,i,r,u);!i&&g&&(n[p].providerFactory=v),Zy(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else Zy(s,t,f>-1?f:p,MR(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Zy(t,e,n,r){const i=ba(e);if(i||function(t){return!!t.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=a.indexOf(n);-1===u?a.push(n,[r,o]):a[u+1].push(r,o)}else a.push(n,o)}}}function MR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function JW(t,e,n,r){return e_(this.multi,[])}function ZW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ec(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),e_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],e_(i,s);return s}function e_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=fe();if(r.firstCreatePass){const i=Sr(t);Jy(n,r.data,r.blueprint,i,!0),Jy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class RR{}const kR="ngComponent";class tz{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${se(t)}. Did you add it to @NgModule.entryComponents?`);return e[kR]=t,e}(e)}}let ro=(()=>{class t{}return t.NULL=new tz,t})();function Jh(...t){}function ja(t,e){return new Tt(fr(t,e))}const iz=function(){return ja(ft(),I())};let Tt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=iz,t})();class Zh{}let Ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oz(),t})();const oz=function(){const t=I(),n=Zn(ft().index,t);return function(t){return t[11]}(Qr(n)?n:t)};let n_=(()=>{class t{}return t.\u0275prov=Z({token:t,providedIn:"root",factory:()=>null}),t})();class $a{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const r_=new $a("13.0.2"),Ha={};function Xh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(st(s)),Ar(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Xh(u[1],u,c,r)}const o=n.type;if(8&o)Xh(t,e,n.child,r);else if(32&o){const a=Xm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=PS(e,n);if(Array.isArray(a))r.push(...a);else{const u=Oc(e[16]);Xh(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Jc{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Xh(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ar(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(iy(e,r),Ys(n,r))}this._attachedToViewContainer=!1}DS(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=mx(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&yx(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Ay(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){xy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ch(!0);try{xy(t,e,n)}finally{ch(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Fc(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class cz extends Jc{constructor(e){super(e),this._view=e}detectChanges(){gx(this._view)}checkNoChanges(){!function(t){ch(!0);try{gx(t)}finally{ch(!1)}}(this._view)}get context(){return null}}class OR extends ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=tn(e);return new i_(n,this.ngModule)}}function FR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const dz=new ee("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yS});class i_ extends RR{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map(m3).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return FR(this.componentDef.inputs)}get outputs(){return FR(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ha,i);return s!==Ha||r===Ha?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Zh,pA),a=s.get(n_,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(ze(t))return t.selectRootElement(e,n===Yn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):ry(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||yS,clean:rG,playerHandler:e||null,flags:0}}(),f=Fh(0,null,null,1,0,null,null,null,null,null),p=Lc(null,f,h,d,null,null,o,u,a,s);let m,g;lh(p);try{const v=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=wa(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Vh(u,c,!0),null!==t&&(gh(i,t,c),null!==u.classes&&cy(i,t,u.classes),null!==u.styles&&LS(i,t,u.styles)));const l=r.createRenderer(t,e),d=Lc(n,rx(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(vh(wc(u,n),o,e.type),dx(o,u),hx(u,n.length,1)),Lh(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)gh(u,l,["ng-version",r_.full]);else{const{attrs:_,classes:T}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!xr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&gh(u,l,_),T&&T.length>0&&cy(u,l,T.join(" "))}if(g=vm(f,20),void 0!==n){const _=g.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const R=n[T];_.push(null!=R?Array.from(R):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ft();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),fx(t,r,e,Ea(t,e,1,null),n));const i=Ec(e,t,r.directiveStart,r);sn(i,e);const s=fr(r,e);return s&&sn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ft();e.contentQueries(1,o,u.directiveStart)}const a=ft();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ss(a.index),cx(n[1],a,0,a.directiveStart,a.directiveEnd,e),lx(e,o)),o}(v,this.componentDef,p,h,[xG]),Vc(f,p,null)}finally{dh()}return new pz(this.componentType,m,ja(g,p),p,g)}}class pz extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new cz(i),this.componentType=e}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class oi{}class LR{}const Ga=new Map;class UR extends oi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new OR(this);const r=lr(e);this._bootstrapComponents=ei(r.bootstrap),this._r3Injector=Ix(e,n,[{provide:oi,useValue:this},{provide:ro,useValue:this.componentFactoryResolver}],se(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=_e.THROW_IF_NOT_FOUND,r=j.Default){return e===_e||e===oi||e===Uc?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class o_ extends LR{constructor(e){super(),this.moduleType=e,null!==lr(e)&&function(t){const e=new Set;!function n(r){const i=lr(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${se(e)} vs ${se(e.name)}`)}(s,Ga.get(s),r),Ga.set(s,r));const o=ei(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new UR(this.moduleType,e)}}function a_(t){return e=>{setTimeout(t,void 0,e)}}const Ye=class extends vi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var u,c,l;let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const d=e;i=null==(u=d.next)?void 0:u.bind(d),s=null==(c=d.error)?void 0:c.bind(d),o=null==(l=d.complete)?void 0:l.bind(d)}this.__isAsync&&(s=a_(s),i&&(i=a_(i)),o&&(o=a_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof it&&e.add(a),a}};Symbol;const Lz=function(){return function(t,e){return 4&t.type?new Uz(e,t,ja(t,e)):null}(ft(),I())};let Ni=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lz,t})();const Vz=Ni,Uz=class extends Vz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Lc(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Vc(n,r,e),new Jc(r)}};const $z=function(){return function(t,e){let n;const r=e[t.index];if(Ar(r))n=r;else{let i;if(8&t.type)i=st(r);else{const s=e[11];i=s.createComment("");const o=fr(t,e);eo(s,Mh(s,o),i,function(t,e){return ze(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=px(r,e,i,t),Lh(e,n)}return new qR(n,t,e)}(ft(),I())};let Pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=$z,t})();const Gz=Pr,qR=class extends Gz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const e=_h(this._hostTNode,this._hostLView);if(MA(e)){const n=aa(e,this._hostLView),r=oa(e);return new ua(n[1].data[r+8],n)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=WR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new i_(tn(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(oi,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(Ar(r[3])){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new qR(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Eh(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=ay(s,o),u=r[11],c=Mh(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Fc(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),Eh(u_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=WR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=iy(this._lContainer,n);r&&(Ys(u_(this._lContainer),n),DS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=iy(this._lContainer,n);return r&&null!=Ys(u_(this._lContainer),n)?new Jc(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function WR(t){return t[8]}function u_(t){return t[8]||(t[8]=[])}const tl=new ee("Application Initializer");let Wa=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Jh,this.reject=Jh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(qc(s))n.push(s);else if($h(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(O(tl,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const nl=new ee("AppId"),A8={provide:nl,useFactory:function(){return`${C_()}${C_()}${C_()}`},deps:[]};function C_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mN=new ee("Platform Initializer"),rl=new ee("Platform ID"),yN=new ee("appBootstrapListener");let sf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const hs=new ee("LocaleId"),_N=new ee("DefaultCurrencyCode");class x8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const I_=function(t){return new o_(t)},M8=I_,R8=function(t){return Promise.resolve(I_(t))},wN=function(t){const e=I_(t),r=ei(lr(t).declarations).reduce((i,s)=>{const o=tn(s);return o&&i.push(new i_(o)),i},[]);return new x8(e,r)},N8=wN,k8=function(t){return Promise.resolve(wN(t))};let of=(()=>{class t{constructor(){this.compileModuleSync=M8,this.compileModuleAsync=R8,this.compileModuleAndAllComponentsSync=N8,this.compileModuleAndAllComponentsAsync=k8}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const F8=(()=>Promise.resolve(0))();function b_(t){"undefined"==typeof Zone?F8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ce.requestAnimationFrame,e=Ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ce,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,T_(t),t.isCheckStableRunning=!0,D_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),T_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return EN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),CN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return EN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),CN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,T_(t),D_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ve.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ve.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,V8,Jh,Jh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const V8={};function D_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function T_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function EN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CN(t){t._nesting--,D_(t)}class j8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let A_=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ve.assertNotInAngularZone(),b_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())b_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(O(Ve))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),IN=(()=>{class t{constructor(){this._applications=new Map,S_.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return S_.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class $8{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let S_=new $8,bN=!0,DN=!1;let Or;const AN=new ee("AllowMultipleToken");class x_{constructor(e,n){this.name=e,this.token=n}}function SN(t,e,n=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=xN();if(!o||o.injector.get(AN,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Bc,useValue:"platform"});!function(t){if(Or&&!Or.destroyed&&!Or.injector.get(AN,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Or=t.get(MN);const e=t.get(mN,null);e&&e.forEach(n=>n())}(_e.create({providers:a,name:r}))}return function(t){const e=xN();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function xN(){return Or&&!Or.destroyed?Or:null}let MN=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new j8:("zone.js"===t?void 0:t)||new Ve({enableLongStackTrace:(DN=!0,bN),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ve,useValue:a}];return a.run(()=>{const c=_e.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Xs,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{M_(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return qc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Wa);return h.runInitializers(),h.donePromise.then(()=>(function(t){Qn(t,"Expected localeId to be defined"),"string"==typeof t&&(oR=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(hs,Wh)||Wh),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=RN({},r);return function(t,e,n){const r=new o_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(za);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${se(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(O(_e))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function RN(t,e){return Array.isArray(e)?e.reduce(RN,t):B(B({},t),e)}let za=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new xe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new xe(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),b_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=dc(t),n=function(t,e){return"number"==typeof rm(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?Kr(r[0]):lc(n)(It(r,e)):Ei}(a,u.pipe(function(t={}){const{connector:e=(()=>new vi),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Bt((m,g)=>{c++,!d&&!l&&h();const v=u=null!=u?u:e();g.add(()=>{c--,0===c&&!d&&!l&&(a=im(p,i))}),v.subscribe(g),o||(o=new le({next:_=>v.next(_),error:_=>{d=!0,h(),a=im(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=im(f,r),v.complete()}}),It(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof RR?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(oi),a=i.create(_e.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(A_,null),l=c&&a.injector.get(IN);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),M_(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;M_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(yN,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(O(Ve),O(_e),O(Xs),O(ro),O(Wa))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function M_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const r4=function(t){return function(t,e,n){if(sh(t)&&!n){const r=Zn(t.index,e);return new Jc(r,r)}return 47&t.type?new Jc(e[16],e):null}(ft(),I(),16==(16&t))};let N_=(()=>{class t{}return t.__NG_ELEMENT_ID__=r4,t})();class VN{constructor(){}supports(e){return Hc(e)}create(e){return new m4(e)}}const g4=(t,e)=>e;class m4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||g4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<BN(r,i,s)?n:r,a=BN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Hc(e))throw new Error(`Error trying to diff '${se(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Da()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new y4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new UN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class y4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class UN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new _4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class jN{constructor(){}supports(e){return e instanceof Map||Uy(e)}create(){return new v4}}class v4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Uy(e)))throw new Error(`Error trying to diff '${se(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new w4(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class w4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $N(){return new il([new VN])}let il=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||$N()),deps:[[t,new us,new Le]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=Z({token:t,providedIn:"root",factory:$N}),t})();function HN(){return new Ka([new jN])}let Ka=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||HN()),deps:[[t,new us,new Le]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=Z({token:t,providedIn:"root",factory:HN}),t})();const C4=[new jN],b4=new il([new VN]),D4=new Ka(C4),T4=SN(null,"core",[{provide:rl,useValue:"unknown"},{provide:MN,deps:[_e]},{provide:IN,deps:[]},{provide:sf,deps:[]}]),R4=[{provide:za,useClass:za,deps:[Ve,_e,Xs,ro,Wa]},{provide:dz,deps:[Ve],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Wa,useClass:Wa,deps:[[new Le,tl]]},{provide:of,useClass:of,deps:[]},A8,{provide:il,useFactory:function(){return b4},deps:[]},{provide:Ka,useFactory:function(){return D4},deps:[]},{provide:hs,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Wh},deps:[[new ga(hs),new Le,new us]]},{provide:_N,useValue:"USD"}];let k4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(O(za))},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({providers:R4}),t})(),wf=null;function ai(){return wf}const $t=new ee("DocumentToken");let uo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:function(){return O(A1)},providedIn:"platform"}),t})();const A7=new ee("Location Initialized");let A1=(()=>{class t extends uo{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ai().getBaseHref(this._doc)}onPopState(n){const r=ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){S1()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){S1()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(O($t))},t.\u0275prov=Z({token:t,factory:function(){return new A1(O($t))},providedIn:"platform"}),t})();function S1(){return!!window.history.pushState}function sv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function x1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Pi(t){return t&&"?"!==t[0]?"?"+t:t}let eu=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:function(){return function(t){const e=O($t).location;return new M1(O(uo),e&&e.origin||"")}()},providedIn:"root"}),t})();const ov=new ee("appBaseHref");let M1=(()=>{class t extends eu{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Pi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Pi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Pi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(O(uo),O(ov,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),M7=(()=>{class t extends eu{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=sv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Pi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Pi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(O(uo),O(ov,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),av=(()=>{class t{constructor(n,r){this._subject=new Ye,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=x1(R1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Pi(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,R1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pi(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Pi,t.joinWithSlash=sv,t.stripTrailingSlash=x1,t.\u0275fac=function(n){return new(n||t)(O(eu),O(uo))},t.\u0275prov=Z({token:t,factory:function(){return new av(O(eu),O(uo))},providedIn:"root"}),t})();function R1(t){return t.replace(/\/index.html$/,"")}var ot=(()=>((ot=ot||{})[ot.Zero=0]="Zero",ot[ot.One=1]="One",ot[ot.Two=2]="Two",ot[ot.Few=3]="Few",ot[ot.Many=4]="Many",ot[ot.Other=5]="Other",ot))();const U7=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=sR(e);if(n)return n;const r=e.split("-")[0];if(n=sR(r),n)return n;if("en"===r)return eW;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[M.PluralCase]};class Mf{}let p5=(()=>{class t extends Mf{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(U7(r||this.locale)(n)){case ot.Zero:return"zero";case ot.One:return"one";case ot.Two:return"two";case ot.Few:return"few";case ot.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(O(hs))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class _5{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let B1=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new _5(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new j1(i,a);r.push(u)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const u=new j1(i,a);r.push(u)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(Pr),E(Ni),E(il))},t.\u0275dir=q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j1{constructor(e,n){this.record=e,this.view=n}}let _l=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new w5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(Pr),E(Ni))},t.\u0275dir=q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class w5{constructor(){this.$implicit=null,this.ngIf=null}}function $1(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${se(e)}'.`)}let wv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({providers:[{provide:Mf,useClass:p5}]}),t})();let Y5=(()=>{class t{}return t.\u0275prov=Z({token:t,providedIn:"root",factory:()=>new J5(O($t),window)}),t})();class J5{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=W1(this.window.history)||W1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function W1(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ev extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Ev,wf||(wf=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(vl=vl||document.querySelector("base"),vl?vl.getAttribute("href"):null);return null==n?null:function(t){Rf=Rf||document.createElement("a"),Rf.setAttribute("href",t);const e=Rf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Rf,vl=null;const z1=new ee("TRANSITION_ID"),iK=[{provide:tl,useFactory:function(t,e,n){return()=>{n.get(Wa).donePromise.then(()=>{const r=ai(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[z1,$t,_e],multi:!0}];class Cv{static init(){var t;t=new Cv,S_=t}addToWindow(e){Ce.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ce.getAllAngularRootElements=()=>e.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(r=>{const i=Ce.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?ai().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let sK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const wl=new ee("EventManagerPlugins");let kf=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(O(wl),O(Ve))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class Iv{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ai().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Q1=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),El=(()=>{class t extends Q1{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Y1),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Y1))}}return t.\u0275fac=function(n){return new(n||t)(O($t))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function Y1(t){ai().remove(t)}const bv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dv=/%COMP%/g;function Pf(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Pf(t,i,n):(i=i.replace(Dv,t),n.push(i))}return n}function X1(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Tv=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Av(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Yn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new wK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Yn.ShadowDom:return new EK(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Pf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(O(kf),O(El),O(nl))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class Av{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(bv[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=bv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=bv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(nr.DashCase|nr.Important)?e.style.setProperty(n,r,i&nr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&nr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,X1(r)):this.eventManager.addEventListener(e,n,X1(r))}}class wK extends Av{constructor(e,n,r,i){super(e),this.component=r;const s=Pf(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Dv,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Dv,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class EK extends Av{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Pf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let CK=(()=>{class t extends Iv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(O($t))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const nk=["alt","control","meta","shift"],xK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},MK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let RK=(()=>{class t extends Iv{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ai().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(nk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&rk.hasOwnProperty(e)&&(e=rk[e]))}return xK[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nk.forEach(s=>{s!=i&&MK[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(O($t))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const LK=[{provide:rl,useValue:"browser"},{provide:mN,useValue:function(){Ev.makeCurrent(),Cv.init()},multi:!0},{provide:$t,useFactory:function(){return t=document,ym=t,document;var t},deps:[]}],UK=SN(T4,"browser",LK),BK=[[],{provide:Bc,useValue:"root"},{provide:Xs,useFactory:function(){return new Xs},deps:[]},{provide:wl,useClass:CK,multi:!0,deps:[$t,Ve,rl]},{provide:wl,useClass:RK,multi:!0,deps:[$t]},[],{provide:Tv,useClass:Tv,deps:[kf,El,nl]},{provide:Zh,useExisting:Tv},{provide:Q1,useExisting:El},{provide:El,useClass:El,deps:[$t]},{provide:A_,useClass:A_,deps:[Ve]},{provide:kf,useClass:kf,deps:[wl,Ve]},{provide:class{},useClass:sK,deps:[]},[]];let jK=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:nl,useValue:n.appId},{provide:z1,useExisting:nl},iK]}}}return t.\u0275fac=function(n){return new(n||t)(O(t,12))},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({providers:BK,imports:[wv,k4]}),t})();function ie(...t){return It(t,dc(t))}"undefined"!=typeof window&&window;class $r extends vi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:QK}=Array,{getPrototypeOf:YK,prototype:JK,keys:ZK}=Object;function sk(t){if(1===t.length){const e=t[0];if(QK(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&YK(t)===JK}(e)){const n=ZK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:e9}=Array;function ok(t){return Me(e=>function(t,e){return e9(e)?t(...e):t(e)}(t,e))}function ak(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function uk(t,e,n){t?wi(n,t,e):e()}const Of=Ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Nv(...t){return lc(1)(It(t,dc(t)))}function ck(t){return new xe(e=>{Kr(t()).subscribe(e)})}function lk(){return Bt((t,e)=>{let n=null;t._refCount++;const r=new Et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class s9 extends xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,O0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new it;const n=this.getSubject();e.add(this.source.subscribe(new Et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=it.EMPTY)}return e}refCount(){return lk()(this)}}function co(t,e){return Bt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new Et(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Kr(t(u,l)).subscribe(i=new Et(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function a9(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new Et(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function dk(t,e){return Bt(a9(t,e,arguments.length>=2,!0))}function tu(t,e){return Bt((n,r)=>{let i=0;n.subscribe(new Et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ms(t){return Bt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new Et(n,void 0,void 0,o=>{s=Kr(t(o,ms(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Cl(t,e){return Te(e)?Ct(t,e,1):Ct(t,1)}function kv(t){return t<=0?()=>Ei:Bt((e,n)=>{let r=[];e.subscribe(new Et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hk(t=u9){return Bt((e,n)=>{let r=!1;e.subscribe(new Et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function u9(){return new Of}function fk(t){return Bt((e,n)=>{let r=!1;e.subscribe(new Et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?tu((i,s)=>t(i,s,r)):Bs,hc(1),n?fk(e):hk(()=>new Of))}function Un(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Bt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Et(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Bs}class Fi{constructor(e,n){this.id=e,this.url=n}}class Pv extends Fi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends Fi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pk extends Fi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class d9 extends Fi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h9 extends Fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f9 extends Fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p9 extends Fi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class g9 extends Fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m9 extends Fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gk{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mk{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class y9{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _9{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v9{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w9{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yk{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class E9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ru(t){return new E9(t)}const _k="ngNavigationCancelingError";function Ov(t){const e=Error("NavigationCancelingError: "+t);return e[_k]=!0,e}function I9(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ui(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vk(t[i],e[i]))return!1;return!0}function vk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function wk(t){return Array.prototype.concat.apply([],t)}function Ek(t){return t.length>0?t[t.length-1]:null}function Ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ci(t){return $h(t)?t:qc(t)?It(Promise.resolve(t)):ie(t)}const T9={exact:function bk(t,e,n){if(!ho(t.segments,e.segments)||!Ff(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!bk(t.children[r],e.children[r],n))return!1;return!0},subset:Dk},Ck={exact:function(t,e){return ui(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vk(t[n],e[n]))},ignored:()=>!0};function Ik(t,e,n){return T9[n.paths](t.root,e.root,n.matrixParams)&&Ck[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Dk(t,e,n){return Tk(t,e,e.segments,n)}function Tk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ho(i,n)||e.hasChildren()||!Ff(i,n,r))}if(t.segments.length===n.length){if(!ho(t.segments,n)||!Ff(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Dk(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ho(t.segments,i)&&Ff(t.segments,i,r)&&t.children[ue])&&Tk(t.children[ue],e,s,r)}}function Ff(t,e,n){return e.every((r,i)=>Ck[n](t[i].parameters,r.parameters))}class lo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return R9.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ht(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lf(this)}}class bl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ru(this.parameters)),this._parameterMap}toString(){return Rk(this)}}function ho(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class Ak{}class Sk{parse(e){const n=new B9(e);return new lo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Dl(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Vf(n)}=${Vf(i)}`).join("&"):`${Vf(n)}=${Vf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);var t;return`${n}${r}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const R9=new Sk;function Lf(t){return t.segments.map(e=>Rk(e)).join("/")}function Dl(t,e){if(!t.hasChildren())return Lf(t);if(e){const n=t.children[ue]?Dl(t.children[ue],!1):"",r=[];return Ht(t.children,(i,s)=>{s!==ue&&r.push(`${s}:${Dl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Ht(t.children,(r,i)=>{i===ue&&(n=n.concat(e(r,i)))}),Ht(t.children,(r,i)=>{i!==ue&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ue?[Dl(t.children[ue],!1)]:[`${i}:${Dl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ue]?`${Lf(t)}/${n[0]}`:`${Lf(t)}/(${n.join("//")})`}}function xk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vf(t){return xk(t).replace(/%3B/gi,";")}function Fv(t){return xk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uf(t){return decodeURIComponent(t)}function Mk(t){return Uf(t.replace(/\+/g,"%20"))}function Rk(t){return`${Fv(t.path)}${function(t){return Object.keys(t).map(e=>`;${Fv(e)}=${Fv(t[e])}`).join("")}(t.parameters)}`}const O9=/^[^\/()?;=#]+/;function Bf(t){const e=t.match(O9);return e?e[0]:""}const F9=/^[^=?&#]+/,V9=/^[^&#]+/;class B9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new de(e,n)),r}parseSegment(){const e=Bf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new bl(Uf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Bf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Bf(this.remaining);i&&(r=i,this.capture(r))}e[Uf(n)]=Uf(r)}parseQueryParam(e){const n=function(t){const e=t.match(F9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(V9);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Mk(n),s=Mk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ue]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Nk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Lv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Lv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Vv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vv(e,this._root).map(n=>n.value)}}function Lv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Lv(t,n);if(r)return r}return null}function Vv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Vv(t,n);if(r.length)return r.unshift(e),r}return[]}class Li{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function iu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class kk extends Nk{constructor(e,n){super(e),this.snapshot=n,Uv(this,e)}toString(){return this.snapshot.toString()}}function Pk(t,e){const n=function(t,e){const o=new jf([],{},{},"",{},ue,e,null,t.root,-1,{});return new Fk("",new Li(o,[]))}(t,e),r=new $r([new bl("",{})]),i=new $r({}),s=new $r({}),o=new $r({}),a=new $r(""),u=new su(r,i,o,a,s,ue,e,n.root);return u.snapshot=n.root,new kk(new Li(u,[]),n)}class su{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Me(e=>ru(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Me(e=>ru(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ok(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jf{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fk extends Nk{constructor(e,n){super(n),this.url=e,Uv(this,n)}toString(){return Lk(this._root)}}function Uv(t,e){e.value._routerState=t,e.children.forEach(n=>Uv(t,n))}function Lk(t){const e=t.children.length>0?` { ${t.children.map(Lk).join(", ")} } `:"";return`${t.value}${e}`}function Bv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ui(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ui(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ui(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ui(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function jv(t,e){const n=ui(t.params,e.params)&&function(t,e){return ho(t,e)&&t.every((n,r)=>ui(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||jv(t.parent,e.parent))}function Tl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Tl(t,r,i);return Tl(t,r)})}(t,e,n);return new Li(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Tl(t,a)),o}}const r=function(t){return new su(new $r(t.url),new $r(t.params),new $r(t.queryParams),new $r(t.fragment),new $r(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Tl(t,s));return new Li(r,i)}}function $f(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Al(t){return"object"==typeof t&&null!=t&&t.outlets}function $v(t,e,n,r,i){let s={};return r&&Ht(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new lo(n.root===t?e:Vk(n.root,t,e),s,i)}function Vk(t,e,n){const r={};return Ht(t.children,(i,s)=>{r[s]=i===e?n:Vk(i,e,n)}),new de(t.segments,r)}class Uk{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$f(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Al);if(i&&i!==Ek(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hv{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Bk(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return Hf(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Al(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!$k(u,c,o))return s;r+=2}else{if(!$k(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new de(t.segments.slice(r.pathIndex),t.children),Hf(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?Gv(t,e,n):r.match?Hf(t,0,i):Gv(t,e,n)}function Hf(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function(t){return Al(t[0])?t[0].outlets:{[ue]:t}}(n),i={};return Ht(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Bk(t.children[o],e,s))}),Ht(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function Gv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Al(s)){const u=Z9(s.outlets);return new de(r,u)}if(0===i&&$f(n[0])){r.push(new bl(t.segments[e].path,jk(n[0]))),i++;continue}const o=Al(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&$f(a)?(r.push(new bl(o,jk(a))),i+=2):(r.push(new bl(o,{})),i++)}return new de(r,{})}function Z9(t){const e={};return Ht(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Gv(new de([],{}),0,n))}),e}function jk(t){const e={};return Ht(t,(n,r)=>e[r]=`${n}`),e}function $k(t,e,n){return t==n.path&&ui(e,n.parameters)}class eQ{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=iu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ht(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=iu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=iu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=iu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new w9(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _9(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Bv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Bv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class qv{constructor(e,n){this.routes=e,this.module=n}}function ys(t){return"function"==typeof t}function fo(t){return t instanceof lo}const Sl=Symbol("INITIAL_VALUE");function xl(){return co(t=>function(...t){const e=dc(t),n=Q0(t),{args:r,keys:i}=sk(t);if(0===r.length)return It([],e);const s=new xe(function(t,e,n=Bs){return r=>{uk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)uk(e,()=>{const c=It(t[u],e);let l=!1;c.subscribe(new Et(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ak(i,o):Bs));return n?s.pipe(ok(n)):s}(t.map(e=>e.pipe(hc(1),function(...t){const e=dc(t);return Bt((n,r)=>{(e?Nv(t,n,e):Nv(t,n)).subscribe(r)})}(Sl)))).pipe(dk((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Sl?i:(s===Sl&&(r=!0),r||!1!==s&&o!==n.length-1&&!fo(s)?i:s),e)},Sl),tu(e=>e!==Sl),Me(e=>fo(e)?e:!0===e),hc(1)))}class aQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ml,this.attachRef=null}}class Ml{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new aQ,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Wv=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.name=s||ue,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new uQ(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(E(Ml),E(Pr),E(ro),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(SA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ft(),t)}("name"),E(N_))},t.\u0275dir=q({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class uQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===su?this.route:e===Ml?this.childContexts:this.parent.get(e,n)}}let Hk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Dr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Ln(0,"router-outlet")},directives:[Wv],encapsulation:2}),t})();function Gk(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];cQ(r,lQ(e,r))}}function cQ(t,e){t.children&&Gk(t.children,e)}function lQ(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function zv(t){const e=t.children&&t.children.map(zv),n=e?Vt(B({},t),{children:e}):B({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=Hk),n}function wr(t){return t.outlet||ue}function qk(t,e){const n=t.filter(r=>wr(r)===e);return n.push(...t.filter(r=>wr(r)!==e)),n}const Wk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gf(t,e,n){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?B({},Wk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||I9)(n,t,e);if(!i)return B({},Wk);const s={};Ht(i.posParams,(u,c)=>{s[c]=u.path});const o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!=(a=i.posParams)?a:{}}}function qf(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Wf(t,e,r)&&wr(r)!==ue)}(t,n,r)){const o=new de(e,function(t,e,n,r){const i={};i[ue]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&wr(s)!==ue){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[wr(s)]=o}return i}(t,e,r,new de(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Wf(t,e,r))}(t,n,r)){const o=new de(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Wf(t,n,a)&&!i[wr(a)]){const u=new de([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[wr(a)]=u}return B(B({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new de(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Wf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function zk(t,e,n,r){return!!(wr(t)===r||r!==ue&&Wf(e,n,t))&&("**"===t.path||Gf(e,t,n).matched)}function Kk(t,e,n){return 0===e.length&&!t.children[n]}class Rl{constructor(e){this.segmentGroup=e||null}}class Qk{constructor(e){this.urlTree=e}}function zf(t){return new xe(e=>e.error(new Rl(t)))}function Yk(t){return new xe(e=>e.error(new Qk(t)))}function gQ(t){return new xe(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class _Q{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(oi)}apply(){const e=qf(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ue).pipe(Me(s=>this.createUrlTree(Kv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ms(s=>{if(s instanceof Qk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Rl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ue).pipe(Me(i=>this.createUrlTree(Kv(i),e.queryParams,e.fragment))).pipe(ms(i=>{throw i instanceof Rl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new de([],{[ue]:e}):e;return new lo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Me(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return It(i).pipe(Cl(s=>{const o=r.children[s],a=qk(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(Me(u=>({segment:u,outlet:s})))}),dk((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?tu((i,s)=>t(i,s,r)):Bs,kv(1),n?fk(e):hk(()=>new Of))}())}expandSegment(e,n,r,i,s,o){return It(r).pipe(Cl(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ms(c=>{if(c instanceof Rl)return ie(null);throw c}))),nu(a=>!!a),ms((a,u)=>{if(a instanceof Of||"EmptyError"===a.name){if(Kk(n,i,s))return ie(new de([],{}));throw new Rl(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return zk(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):zf(n):zf(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Yk(s):this.lineralizeSegments(r,s).pipe(Ct(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Gf(n,i,s);if(!a)return zf(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?Yk(d):this.lineralizeSegments(i,d).pipe(Ct(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ie(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Me(h=>(r._loadedConfig=h,new de(i,{})))):ie(new de(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Gf(n,r,i);if(!o)return zf(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Ct(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=qf(n,a,c,f),g=new de(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(Me(R=>new de(a,R)));if(0===f.length&&0===m.length)return ie(new de(a,{}));const v=wr(r)===s;return this.expandSegment(h,g,f,m,v?ue:s,!0).pipe(Me(T=>new de(a.concat(T.segments),T.children)))}))}getChildConfig(e,n,r){return n.children?ie(new qv(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ie(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Ct(i=>{return i?this.configLoader.load(e.injector,n).pipe(Me(s=>(n._loadedConfig=s,s))):(t=n,new xe(e=>e.error(Ov(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):ie(new qv([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ie(i.map(o=>{const a=e.get(o);let u;if((t=a)&&ys(t.canLoad))u=a.canLoad(n,r);else{if(!ys(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}var t;return ci(u)})).pipe(xl(),Un(o=>{if(!fo(o))return;const a=Ov(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Me(o=>!0===o)):ie(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[ue])return gQ(e.redirectTo);i=i.children[ue]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new lo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ht(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ht(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Kv(t){const e={};for(const r of Object.keys(t.children)){const s=Kv(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[ue]){const e=t.children[ue];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}class Jk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Kf{constructor(e,n){this.component=e,this.route=n}}function EQ(t,e,n){const r=t._root;return Nl(r,e?e._root:null,n,[r.value])}function Qf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Nl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=iu(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ho(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(t.url,e.url)||!ui(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jv(t,e)||!ui(t.queryParams,e.queryParams);default:return!jv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Kf(a.outlet.component,o))}else o&&kl(e,a,i),i.canActivateChecks.push(new Jk(r)),Nl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ht(s,(o,a)=>kl(o,n.getContext(a),i)),i}function kl(t,e,n){const r=iu(t),i=t.value;Ht(r,(s,o)=>{kl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Kf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class PQ{}function Zk(t){return new xe(e=>e.error(t))}class FQ{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=qf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ue);if(null===n)return null;const r=new jf([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Li(r,n),s=new Fk(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=Ok(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=qk(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=Xk(r);return i.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet)),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return Kk(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!zk(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?Ek(r).parameters:{};s=new jf(r,f,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,nP(e),wr(e),e.component,e,eP(n),tP(n)+r.length,rP(e))}else{const f=Gf(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new jf(o,f.parameters,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,nP(e),wr(e),e.component,e,eP(n),tP(n)+o.length,rP(e))}const u=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:l}=qf(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var t;if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Li(s,f)]}if(0===u.length&&0===l.length)return[new Li(s,[])];const d=wr(e)===i,h=this.processSegment(u,c,l,d?ue:i);return null===h?null:[new Li(s,h)]}}function UQ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Xk(t){const e=[],n=new Set;for(const r of t){if(!UQ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Xk(r.children);e.push(new Li(r.value,i))}return e.filter(r=>!n.has(r))}function eP(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function tP(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function nP(t){return t.data||{}}function rP(t){return t.resolve||{}}function Qv(t){return co(e=>{const n=t(e);return n?It(n).pipe(Me(()=>e)):ie(e)})}class zQ extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Yv=new ee("ROUTES");class iP{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new qv(wk(o.injector.get(Yv,void 0,j.Self|j.Optional)).map(zv),o)}),ms(s=>{throw n._loader$=void 0,s}));return n._loader$=new s9(i,()=>new vi).pipe(lk()),n._loader$}loadModuleFactory(e){return ci(e()).pipe(Ct(n=>n instanceof LR?ie(n):It(this.compiler.compileModuleAsync(n))))}}class QQ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function YQ(t){throw t}function JQ(t,e,n){return e.parse("/")}function sP(t,e){return ie(null)}const ZQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new vi,this.errorHandler=YQ,this.malformedUriErrorHandler=JQ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sP,afterPreactivation:sP},this.urlHandlingStrategy=new QQ,this.routeReuseStrategy=new zQ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(oi),this.console=o.get(sf);const d=o.get(Ve);this.isNgZoneEnabled=d instanceof Ve&&Ve.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new lo(new de([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iP(o,a,h=>this.triggerEvent(new gk(h)),h=>this.triggerEvent(new mk(h))),this.routerState=Pk(this.currentUrlTree,this.rootComponentType),this.transitions=new $r({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(tu(i=>0!==i.id),Me(i=>Vt(B({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),co(i=>{let s=!1,o=!1;return ie(i).pipe(Un(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Vt(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),co(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Yf(a.source)&&(this.browserUrlTree=a.extractedUrl),ie(a).pipe(co(d=>{const h=this.transitions.getValue();return r.next(new Pv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ei:Promise.resolve(d)}),function(t,e,n,r){return co(i=>function(t,e,n,r,i){return new _Q(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Me(s=>Vt(B({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Un(d=>{this.currentNavigation=Vt(B({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return Ct(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new FQ(t,e,n,r,i,s).recognize();return null===o?Zk(new PQ):ie(o)}catch(o){return Zk(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Me(o=>Vt(B({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Un(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new h9(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,v=new Pv(h,this.serializeUrl(f),p,m);r.next(v);const _=Pk(f,this.rootComponentType).snapshot;return ie(Vt(B({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Vt(B({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ei}),Qv(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Un(a=>{const u=new f9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Me(a=>Vt(B({},a),{guards:EQ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return Ct(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ie(Vt(B({},n),{guardsResult:!0})):function(t,e,n,r){return It(t).pipe(Ct(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ie(s.map(a=>{const u=Qf(a,e,i);let c;if(function(t){return t&&ys(t.canDeactivate)}(u))c=ci(u.canDeactivate(t,e,n,r));else{if(!ys(u))throw new Error("Invalid CanDeactivate guard");c=ci(u(t,e,n,r))}return c.pipe(nu())})).pipe(xl()):ie(!0)}(i.component,i.route,n,e,r)),nu(i=>!0!==i,!0))}(o,r,i,t).pipe(Ct(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return It(e).pipe(Cl(i=>Nv(function(t,e){return null!==t&&e&&e(new y9(t)),ie(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new v9(t)),ie(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>ck(()=>ie(o.guards.map(u=>{const c=Qf(u,o.node,n);let l;if(function(t){return t&&ys(t.canActivateChild)}(c))l=ci(c.canActivateChild(r,t));else{if(!ys(c))throw new Error("Invalid CanActivateChild guard");l=ci(c(r,t))}return l.pipe(nu())})).pipe(xl())));return ie(s).pipe(xl())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(s=>ck(()=>{const o=Qf(s,e,n);let a;if(function(t){return t&&ys(t.canActivate)}(o))a=ci(o.canActivate(e,t));else{if(!ys(o))throw new Error("Invalid CanActivate guard");a=ci(o(e,t))}return a.pipe(nu())}));return ie(i).pipe(xl())}(t,i.route,n))),nu(i=>!0!==i,!0))}(r,s,t,e):ie(a)),Me(a=>Vt(B({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Un(a=>{if(fo(a.guardsResult)){const c=Ov(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new p9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),tu(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Qv(a=>{if(a.guards.canActivateChecks.length)return ie(a).pipe(Un(u=>{const c=new g9(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),co(u=>{let c=!1;return ie(u).pipe(function(t,e){return Ct(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let s=0;return It(i).pipe(Cl(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ie({});const s={};return It(i).pipe(Ct(o=>function(t,e,n,r){const i=Qf(t,e,r);return ci(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Un(a=>{s[o]=a}))),kv(1),Ct(()=>Object.keys(s).length===i.length?ie(s):Ei))}(t._resolve,t,e,r).pipe(Me(s=>(t._resolvedData=s,t.data=B(B({},t.data),Ok(t,n).resolve),null)))}(o.route,r,t,e)),Un(()=>s++),kv(1),Ct(o=>s===i.length?ie(n):Ei))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Un({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Un(u=>{const c=new m9(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Qv(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Me(a=>{const u=function(t,e,n){const r=Tl(t,e._root,n?n._root:void 0);return new kk(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Vt(B({},a),{targetRouterState:u})}),Un(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>Me(r=>(new eQ(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Un({next(){s=!0},complete(){s=!0}}),function(t){return Bt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ms(a=>{if(o=!0,function(t){return t&&t[_k]}(a)){const u=fo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new pk(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yf(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new d9(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ei}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(B(B({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},s=(null==(a=n.state)?void 0:a.navigationId)?n.state:null;if(s){const u=B({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){Gk(n),this.config=n.map(zv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return $v(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Uk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ht(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Uk(n,e,r)}(n);if(s.toRoot())return $v(e.root,new de([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Hv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Hv(s,s===e.root,0)}const r=$f(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Hv(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Hf(o.segmentGroup,o.index,s.commands):Bk(o.segmentGroup,o.index,s.commands);return $v(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=fo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?B({},ZQ):!1===r?B({},XQ):r,fo(n))return Ik(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Ik(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Il(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var v,_,T;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,u=Yf(r)&&a&&!Yf(a.source),c=a.rawUrl.toString()===n.toString(),l=a.id===(null==(v=this.currentNavigation)?void 0:v.id);if(u&&c&&l)return Promise.resolve(!0);let h,f,p;o?(h=o.resolve,f=o.reject,p=o.promise):p=new Promise((R,G)=>{h=R,f=G});const m=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),g=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(_=this.browserPageId)?_:0:(null!=(T=this.browserPageId)?T:0)+1):g=0,this.setTransition({id:m,targetPageId:g,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:h,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(R=>Promise.reject(R))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=B(B({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new pk(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Gy()},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function Yf(t){return"imperative"!==t}class oP{}class aP{preload(e,n){return ie(null)}}let uP=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new iP(i,r,u=>n.triggerEvent(new gk(u)),u=>n.triggerEvent(new mk(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(tu(n=>n instanceof Il),Cl(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(oi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return It(i).pipe(lc(),Me(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ie(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Ct(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(O(bn),O(of),O(_e),O(oP))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),Xv=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Pv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Il&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof yk&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new yk(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Gy()},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const po=new ee("ROUTER_CONFIGURATION"),cP=new ee("ROUTER_FORROOT_GUARD"),iY=[av,{provide:Ak,useClass:Sk},{provide:bn,useFactory:function(t,e,n,r,i,s,o={},a,u){const c=new bn(null,t,e,n,r,i,wk(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null==(d=console.group)||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null==(h=console.groupEnd)||h.call(console)}),c},deps:[Ak,Ml,av,_e,of,Yv,po,[class{},new Le],[class{},new Le]]},Ml,{provide:su,useFactory:function(t){return t.routerState.root},deps:[bn]},uP,aP,class{preload(e,n){return n().pipe(ms(()=>ie(null)))}},{provide:po,useValue:{enableTracing:!1}}];function sY(){return new x_("Router",bn)}let lP=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[iY,dP(n),{provide:cP,useFactory:uY,deps:[[bn,new Le,new us]]},{provide:po,useValue:r||{}},{provide:eu,useFactory:aY,deps:[uo,[new ga(ov),new Le],po]},{provide:Xv,useFactory:oY,deps:[bn,Y5,po]},{provide:oP,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:aP},{provide:x_,multi:!0,useFactory:sY},[ew,{provide:tl,multi:!0,useFactory:hY,deps:[ew]},{provide:hP,useFactory:fY,deps:[ew]},{provide:yN,multi:!0,useExisting:hP}]]}}static forChild(n){return{ngModule:t,providers:[dP(n)]}}}return t.\u0275fac=function(n){return new(n||t)(O(cP,8),O(bn,8))},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({}),t})();function oY(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Xv(t,e,n)}function aY(t,e,n={}){return n.useHash?new M7(t,e):new M1(t,e)}function uY(t){return"guarded"}function dP(t){return[{provide:M$,multi:!0,useValue:t},{provide:Yv,multi:!0,useValue:t}]}let ew=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new vi}appInitializer(){return this.injector.get(A7,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(bn),o=this.injector.get(po);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ie(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(po),i=this.injector.get(uP),s=this.injector.get(Xv),o=this.injector.get(bn),a=this.injector.get(za);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(O(_e))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function hY(t){return t.appInitializer.bind(t)}function fY(t){return t.bootstrapListener.bind(t)}const hP=new ee("Router Initializer");let go=(()=>{class t{constructor(){this.userState={log:!1,email:"",id:""},this.notes=[],this.note={title:"",content:""}}ngOnInit(){}fnUpdateLogOut(){this.userState={log:!1,email:""}}fnUpdateLogIn(n){this.userState={log:n.log,email:n.email,id:n.id}}fnGetUserStatus(){return this.userState}fnChangeNote(n){this.note=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fP(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){fP(s,r,i,o,a,"next",u)}function a(u){fP(s,r,i,o,a,"throw",u)}o(void 0)})}}const nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function xt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yP(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Jf(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _P(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vP(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function au(){return"object"==typeof indexedDB}function Zf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function sw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,li.prototype.create)}}class li{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(DY,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Vi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const DY=/\{\$([^}]+)}/g;function ep(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EP(s)&&EP(o)){if(!ep(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EP(t){return null!==t&&"object"==typeof t}function tp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class SY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=ow),void 0===i.error&&(i.error=ow),void 0===i.complete&&(i.complete=ow);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ow(){}function uw(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Gt(t){return t&&t._delegate?t._delegate:t}class Dn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mo="[DEFAULT]";class OY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:mo})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===mo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class VY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const cw=[];var pe=(()=>{return(t=pe||(pe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",pe;var t})();const CP={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},UY=pe.INFO,BY={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},jY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=BY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class uu{constructor(e){this.name=e,this._logLevel=UY,this._logHandler=jY,this._userLogHandler=null,cw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?CP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}class $Y{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const lw="@firebase/app",dw=new uu("@firebase/app"),hw="[DEFAULT]",gJ={[lw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yo=new Map,np=new Map;function mJ(t,e){try{t.container.addComponent(e)}catch(n){dw.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bn(t){const e=t.name;if(np.has(e))return dw.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of yo.values())mJ(n,t);return!0}function cu(t,e){return t.container.getProvider(e)}const Fl=new li("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class _J{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fl.create("app-deleted",{appName:this._name})}}const lu="9.5.0";function vJ(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:hw,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Fl.create("bad-app-name",{appName:String(r)});const i=yo.get(r);if(i){if(ep(t,i.options)&&ep(n,i.config))return i;throw Fl.create("duplicate-app",{appName:r})}const s=new VY(r);for(const a of np.values())s.addComponent(a);const o=new _J(t,n,s);return yo.set(r,o),o}function fw(t=hw){const e=yo.get(t);if(!e)throw Fl.create("no-app",{appName:t});return e}function bP(){return Array.from(yo.values())}function Je(t,e,n){var r;let i=null!==(r=gJ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void dw.warn(a.join(" "))}Bn(new Dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}Bn(new Dn("platform-logger",e=>new $Y(e),"PRIVATE")),Je(lw,"0.7.9",""),Je(lw,"0.7.9","esm2017"),Je("fire-js",""),Je("firebase","9.5.0","app");var du=wt(995);const DP="@firebase/installations",AP="w:0.5.4",SP="FIS_v2",Ui=new li("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xP(t){return t instanceof Vi&&t.code.includes("request-failed")}function mw({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function MP(t){return{token:t.token,requestStatus:2,expiresIn:SJ(t.expiresIn),creationTime:Date.now()}}function yw(t,e){return _w.apply(this,arguments)}function _w(){return _w=y(function*(t,e){const r=(yield e.json()).error;return Ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),_w.apply(this,arguments)}function RP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NP(t,{refreshToken:e}){const n=RP(t);return n.append("Authorization",function(t){return`${SP} ${t}`}(e)),n}function vw(t){return ww.apply(this,arguments)}function ww(){return ww=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),ww.apply(this,arguments)}function SJ(t){return Number(t.replace("s","000"))}function MJ(t,e){return Ew.apply(this,arguments)}function Ew(){return Ew=y(function*(t,{fid:e}){const n=mw(t),s={method:"POST",headers:RP(t),body:JSON.stringify({fid:e,authVersion:SP,appId:t.appId,sdkVersion:AP})},o=yield vw(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:MP(a.authToken)}}throw yield yw("Create Installation",o)}),Ew.apply(this,arguments)}function kP(t){return new Promise(e=>{setTimeout(e,t)})}const NJ=/^[cdef][\w-]{21}$/;function kJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return NJ.test(n)?n:""}catch(t){return""}}function hu(t){return`${t.appName}!${t.appId}`}const fu=new Map;function PP(t,e){const n=hu(t);OP(n,e),function(t,e){const n=(!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=t=>{OP(t.data.key,t.data.fid)}),_o);n&&n.postMessage({key:t,fid:e}),0===fu.size&&_o&&(_o.close(),_o=null)}(n,e)}function OP(t,e){const n=fu.get(t);if(n)for(const r of n)r(e)}let _o=null;const vo="firebase-installations-store";let Iw=null;function bw(){return Iw||(Iw=(0,du.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(vo)})),Iw}function rp(t,e){return Dw.apply(this,arguments)}function Dw(){return Dw=y(function*(t,e){const n=hu(t),i=(yield bw()).transaction(vo,"readwrite"),s=i.objectStore(vo),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&PP(t,e.fid),e}),Dw.apply(this,arguments)}function Tw(t){return Aw.apply(this,arguments)}function Aw(){return Aw=y(function*(t){const e=hu(t),r=(yield bw()).transaction(vo,"readwrite");yield r.objectStore(vo).delete(e),yield r.complete}),Aw.apply(this,arguments)}function Ll(t,e){return Sw.apply(this,arguments)}function Sw(){return Sw=y(function*(t,e){const n=hu(t),i=(yield bw()).transaction(vo,"readwrite"),s=i.objectStore(vo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&PP(t,a.fid),a}),Sw.apply(this,arguments)}function xw(t){return Mw.apply(this,arguments)}function Mw(){return Mw=y(function*(t){let e;const n=yield Ll(t,r=>{const i=BJ(r),s=jJ(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Mw.apply(this,arguments)}function BJ(t){return UP(t||{fid:kJ(),registrationStatus:0})}function jJ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ui.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return Rw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:HJ(t)}:{installationEntry:e}}function Rw(){return Rw=y(function*(t,e){try{return rp(t,yield MJ(t,e))}catch(n){throw xP(n)&&409===n.customData.serverCode?yield Tw(t):yield rp(t,{fid:e.fid,registrationStatus:0}),n}}),Rw.apply(this,arguments)}function HJ(t){return Nw.apply(this,arguments)}function Nw(){return Nw=y(function*(t){let e=yield VP(t);for(;1===e.registrationStatus;)yield kP(100),e=yield VP(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield xw(t);return r||n}return e}),Nw.apply(this,arguments)}function VP(t){return Ll(t,e=>{if(!e)throw Ui.create("installation-not-found");return UP(e)})}function UP(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function qJ(t,e){return kw.apply(this,arguments)}function kw(){return kw=y(function*({appConfig:t,platformLoggerProvider:e},n){const r=WJ(t,n),i=NP(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:AP}})},u=yield vw(()=>fetch(r,a));if(u.ok)return MP(yield u.json());throw yield yw("Generate Auth Token",u)}),kw.apply(this,arguments)}function WJ(t,{fid:e}){return`${mw(t)}/${e}/authTokens:generate`}function Pw(t){return Ow.apply(this,arguments)}function Ow(){return Ow=y(function*(t,e=!1){let n;const r=yield Ll(t.appConfig,s=>{if(!jP(s))throw Ui.create("not-registered");const o=s.authToken;if(!e&&QJ(o))return s;if(1===o.requestStatus)return n=zJ(t,e),s;{if(!navigator.onLine)throw Ui.create("app-offline");const a=JJ(s);return n=KJ(t,a),a}});return n?yield n:r.authToken}),Ow.apply(this,arguments)}function zJ(t,e){return Fw.apply(this,arguments)}function Fw(){return Fw=y(function*(t,e){let n=yield BP(t.appConfig);for(;1===n.authToken.requestStatus;)yield kP(100),n=yield BP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Pw(t,e):r}),Fw.apply(this,arguments)}function BP(t){return Ll(t,e=>{if(!jP(e))throw Ui.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function KJ(t,e){return Lw.apply(this,arguments)}function Lw(){return Lw=y(function*(t,e){try{const n=yield qJ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield rp(t.appConfig,r),n}catch(n){if(!xP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield rp(t.appConfig,r)}else yield Tw(t.appConfig);throw n}}),Lw.apply(this,arguments)}function jP(t){return void 0!==t&&2===t.registrationStatus}function QJ(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function JJ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Vw(){return Vw=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield xw(e.appConfig);return r?r.catch(console.error):Pw(e).catch(console.error),n.fid}),Vw.apply(this,arguments)}function Uw(){return Uw=y(function*(t,e=!1){const n=t;return yield tZ(n.appConfig),(yield Pw(n,e)).token}),Uw.apply(this,arguments)}function tZ(t){return Bw.apply(this,arguments)}function Bw(){return Bw=y(function*(t){const{registrationPromise:e}=yield xw(t);e&&(yield e)}),Bw.apply(this,arguments)}function Hw(t){return Ui.create("missing-app-config-values",{valueName:t})}const $P="installations";Bn(new Dn($P,t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Hw("App Configuration");if(!t.name)throw Hw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Hw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:cu(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Bn(new Dn("installations-internal",t=>{const n=cu(t.getProvider("app").getImmediate(),$P).getImmediate();return{getId:()=>function(t){return Vw.apply(this,arguments)}(n),getToken:i=>function(t){return Uw.apply(this,arguments)}(n,i)}},"PRIVATE")),Je(DP,"0.5.4"),Je(DP,"0.5.4","esm2017");const Gw="@firebase/remote-config",jn=new li("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function wZ(t=navigator){return t.languages&&t.languages[0]||t.language}class EZ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:wZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v.name&&(_="fetch-timeout"),jn.create(_,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw jn.create("fetch-client-parse",{originalErrorMessage:_.message})}m=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw jn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class bZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof Vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+uw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class AZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sp(t,e){const n=t.target.error||void 0;return jn.create(e,{originalErrorMessage:n&&n.message})}const wo="app_namespace_store";class RZ{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(sp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wo,{keyPath:"compositeKey"})}}catch(n){e(jn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([wo],"readonly").objectStore(wo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(sp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(jn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([wo],"readwrite").objectStore(wo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(sp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(jn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([wo],"readwrite").objectStore(wo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(sp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(jn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class NZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function PZ(){return Qw.apply(this,arguments)}function Qw(){return(Qw=y(function*(){if(!au())return!1;try{return yield Zf()}catch(t){return!1}})).apply(this,arguments)}Bn(new Dn("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!au())throw jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw jn.create("registration-project-id");if(!o)throw jn.create("registration-api-key");if(!a)throw jn.create("registration-app-id");const u=new RZ(a,r.name,n=n||"firebase"),c=new NZ(u),l=new uu(Gw);l.logLevel=pe.ERROR;const d=new EZ(i,lu,n,s,o,a),h=new bZ(d,u),f=new vZ(h,u,c,l),p=new AZ(r,f,c,u,l);return function(t){const e=Gt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Je(Gw,"0.3.3"),Je(Gw,"0.3.3","esm2017");const OZ="/firebase-messaging-sw.js",FZ="/firebase-cloud-messaging-push-scope",WP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zP="google.c.a.c_id",VZ="google.c.a.c_l",UZ="google.c.a.ts",BZ="google.c.a.e";var pu=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(pu||(pu={})),pu))();function Bi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Yw="fcm_token_details_db",KP="fcm_token_object_Store";function HZ(t){return Jw.apply(this,arguments)}function Jw(){return Jw=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Yw))return null;let e=null;return(yield(0,du.openDb)(Yw,5,function(){var r=y(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(KP))return;const o=i.transaction.objectStore(KP),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Bi(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bi(u.auth),p256dh:Bi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bi(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bi(u.auth),p256dh:Bi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bi(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,du.deleteDb)(Yw),yield(0,du.deleteDb)("fcm_vapid_details_db"),yield(0,du.deleteDb)("undefined"),GZ(e)?e:null}),Jw.apply(this,arguments)}function GZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Eo="firebase-messaging-store";let Zw=null;function Xw(){return Zw||(Zw=(0,du.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Eo)})),Zw}function QP(t){return eE.apply(this,arguments)}function eE(){return eE=y(function*(t){const e=iE(t),r=yield(yield Xw()).transaction(Eo).objectStore(Eo).get(e);if(r)return r;{const i=yield HZ(t.appConfig.senderId);if(i)return yield tE(t,i),i}}),eE.apply(this,arguments)}function tE(t,e){return nE.apply(this,arguments)}function nE(){return nE=y(function*(t,e){const n=iE(t),i=(yield Xw()).transaction(Eo,"readwrite");return yield i.objectStore(Eo).put(e,n),yield i.complete,e}),nE.apply(this,arguments)}function zZ(t){return rE.apply(this,arguments)}function rE(){return rE=y(function*(t){const e=iE(t),r=(yield Xw()).transaction(Eo,"readwrite");yield r.objectStore(Eo).delete(e),yield r.complete}),rE.apply(this,arguments)}function iE({appConfig:t}){return t.appId}const qt=new li("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function QZ(t,e){return sE.apply(this,arguments)}function sE(){return sE=y(function*(t,e){const n=yield cE(t),r=JP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(uE(t.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token}),sE.apply(this,arguments)}function YZ(t,e){return oE.apply(this,arguments)}function oE(){return oE=y(function*(t,e){const n=yield cE(t),r=JP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${uE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token}),oE.apply(this,arguments)}function YP(t,e){return aE.apply(this,arguments)}function aE(){return aE=y(function*(t,e){const r={method:"DELETE",headers:yield cE(t)};try{const s=yield(yield fetch(`${uE(t.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i})}}),aE.apply(this,arguments)}function uE({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function cE(t){return lE.apply(this,arguments)}function lE(){return lE=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),lE.apply(this,arguments)}function JP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==WP&&(i.web.applicationPubKey=r),i}const JZ=6048e5;function ZZ(t){return dE.apply(this,arguments)}function dE(){return dE=y(function*(t){const e=yield eX(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Bi(e.getKey("auth")),p256dh:Bi(e.getKey("p256dh"))},r=yield QP(t.firebaseDependencies);if(r){if(tX(r.subscriptionOptions,n))return Date.now()>=r.createTime+JZ?XZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield YP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return XP(t.firebaseDependencies,n)}return XP(t.firebaseDependencies,n)}),dE.apply(this,arguments)}function ZP(t){return hE.apply(this,arguments)}function hE(){return hE=y(function*(t){const e=yield QP(t.firebaseDependencies);e&&(yield YP(t.firebaseDependencies,e.token),yield zZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),hE.apply(this,arguments)}function XZ(t,e){return fE.apply(this,arguments)}function fE(){return fE=y(function*(t,e){try{const n=yield YZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield tE(t.firebaseDependencies,r),n}catch(n){throw yield ZP(t),n}}),fE.apply(this,arguments)}function XP(t,e){return pE.apply(this,arguments)}function pE(){return pE=y(function*(t,e){const r={token:yield QZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield tE(t,r),r.token}),pE.apply(this,arguments)}function eX(t,e){return gE.apply(this,arguments)}function gE(){return gE=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jZ(e)})}),gE.apply(this,arguments)}function tX(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function eO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function sX(t){return"object"==typeof t&&!!t&&zP in t}function tO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mE(t){return qt.create("missing-app-config-values",{valueName:t})}tO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class aX{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw mE("App Configuration Object");if(!t.name)throw mE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function nO(t){return yE.apply(this,arguments)}function yE(){return yE=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(OZ,{scope:FZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),yE.apply(this,arguments)}function uX(t,e){return _E.apply(this,arguments)}function _E(){return _E=y(function*(t,e){if(!e&&!t.swRegistration&&(yield nO(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");t.swRegistration=e}}),_E.apply(this,arguments)}function cX(t,e){return vE.apply(this,arguments)}function vE(){return vE=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=WP)}),vE.apply(this,arguments)}function wE(){return wE=y(function*(t,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield cX(t,null==e?void 0:e.vapidKey),yield uX(t,null==e?void 0:e.serviceWorkerRegistration),ZZ(t)}),wE.apply(this,arguments)}function lX(t,e,n){return EE.apply(this,arguments)}function EE(){return EE=y(function*(t,e,n){const r=dX(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[zP],message_name:n[VZ],message_time:n[UZ],message_device_time:Math.floor(Date.now()/1e3)})}),EE.apply(this,arguments)}function dX(t){switch(t){case pu.NOTIFICATION_CLICKED:return"notification_open";case pu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function CE(){return CE=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===pu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(eO(n)):t.onMessageHandler.next(eO(n)));const r=n.data;sX(r)&&"1"===r[BZ]&&(yield lX(t,n.messageType,r))}),CE.apply(this,arguments)}const iO="@firebase/messaging";function oO(){return IE.apply(this,arguments)}function IE(){return(IE=y(function*(){return"undefined"!=typeof window&&au()&&(yield Zf())&&sw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Bn(new Dn("messaging",t=>{const e=new aX(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return CE.apply(this,arguments)}(e,n)),e},"PUBLIC")),Bn(new Dn("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return wE.apply(this,arguments)}(e,r)}},"PRIVATE")),Je(iO,"0.9.4"),Je(iO,"0.9.4","esm2017");const op="analytics",_X="firebase_id",EX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aO="https://www.googletagmanager.com/gtag/js",Wt=new uu("@firebase/analytics");function uO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function CX(t,e){const n=document.createElement("script");n.src=`${aO}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function bX(t,e,n,r,i,s){return TE.apply(this,arguments)}function TE(){return TE=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield uO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Wt.error(a)}t("config",i,s)}),TE.apply(this,arguments)}function DX(t,e,n,r,i){return AE.apply(this,arguments)}function AE(){return AE=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield uO(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Wt.error(s)}}),AE.apply(this,arguments)}function SX(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(aO))return e;return null}const ir=new li("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cO=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function PX(t){return SE.apply(this,arguments)}function SE(){return SE=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:kX(r)},s=EX.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw ir.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),SE.apply(this,arguments)}function OX(t){return xE.apply(this,arguments)}function xE(){return xE=y(function*(t,e=cO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ir.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ir.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new VX;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:6e4),lO({appId:r,apiKey:i,measurementId:s},o,a,e)}),xE.apply(this,arguments)}function lO(t,e,n){return ME.apply(this,arguments)}function ME(){return ME=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=cO){const{appId:s,measurementId:o}=t;try{yield FX(r,e)}catch(a){if(o)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield PX(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!LX(a)){if(i.deleteThrottleMetadata(s),o)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?uw(n,i.intervalMillis,30):uw(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Wt.debug(`Calling attemptFetch again in ${u} millis`),lO(t,c,r,i)}}),ME.apply(this,arguments)}function FX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LX(t){if(!(t instanceof Vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class VX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function UX(){return RE.apply(this,arguments)}function RE(){return RE=y(function*(){if(!au())return Wt.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Zf()}catch(t){return Wt.warn(ir.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}),RE.apply(this,arguments)}function NE(){return NE=y(function*(t,e,n,r,i,s,o){var a;const u=OX(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Wt.error(f)),e.push(u);const c=UX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);SX()||CX(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[_X]=d),i("config",l.measurementId,h),l.measurementId}),NE.apply(this,arguments)}class jX{constructor(e){this.app=e}_delete(){return delete ji[this.app.options.appId],Promise.resolve()}}let ji={},dO=[];const hO={};let pO,Vl,ap="dataLayer",kE=!1;function HX(t,e,n){!function(){const t=[];if(Jf()&&t.push("This is a browser extension environment."),sw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ir.create("invalid-analytics-context",{errorInfo:e});Wt.warn(n.message)}}();const r=t.options.appId;if(!r)throw ir.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ir.create("no-api-key");Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ji[r])throw ir.create("already-exists",{id:r});if(!kE){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ap);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield DX(t,e,n,a,u):"config"===o?yield bX(t,e,n,r,a,u):t("set",a)}catch(c){Wt.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ji,dO,hO,ap,"gtag");Vl=s,pO=o,kE=!0}return ji[r]=function(t,e,n,r,i,s,o){return NE.apply(this,arguments)}(t,dO,hO,e,pO,ap,n),new jX(t)}function PE(){return PE=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),PE.apply(this,arguments)}function YX(){return UE.apply(this,arguments)}function UE(){return(UE=y(function*(){if(Jf()||!sw()||!au())return!1;try{return yield Zf()}catch(t){return!1}})).apply(this,arguments)}const gO="@firebase/analytics";Bn(new Dn(op,(e,{options:n})=>HX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Bn(new Dn("analytics-internal",function(e){try{const n=e.getProvider(op).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=Gt(t),function(t,e,n,r,i){return PE.apply(this,arguments)}(Vl,ji[t.app.options.appId],e,n,r).catch(i=>Wt.error(i))}(n,r,i,s)}}catch(n){throw ir.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Je(gO,"0.7.4"),Je(gO,"0.7.4","esm2017");class XX extends it{constructor(e,n){super()}schedule(e,n=0){return this}}const up={setInterval(...t){const{delegate:e}=up;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=up;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class yO extends XX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return up.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;up.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const _O={now:()=>(_O.delegate||Date).now(),delegate:void 0};class Ul{constructor(e,n=Ul.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ul.now=_O.now;class vO extends Ul{constructor(e,n=Ul.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const nee=new class extends vO{}(class extends yO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),ree=new vO(yO),cp=new $a("7.2.0"),BE="__angularfire_symbol__analyticsIsSupported",jE="__angularfire_symbol__remoteConfigIsSupported",$E="__angularfire_symbol__messagingIsSupported";function GE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[BE]||(globalThis[BE]=YX().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[$E]||(globalThis[$E]=oO().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[jE]||(globalThis[jE]=PZ().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const qE=(t,e)=>{const n=e?[e]:bP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function gu(){}class IO{constructor(e,n=nee){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class iee{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gu,{},gu,gu)),n.pipe(Un({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let WE=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new IO(Zone.current)),this.insideAngular=n.run(()=>new IO(Zone.current,ree)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(O(Ve))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Co(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function see(t){return Co().ngZone.runOutsideAngular(()=>t())}function Io(t){return Co().ngZone.run(()=>t())}function oee(t){return Co(),function(t){return function(n){return(n=n.lift(new iee(t.ngZone))).pipe(Zd(t.outsideAngular),Jd(t.insideAngular))}}(Co())(t)}const uee=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Io(()=>t.apply(n,arguments))}},Er=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=Io(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gu,{},gu,gu)))),arguments[i]=uee(arguments[i],n));const r=see(()=>t.apply(this,arguments));if(!e){if(r instanceof xe){const i=Co();return r.pipe(Zd(i.outsideAngular),Jd(i.insideAngular))}return Io(()=>r)}return r instanceof xe?r.pipe(oee):r instanceof Promise?Io(()=>new Promise((i,s)=>r.then(o=>Io(()=>i(o)),o=>Io(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Io(()=>r)};class mu{constructor(e){return e}}class zE{constructor(){return bP()}}const KE=new ee("angularfire2._apps"),lee={provide:mu,useFactory:function(t){return t&&1===t.length?t[0]:new mu(fw())},deps:[[new Le,KE]]},dee={provide:zE,deps:[[new Le,KE]]};function hee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new mu(r)}}let fee=(()=>{class t{constructor(n){Je("angularfire",cp.full,"core"),Je("angularfire",cp.full,"app"),Je("angular",r_.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(O(rl))},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({providers:[lee,dee]}),t})();function pee(t,...e){return{ngModule:fee,providers:[{provide:KE,useFactory:hee(t),multi:!0,deps:[Ve,_e,WE,...e]}]}}const gee=Er(vJ,!0),bO=new Map,mee={activated:!1,tokenObservers:[]},yee={initialized:!1,enabled:!1};function Mt(t){return bO.get(t)||mee}function Hr(t,e){bO.set(t,e)}function lp(){return yee}class Cee{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new iw,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new iw,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Tn=new li("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function TO(t){if(!Mt(t).activated)throw Tn.create("use-before-activation",{appName:t.name})}function JE(t,e){return ZE.apply(this,arguments)}function ZE(){return ZE=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Tn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Tn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),ZE.apply(this,arguments)}function See(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Bl="firebase-app-check-store";let fp=null;function SO(){return fp||(fp=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bl,{keyPath:"compositeKey"})}}catch(n){e(Tn.create("storage-open",{originalErrorMessage:n.message}))}}),fp)}function XE(){return XE=y(function*(t,e){const r=(yield SO()).transaction(Bl,"readwrite"),s=r.objectStore(Bl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Tn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),XE.apply(this,arguments)}const jl=new uu("@firebase/app-check");function NO(t,e){return au()?function(t,e){return function(t,e){return XE.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{jl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function kO(){return lp().enabled}function PO(){return rC.apply(this,arguments)}function rC(){return rC=y(function*(){const t=lp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),rC.apply(this,arguments)}const Vee={error:"UNKNOWN_ERROR"};function Uee(t){return nw.encodeString(JSON.stringify(t),!1)}function pp(t){return iC.apply(this,arguments)}function iC(){return iC=y(function*(t,e=!1){const n=t.app;TO(n);const r=Mt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&gp(u)&&(i=u)}if(!e&&i&&gp(i))return{token:i.token};let a,o=!1;if(kO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=JE(See(n,yield PO()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield NO(n,u),Hr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?jl.warn(u.message):jl.error(u),s=u}return i?(a={token:i.token},Hr(n,Object.assign(Object.assign({},r),{token:i})),yield NO(n,i)):a=jee(s),o&&FO(n,a),a}),iC.apply(this,arguments)}function oC(t,e){const n=Mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Hr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function OO(t){const{app:e}=t,n=Mt(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new Cee(y(function*(){let r;if(r=Mt(e).token?yield pp(t,!0):yield pp(t),r.error)throw r.error}),()=>!0,()=>{const n=Mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Hr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function FO(t,e){const n=Mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function gp(t){return t.expireTimeMillis-Date.now()>0}function jee(t){return{token:Uee(Vee),error:t}}class $ee{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=Mt(this.app);for(const n of e)oC(this.app,n.next);return Promise.resolve()}}const GO="app-check-internal";Bn(new Dn("app-check",t=>function(t,e){return new $ee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(GO).initialize()})),Bn(new Dn(GO,t=>function(t){return{getToken:e=>pp(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=Mt(i),o={next:n,error:r,type:e};if(Hr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&gp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),OO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>OO(t))}(t,"INTERNAL",e),removeTokenListener:e=>oC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Je("@firebase/app-check","0.5.2");class lC{constructor(){return qE("app-check")}}function zO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}"undefined"!=typeof window&&window;const cte=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},JO=new li("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ZO=new uu("@firebase/auth");function _p(t,...e){ZO.logLevel<=pe.ERROR&&ZO.error(`Auth (9.5.0): ${t}`,...e)}function $n(t,...e){throw fC(t,...e)}function di(t,...e){return fC(t,...e)}function XO(t,e,n){const r=Object.assign(Object.assign({},cte()),{[e]:n});return new li("auth","Firebase",r).create(e,{appName:t.name})}function fC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JO.create(t,...e)}function A(t,e,...n){if(!t)throw fC(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function _s(t,e){t||hi(e)}const eF=new Map;function $i(t){_s(t instanceof Function,"Expected a class definition");let e=eF.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eF.set(t,e),e)}function $l(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function tF(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Hl{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=yP()||_P()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===tF()||"https:"===tF()||Jf()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function gC(t,e){_s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gte=new Hl(3e4,6e4);function yt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Rt(t,e,n,r){return yC.apply(this,arguments)}function yC(){return yC=y(function*(t,e,n,r,i={}){return nF(t,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=tp(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(mC.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),mC.fetch()(rF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}),yC.apply(this,arguments)}function nF(t,e,n){return _C.apply(this,arguments)}function _C(){return _C=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pte),e);try{const i=new mte(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw vp(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw vp(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw XO(t,l,c);$n(t,l)}}catch(i){if(i instanceof Vi)throw i;$n(t,"network-request-failed")}}),_C.apply(this,arguments)}function Hi(t,e,n,r){return vC.apply(this,arguments)}function vC(){return vC=y(function*(t,e,n,r,i={}){const s=yield Rt(t,e,n,r,i);return"mfaPendingCredential"in s&&$n(t,"multi-factor-auth-required",{_serverResponse:s}),s}),vC.apply(this,arguments)}function rF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?gC(t.config,i):`${t.config.apiScheme}://${i}`}class mte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"timeout")),gte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=di(t,e,r);return i.customData._tokenResponse=n,i}function wC(){return wC=y(function*(t,e){return Rt(t,"POST","/v1/accounts:delete",e)}),wC.apply(this,arguments)}function vte(t,e){return CC.apply(this,arguments)}function CC(){return CC=y(function*(t,e){return Rt(t,"POST","/v1/accounts:lookup",e)}),CC.apply(this,arguments)}function Gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function IC(){return IC=y(function*(t,e=!1){const n=Gt(t),r=yield n.getIdToken(e),i=wp(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gl(bC(i.auth_time)),issuedAtTime:Gl(bC(i.iat)),expirationTime:Gl(bC(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),IC.apply(this,arguments)}function bC(t){return 1e3*Number(t)}function wp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i),null}}function Gi(t,e){return DC.apply(this,arguments)}function DC(){return DC=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Vi&&Cte(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),DC.apply(this,arguments)}function Cte({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Ite{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class iF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ql(t){return TC.apply(this,arguments)}function TC(){return TC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Gi(t,vte(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Tte(s.providerUserInfo):[],a=Dte(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),TC.apply(this,arguments)}function AC(){return AC=y(function*(t){const e=Gt(t);yield ql(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),AC.apply(this,arguments)}function Dte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Tte(t){return t.map(e=>{var{providerId:n}=e,r=zO(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function SC(){return SC=y(function*(t,e){const n=yield nF(t,{},()=>{const r=tp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rF(t,i,"/v1/token",`key=${s}`);return mC.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),SC.apply(this,arguments)}class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=wp(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return SC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wl;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return hi("not implemented")}}function vs(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class bo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ite(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new iF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Gi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return IC.apply(this,arguments)}(this,e)}reload(){return function(t){return AC.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ql(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Gi(e,function(t,e){return wC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:R,isAnonymous:G,providerData:Oe,stsTokenManager:Nn}=n;A(T&&Nn,e,"internal-error");const zo=Wl.fromJSON(this.name,Nn);A("string"==typeof T,e,"internal-error"),vs(d,e.name),vs(h,e.name),A("boolean"==typeof R,e,"internal-error"),A("boolean"==typeof G,e,"internal-error"),vs(f,e.name),vs(p,e.name),vs(m,e.name),vs(g,e.name),vs(v,e.name),vs(_,e.name);const _i=new bo({uid:T,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:zo,createdAt:v,lastLoginAt:_});return Oe&&Array.isArray(Oe)&&(_i.providerData=Oe.map(Vs=>Object.assign({},Vs))),g&&(_i._redirectEventId=g),_i}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Wl;i.updateFromServerResponse(n);const s=new bo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ql(s),s})()}}const sF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class _u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ep("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?bo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new _u($i(sF),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||$i(sF);const o=Ep(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=bo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new _u(s,e,r)):new _u(s,e,r)})()}}function oF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dF(e))return"Blackberry";if(hF(e))return"Webos";if(xC(e))return"Safari";if((e.includes("chrome/")||uF(e))&&!e.includes("edge/"))return"Chrome";if(lF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function aF(t=xt()){return/firefox\//i.test(t)}function xC(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uF(t=xt()){return/crios\//i.test(t)}function cF(t=xt()){return/iemobile/i.test(t)}function lF(t=xt()){return/android/i.test(t)}function dF(t=xt()){return/blackberry/i.test(t)}function hF(t=xt()){return/webos/i.test(t)}function Cp(t=xt()){return/iphone|ipad|ipod/i.test(t)}function fF(t=xt()){return Cp(t)||lF(t)||hF(t)||dF(t)||/windows phone/i.test(t)||cF(t)}function pF(t,e=[]){let n;switch(t){case"Browser":n=oF(xt());break;case"Worker":n=`${oF(xt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.5.0/${e.length?e.join(","):"FirebaseCore-web"}`}class Rte{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gF(this),this.idTokenSubscription=new gF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(y(function*(){var i,s;r._deleted||(r.persistenceManager=yield _u.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield ql(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Gt(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return y(function*(){if(!n._deleted)return e&&A(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(y(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence($i(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new li("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&$i(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield _u.create(n,[$i(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Hn(t){return Gt(t)}class gF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new SY(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class _F{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}function RC(){return RC=y(function*(t,e){return Rt(t,"POST","/v1/accounts:update",e)}),RC.apply(this,arguments)}function kC(){return kC=y(function*(t,e){return Hi(t,"POST","/v1/accounts:signInWithPassword",yt(t,e))}),kC.apply(this,arguments)}function UC(){return UC=y(function*(t,e){return Hi(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))}),UC.apply(this,arguments)}function BC(){return BC=y(function*(t,e){return Hi(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))}),BC.apply(this,arguments)}class zl extends _F{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return y(function*(){switch(n.signInMethod){case"password":return function(t,e){return kC.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return UC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:$n(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return y(function*(){switch(r.signInMethod){case"password":return function(t,e){return RC.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(t,e){return BC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:$n(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function qi(t,e){return jC.apply(this,arguments)}function jC(){return jC=y(function*(t,e){return Hi(t,"POST","/v1/accounts:signInWithIdp",yt(t,e))}),jC.apply(this,arguments)}class Yl{constructor(e){var n,r,i,s,o,a;const u=Pl(Ol(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function(t){const e=Pl(Ol(t)).link,n=e?Pl(Ol(e)).deep_link_id:null,r=Pl(Ol(t)).deep_link_id;return(r?Pl(Ol(r)).link:null)||r||n||e||t}(e);try{return new Yl(n)}catch(r){return null}}}let EF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return zl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Yl.parseLink(r);return A(i,"argument-error"),zl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ws{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yte extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function CF(t,e){return zC.apply(this,arguments)}function zC(){return zC=y(function*(t,e){return Hi(t,"POST","/v1/accounts:signUp",yt(t,e))}),zC.apply(this,arguments)}class Cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield bo._fromIdTokenResponse(e,r,i),o=IF(r);return new Cr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=IF(r);return new Cr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function IF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Dp extends Vi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dp(e,n,r,i)}}function bF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Dp._fromErrorAndOperation(t,s,e,r):s})}function YC(t,e){return JC.apply(this,arguments)}function JC(){return JC=y(function*(t,e,n=!1){const r=yield Gi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cr._forOperation(t,"link",r)}),JC.apply(this,arguments)}function XC(){return XC=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Gi(t,bF(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=wp(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Cr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&$n(r,"user-mismatch"),s}}),XC.apply(this,arguments)}function AF(t,e){return eI.apply(this,arguments)}function eI(){return eI=y(function*(t,e,n=!1){const r="signIn",i=yield bF(t,r,e),s=yield Cr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),eI.apply(this,arguments)}function nI(){return nI=y(function*(t,e){return AF(Hn(t),e)}),nI.apply(this,arguments)}function rne(t,e,n){return pI.apply(this,arguments)}function pI(){return pI=y(function*(t,e,n){const r=Hn(t),i=yield CF(r,{returnSecureToken:!0,email:e,password:n}),s=yield Cr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),pI.apply(this,arguments)}function ine(t,e,n){return function(t,e){return nI.apply(this,arguments)}(Gt(t),EF.credential(e,n))}function hne(t,e,n,r){return Gt(t).onAuthStateChanged(e,n,r)}function fne(t){return Gt(t).signOut()}new WeakMap;const Sp="__sak";class xF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sp,"1"),this.storage.removeItem(Sp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wne=(()=>{class t extends xF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=xt();return xC(t)||Cp(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=fF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);vP()&&10===document.documentMode&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,10):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),MF=(()=>{class t extends xF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Cne=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function xI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ine{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=xI("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function _t(){return window}function MI(){return void 0!==_t().WorkerGlobalScope&&"function"==typeof _t().importScripts}function RI(){return(RI=y(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const RF="firebaseLocalStorageDb",xp="firebaseLocalStorage",NF="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mp(t,e){return t.transaction([xp],e?"readwrite":"readonly").objectStore(xp)}function NI(){const t=indexedDB.open(RF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xp,{keyPath:NF})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(xp)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase(RF);return new Zl(t).toPromise()}(),e(yield NI()))}))})}function kF(t,e,n){return kI.apply(this,arguments)}function kI(){return kI=y(function*(t,e,n){const r=Mp(t,!0).put({[NF]:e,value:n});return new Zl(r).toPromise()}),kI.apply(this,arguments)}function PI(){return PI=y(function*(t,e){const n=Mp(t,!1).get(e),r=yield new Zl(n).toPromise();return void 0===r?null:r.value}),PI.apply(this,arguments)}function PF(t,e){const n=Mp(t,!0).delete(e);return new Zl(n).toPromise()}const kne=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield NI()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return MI()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=Cne._getInstance(MI()?self:null),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function(){return RI.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ine(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield NI();return yield kF(n,Sp,"1"),yield PF(n,Sp),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>kF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function(t,e){return PI.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>PF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=Mp(o,!1).getAll();return new Zl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function FF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function To(t,e){return e?$i(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}FF("rcb"),new Hl(3e4,6e4);class GI extends _F{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yne(t){return AF(t.auth,new GI(t),t.bypassAuthState)}function Jne(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function(t,e){return XC.apply(this,arguments)}(n,new GI(t),t.bypassAuthState)}function Zne(t){return qI.apply(this,arguments)}function qI(){return qI=y(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),YC(n,new GI(t),t.bypassAuthState)}),qI.apply(this,arguments)}new Hl(2e3,1e4);const Np=new Map;class tre extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yne;case"linkViaPopup":case"linkViaRedirect":return Zne;case"reauthViaPopup":case"reauthViaRedirect":return Jne;default:$n(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=Np.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return YI.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Np.set(n.auth._key(),r)}return n.bypassAuthState||Np.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function YI(){return YI=y(function*(t,e){const n=UF(e),r=VF(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),YI.apply(this,arguments)}function VF(t){return $i(t._redirectPersistence)}function UF(t){return Ep("pendingRedirect",t.config.apiKey,t.name)}function BF(t,e){return rb.apply(this,arguments)}function rb(){return rb=y(function*(t,e,n=!1){const r=Hn(t),i=To(r,e),o=yield new tre(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),rb.apply(this,arguments)}class are{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($F(e))}saveEventToCache(e){this.cachedEventUids.add($F(e)),this.lastProcessedEventTime=Date.now()}}function $F(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function cre(t){return sb.apply(this,arguments)}function sb(){return sb=y(function*(t,e={}){return Rt(t,"GET","/v1/projects",e)}),sb.apply(this,arguments)}const lre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dre=/^https?/;function ob(){return ob=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield cre(t);for(const n of e)try{if(fre(n))return}catch(r){}$n(t,"unauthorized-domain")}),ob.apply(this,arguments)}function fre(t){const e=$l(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!dre.test(n))return!1;if(lre.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const pre=new Hl(3e4,6e4);function GF(){const t=_t().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let kp=null;function mre(t){return kp=kp||function(t){return new Promise((e,n)=>{var r,i,s;function o(){GF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GF(),n(di(t,"network-request-failed"))},timeout:pre.get()})}if(null===(i=null===(r=_t().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=_t().gapi)||void 0===s?void 0:s.load)){const a=FF("iframefcb");return _t()[a]=()=>{gapi.load?o():n(di(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`)}o()}}).catch(e=>{throw kp=null,e})}(t),kp}const yre=new Hl(5e3,15e3),wre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ere=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cre(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gC(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:lu},i=Ere.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tp(r).slice(1)}`}function ab(){return ab=y(function*(t){const e=yield mre(t),n=_t().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:Cre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wre,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=di(t,"network-request-failed"),u=_t().setTimeout(()=>{o(a)},yre.get());function c(){_t().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),ab.apply(this,arguments)}const bre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function WF(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lu,eventId:i};if(e instanceof ws){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof Yte){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?gC(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${tp(a).slice(1)}`}const ub="webStorageSupport",Ore=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MF,this._completeRedirectFn=BF}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;_s(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=WF(e,n,r,$l(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},bre),{width:r.toString(),height:i.toString(),top:s,left:o}),c=xt().toLowerCase();n&&(a=uF(c)?"_blank":n),aF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=xt()){var e;return Cp(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new qF(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch(h){}return new qF(d)}(e,a,xI())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function(t){_t().location.href=t}(WF(e,n,r,$l(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function(t){return ab.apply(this,arguments)}(e),i=new are(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ub,{type:ub},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[ub];void 0!==o&&n(!!o),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return ob.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fF()||xC()||Cp()}};var KF="@firebase/auth";class Fre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ure(t=fw()){const e=cu(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=cu(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ep(n.getOptions(),null!=e?e:{}))return i;$n(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ore,persistence:[kne,wne,MF]})}!function(t){Bn(new Dn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{A(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),A(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pF(t)},u=new Rte(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bn(new Dn("auth-internal",e=>{const n=Hn(e.getProvider("auth").getImmediate());return new Fre(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(KF,"0.19.3",void 0),Je(KF,"0.19.3","esm2017")}("Browser");class Es{constructor(e){return e}}class JF{constructor(){return qE("auth")}}const cb=new ee("angularfire2.auth-instances");function jre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Es(r)}}const $re={provide:JF,deps:[[new Le,cb]]},Hre={provide:Es,useFactory:function(t,e){const n=GE("auth",t,e);return n&&new Es(n)},deps:[[new Le,cb],mu]};let Gre=(()=>{class t{constructor(){Je("angularfire",cp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({providers:[Hre,$re]}),t})();function qre(t,...e){return{ngModule:Gre,providers:[{provide:cb,useFactory:jre(t),multi:!0,deps:[Ve,_e,WE,zE,[new Le,lC],...e]}]}}const Wre=Er(rne,!0),zre=Er(Ure,!0),Kre=Er(hne,!0),Qre=Er(ine,!0),Yre=Er(fne,!0);var P,Jre="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wi={},lb=lb||{},Y=Jre||self;function Pp(){}function db(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var hb="closure_uid_"+(1e9*Math.random()>>>0),Xre=0;function eie(t,e,n){return t.call.apply(t.bind,arguments)}function tie(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return(zt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eie:tie).apply(null,arguments)}function Op(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Cs(){this.s=this.s,this.o=this.o}var rie={};Cs.prototype.s=!1,Cs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,hb)&&t[hb]||(t[hb]=++Xre)}(this);delete rie[t]}},Cs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},XF=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function eL(t){return Array.prototype.concat.apply([],arguments)}function fb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fp(t){return/^[\s\xa0]*$/.test(t)}var Sn,tL=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function An(t,e){return-1!=t.indexOf(e)}function pb(t,e){return t<e?-1:t>e?1:0}e:{var nL=Y.navigator;if(nL){var rL=nL.userAgent;if(rL){Sn=rL;break e}}Sn=""}function gb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function iL(t){const e={};for(const n in t)e[n]=t[n];return e}var sL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<sL.length;s++)n=sL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mb(t){return mb[" "](t),t}mb[" "]=Pp;var Lp,oie=An(Sn,"Opera"),vu=An(Sn,"Trident")||An(Sn,"MSIE"),aL=An(Sn,"Edge"),yb=aL||vu,uL=An(Sn,"Gecko")&&!(An(Sn.toLowerCase(),"webkit")&&!An(Sn,"Edge"))&&!(An(Sn,"Trident")||An(Sn,"MSIE"))&&!An(Sn,"Edge"),aie=An(Sn.toLowerCase(),"webkit")&&!An(Sn,"Edge");function cL(){var t=Y.document;return t?t.documentMode:void 0}e:{var _b="",vb=function(){var t=Sn;return uL?/rv:([^\);]+)(\)|;)/.exec(t):aL?/Edge\/([\d\.]+)/.exec(t):vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):aie?/WebKit\/(\S+)/.exec(t):oie?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(vb&&(_b=vb?vb[1]:""),vu){var wb=cL();if(null!=wb&&wb>parseFloat(_b)){Lp=String(wb);break e}}Lp=_b}var uie={};function cie(){return e=uie,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=tL(String(Lp)).split("."),n=tL("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=pb(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||pb(0==i[2].length,0==s[2].length)||pb(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var lie=Y.document&&vu&&(cL()||parseInt(Lp,10))||void 0,die=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",Pp,e),Y.removeEventListener("test",Pp,e)}catch(n){}return t}();function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ed(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uL){e:{try{mb(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hie[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ed.Z.h.call(this)}}cn.prototype.h=function(){this.defaultPrevented=!0},Kt(ed,cn);var hie={2:"touch",3:"pen",4:"mouse"};ed.prototype.h=function(){ed.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var td="closure_listenable_"+(1e6*Math.random()|0),fie=0;function pie(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++fie,this.ca=this.fa=!1}function Vp(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Up(t){this.src=t,this.g={},this.h=0}function Cb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=ZF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ib(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Up.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Ib(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new pie(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var bb="closure_lm_"+(1e6*Math.random()|0),Db={};function dL(t,e,n,r,i){if(r&&r.once)return fL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dL(t,e[s],n,r,i);return null}return n=xb(n),t&&t[td]?t.N(e,n,Xl(r)?!!r.capture:!!r,i):hL(t,e,n,!1,r,i)}function hL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xl(i)?!!i.capture:!!i,a=Ab(t);if(a||(t[bb]=a=new Up(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=mie;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)die||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fL(t,e[s],n,r,i);return null}return n=xb(n),t&&t[td]?t.O(e,n,Xl(r)?!!r.capture:!!r,i):hL(t,e,n,!0,r,i)}function pL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pL(t,e[s],n,r,i);else r=Xl(r)?!!r.capture:!!r,n=xb(n),t&&t[td]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ib(s=t.g[e],n,r,i))&&(Vp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Ab(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ib(e,n,r,i)),(n=-1<t?e[t]:null)&&Tb(n))}function Tb(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[td])Cb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ab(e))?(Cb(n,t),0==n.h&&(n.src=null,e[bb]=null)):Vp(t)}}}function gL(t){return t in Db?Db[t]:Db[t]="on"+t}function mie(t,e){if(t.ca)t=!0;else{e=new ed(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Tb(t),t=n.call(r,e)}return t}function Ab(t){return(t=t[bb])instanceof Up?t:null}var Sb="__closure_events_fn_"+(1e9*Math.random()>>>0);function xb(t){return"function"==typeof t?t:(t[Sb]||(t[Sb]=function(e){return t.handleEvent(e)}),t[Sb])}function Nt(){Cs.call(this),this.i=new Up(this),this.P=this,this.I=null}function Qt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var i=e;oL(e=new cn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Bp(o,r,!0,e)&&i}if(i=Bp(o=e.g=t,r,!0,e)&&i,i=Bp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Bp(o=e.g=n[s],r,!1,e)&&i}function Bp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Cb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Kt(Nt,Cs),Nt.prototype[td]=!0,Nt.prototype.removeEventListener=function(t,e,n,r){pL(this,t,e,n,r)},Nt.prototype.M=function(){if(Nt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vp(n[r]);delete t.g[e],t.h--}}this.I=null},Nt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Mb=Y.JSON.stringify;function yie(){var t=yL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Nb,mL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new vie,t=>t.reset());class vie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wie(t){Y.setTimeout(()=>{throw t},0)}function Rb(t,e){Nb||function(){var t=Y.Promise.resolve(void 0);Nb=function(){t.then(Cie)}}(),kb||(Nb(),kb=!0),yL.add(t,e)}var kb=!1,yL=new class{constructor(){this.h=this.g=null}add(e,n){const r=mL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Cie(){for(var t;t=yie();){try{t.h.call(t.g)}catch(n){wie(n)}var e=mL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kb=!1}function jp(t,e){Nt.call(this),this.h=t||1,this.g=e||Y,this.j=zt(this.kb,this),this.l=Date.now()}function Pb(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Ob(t,e,n){if("function"==typeof t)n&&(t=zt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function _L(t){t.g=Ob(()=>{t.g=null,t.i&&(t.i=!1,_L(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Kt(jp,Nt),(P=jp.prototype).da=!1,P.S=null,P.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qt(this,"tick"),this.da&&(Pb(this),this.start()))}},P.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){jp.Z.M.call(this),Pb(this),delete this.g};class Iie extends Cs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_L(this)}M(){super.M(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nd(t){Cs.call(this),this.h=t,this.g={}}Kt(nd,Cs);var vL=[];function wL(t,e,n,r){Array.isArray(n)||(n&&(vL[0]=n.toString()),n=vL);for(var i=0;i<n.length;i++){var s=dL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function EL(t){gb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tb(e)},t),t.g={}}function $p(){this.g=!0}function wu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Mb(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}nd.prototype.M=function(){nd.Z.M.call(this),EL(this)},nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$p.prototype.Aa=function(){this.g=!1},$p.prototype.info=function(){};var Ao={},CL=null;function Hp(){return CL=CL||new Nt}function IL(t){cn.call(this,Ao.Ma,t)}function rd(t){const e=Hp();Qt(e,new IL(e,t))}function bL(t,e){cn.call(this,Ao.STAT_EVENT,t),this.stat=e}function xn(t){const e=Hp();Qt(e,new bL(e,t))}function DL(t,e){cn.call(this,Ao.Na,t),this.size=e}function id(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}Ao.Ma="serverreachability",Kt(IL,cn),Ao.STAT_EVENT="statevent",Kt(bL,cn),Ao.Na="timingevent",Kt(DL,cn);var Gp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},TL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fb(){}function SL(){}Fb.prototype.h=null;var Ub,sd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lb(){cn.call(this,"d")}function Vb(){cn.call(this,"c")}function qp(){}function od(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new nd(this),this.P=Sie,this.W=new jp(t=yb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xL}function xL(){this.i=null,this.g="",this.h=!1}Kt(Lb,cn),Kt(Vb,cn),Kt(qp,Fb),qp.prototype.g=function(){return new XMLHttpRequest},qp.prototype.i=function(){return{}},Ub=new qp;var Sie=45e3,Bb={},Wp={};function jb(t,e,n){t.K=1,t.v=Jp(zi(e)),t.s=n,t.U=!0,ML(t,null)}function ML(t,e){t.F=Date.now(),ad(t),t.A=zi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),UL(n.h,"t",r),t.C=0,n=t.l.H,t.h=new xL,t.g=uV(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Iie(zt(t.Ia,t,t.g),t.O)),wL(t.V,t.g,"readystatechange",t.gb),e=t.H?iL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),rd(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function RL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function NL(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=xie(t,n),i==Wp){4==e&&(t.o=4,xn(14),r=!1),wu(t.j,t.m,null,"[Incomplete Response]");break}if(i==Bb){t.o=4,xn(15),wu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}wu(t.j,t.m,i,null),$b(t,i)}RL(t)&&i!=Wp&&i!=Bb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,xn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xb(e),e.L=!0,xn(11))):(wu(t.j,t.m,n,"[Invalid Chunked Response]"),So(t),ud(t))}function xie(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Wp:(n=Number(e.substring(n,r)),isNaN(n)?Bb:(r+=1)+n>e.length?Wp:(e=e.substr(r,n),t.C=r+n,e))}function ad(t){t.Y=Date.now()+t.P,kL(t,t.P)}function kL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=id(zt(t.eb,t),e)}function zp(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}function ud(t){0==t.l.G||t.I||iV(t.l,t)}function So(t){zp(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Pb(t.W),EL(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function $b(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||qb(n.i,t)))if(n.I=t.N,!t.J&&qb(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=id(zt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;rg(n),tg(n)}Zb(n),xn(18)}if(1>=$L(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Ro(n,11)}else if((t.J||n.g==t)&&rg(n),!Fp(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(An(p,"spdy")||An(p,"quic")||An(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Wb(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,$e(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=aV(r,r.H?r.la:null,r.W),o.J){HL(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(zp(a),ad(a)),r.g=o}else nV(r);0<n.l.length&&ng(n)}else"stop"!=c[0]&&"close"!=c[0]||Ro(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ro(n,7):Yb(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}rd(4)}catch(c){}}function Hb(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(db(t)||"string"==typeof t)XF(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(db(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(db(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Eu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Eu)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gb(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];xo(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)xo(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function xo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(P=od.prototype).setTimeout=function(t){this.P=t},P.gb=function(t){t=t.target;const e=this.L;e&&3==Ki(t)?e.l():this.Ia(t)},P.Ia=function(t){try{if(t==this.g)e:{const l=Ki(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||yb||this.g&&(this.h.h||this.g.ga()||JL(this.g)))){this.I||4!=l||7==e||rd(8==e||0>=d?3:2),zp(this);var n=this.g.ba();this.N=n;t:if(RL(this)){var r=JL(this.g);t="";var i=r.length,s=4==Ki(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){So(this),ud(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,xn(12),So(this),ud(this);break e}wu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$b(this,n)}this.U?(NL(this,l,o),yb&&this.i&&3==l&&(wL(this.V,this.W,"tick",this.fb),this.W.start())):(wu(this.j,this.m,o,null),$b(this,o)),4==l&&So(this),this.i&&!this.I&&(4==l?iV(this.l,this):(this.i=!1,ad(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,xn(12)):(this.o=0,xn(13)),So(this),ud(this)}}}catch(l){}},P.fb=function(){if(this.g){var t=Ki(this.g),e=this.g.ga();this.C<e.length&&(zp(this),NL(this,t,e),this.i&&4!=t&&ad(this))}},P.cancel=function(){this.I=!0,So(this)},P.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rd(3),xn(17)),So(this),this.o=2,ud(this)):kL(this,this.Y-t)},(P=Eu.prototype).R=function(){Gb(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},P.T=function(){return Gb(this),this.g.concat()},P.get=function(t,e){return xo(this.h,t)?this.h[t]:e},P.set=function(t,e){xo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},P.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var PL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mo(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Mo){this.g=void 0!==e?e:t.g,Kp(this,t.j),this.s=t.s,Qp(this,t.i),Yp(this,t.m),this.l=t.l,e=t.h;var n=new dd;n.i=e.i,e.g&&(n.g=new Eu(e.g),n.h=e.h),OL(this,n),this.o=t.o}else t&&(n=String(t).match(PL))?(this.g=!!e,Kp(this,n[1]||"",!0),this.s=cd(n[2]||""),Qp(this,n[3]||"",!0),Yp(this,n[4]),this.l=cd(n[5]||"",!0),OL(this,n[6]||"",!0),this.o=cd(n[7]||"")):(this.g=!!e,this.h=new dd(null,this.g))}function zi(t){return new Mo(t)}function Kp(t,e,n){t.j=n?cd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qp(t,e,n){t.i=n?cd(e,!0):e}function Yp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function OL(t,e,n){e instanceof dd?(t.h=e,function(t,e){e&&!t.j&&(Is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LL(this,r),UL(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=ld(e,Lie)),t.h=new dd(e,t.g))}function $e(t,e,n){t.h.set(e,n)}function Jp(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ld(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pie(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ld(e,FL,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ld(e,FL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ld(n,"/"==n.charAt(0)?Fie:Oie,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ld(n,Vie)),t.join("")};var FL=/[#\/\?@]/g,Oie=/[#\?:]/g,Fie=/[#\?]/g,Lie=/[#\?@]/g,Vie=/#/g;function dd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Is(t){t.g||(t.g=new Eu,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function LL(t,e){Is(t),e=Cu(t,e),xo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,xo((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Gb(t)))}function VL(t,e){return Is(t),e=Cu(t,e),xo(t.g.h,e)}function UL(t,e,n){LL(t,e),0<n.length&&(t.i=null,t.g.set(Cu(t,e),fb(n)),t.h+=n.length)}function Cu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function BL(t){this.l=t||jie,t=Y.PerformanceNavigationTiming?0<(t=Y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Y.g&&Y.g.Ea&&Y.g.Ea()&&Y.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=dd.prototype).add=function(t,e){Is(this),this.i=null,t=Cu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){Is(this),this.g.forEach(function(n,r){XF(n,function(i){t.call(e,i,r,this)},this)},this)},P.T=function(){Is(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},P.R=function(t){Is(this);var e=[];if("string"==typeof t)VL(this,t)&&(e=eL(e,this.g.get(Cu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=eL(e,t[n])}return e},P.set=function(t,e){return Is(this),this.i=null,VL(this,t=Cu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var jie=10;function jL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $L(t){return t.h?1:t.g?t.g.size:0}function qb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Wb(t,e){t.g?t.g.add(e):t.h=e}function HL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function GL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return fb(t.i)}function zb(){}function $ie(){this.g=new zb}function Hie(t,e,n){const r=n||"";try{Hb(t,function(i,s){let o=i;Xl(i)&&(o=Mb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function hd(t){this.l=t.$b||null,this.j=t.ib||!1}function Xp(t,e){Nt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Kb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BL.prototype.cancel=function(){if(this.i=GL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},zb.prototype.stringify=function(t){return Y.JSON.stringify(t,void 0)},zb.prototype.parse=function(t){return Y.JSON.parse(t,void 0)},Kt(hd,Fb),hd.prototype.g=function(){return new Xp(this.l,this.j)},hd.prototype.i=function(t){return function(){return t}}({}),Kt(Xp,Nt);var Kb=0;function qL(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function fd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pd(t)}function pd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=Xp.prototype).open=function(t,e){if(this.readyState!=Kb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pd(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Y).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fd(this)),this.readyState=Kb},P.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pd(this)),this.g&&(this.readyState=3,pd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Y.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qL(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},P.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fd(this):pd(this),3==this.readyState&&qL(this)}},P.Ua=function(t){this.g&&(this.response=this.responseText=t,fd(this))},P.Ta=function(t){this.g&&(this.response=t,fd(this))},P.ha=function(){this.g&&fd(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var qie=Y.JSON.parse;function ut(t){Nt.call(this),this.headers=new Eu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WL,this.K=this.L=!1}Kt(ut,Nt);var WL="",Wie=/^https?$/i,zie=["POST","PUT"];function Qie(t){return"content-type"==t.toLowerCase()}function zL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KL(t),eg(t)}function KL(t){t.D||(t.D=!0,Qt(t,"complete"),Qt(t,"error"))}function QL(t){if(t.h&&void 0!==lb&&(!t.C[1]||4!=Ki(t)||2!=t.ba()))if(t.v&&4==Ki(t))Ob(t.Fa,0,t);else if(Qt(t,"readystatechange"),4==Ki(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(PL)[1]||null;if(!i&&Y.self&&Y.self.location){var s=Y.self.location.protocol;i=s.substr(0,s.length-1)}r=!Wie.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var o=2<Ki(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",KL(t)}}finally{eg(t)}}}function eg(t,e){if(t.g){YL(t);const n=t.g,r=t.C[0]?Pp:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function YL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function Ki(t){return t.g?t.g.readyState:0}function JL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case WL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return gb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function gd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ZL(t){this.za=0,this.l=[],this.h=new $p,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gd("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gd("baseRetryDelayMs",5e3,t),this.$a=gd("retryDelaySeedMs",1e4,t),this.Ya=gd("forwardChannelMaxRetries",2,t),this.ra=gd("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new BL(t&&t.concurrentRequestLimit),this.Ca=new $ie,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Yb(t){if(XL(t),3==t.G){var e=t.V++,n=zi(t.F);$e(n,"SID",t.J),$e(n,"RID",e),$e(n,"TYPE","terminate"),md(t,n),(e=new od(t,t.h,e,void 0)).K=2,e.v=Jp(zi(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon&&(n=Y.navigator.sendBeacon(e.v.toString(),"")),!n&&Y.Image&&((new Image).src=e.v,n=!0),n||(e.g=uV(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ad(e)}oV(t)}function tg(t){t.g&&(Xb(t),t.g.cancel(),t.g=null)}function XL(t){tg(t),t.u&&(Y.clearTimeout(t.u),t.u=null),rg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Y.clearTimeout(t.m),t.m=null)}function Jb(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&ng(t)}function ng(t){jL(t.i)||t.m||(t.m=!0,Rb(t.Ha,t),t.C=0)}function eV(t,e){var n;n=e?e.m:t.V++;const r=zi(t.F);$e(r,"SID",t.J),$e(r,"RID",n),$e(r,"AID",t.U),md(t,r),t.o&&t.s&&Qb(r,t.o,t.s),n=new od(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=tV(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Wb(t.i,n),jb(n,r,e)}function md(t,e){t.j&&Hb({},function(n,r){$e(e,r,n)})}function tV(t,e,n){n=Math.min(t.l.length,n);var r=t.j?zt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Hie(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function nV(t){t.g||t.u||(t.Y=1,Rb(t.Ga,t),t.A=0)}function Zb(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=id(zt(t.Ga,t),sV(t,t.A)),t.A++,0))}function Xb(t){null!=t.B&&(Y.clearTimeout(t.B),t.B=null)}function rV(t){t.g=new od(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=zi(t.oa);$e(e,"RID","rpc"),$e(e,"SID",t.J),$e(e,"CI",t.N?"0":"1"),$e(e,"AID",t.U),md(t,e),$e(e,"TYPE","xmlhttp"),t.o&&t.s&&Qb(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Jp(zi(e)),n.s=null,n.U=!0,ML(n,t)}function rg(t){null!=t.v&&(Y.clearTimeout(t.v),t.v=null)}function iV(t,e){var n=null;if(t.g==e){rg(t),Xb(t),t.g=null;var r=2}else{if(!qb(t.i,e))return;n=e.D,HL(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Qt(r=Hp(),new DL(r,n,e,i)),ng(t)}else nV(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!($L(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=id(zt(t.Ha,t,e),sV(t,t.C)),t.C++,0)))}(t,e)||2==r&&Zb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ro(t,5);break;case 4:Ro(t,10);break;case 3:Ro(t,6);break;default:Ro(t,2)}}function sV(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ro(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=zt(t.jb,t);n||(n=new Mo("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||Kp(n,"https"),Jp(n)),function(t,e){const n=new $p;if(Y.Image){const r=new Image;r.onload=Op(Zp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Op(Zp,n,r,"TestLoadImage: error",!1,e),r.onabort=Op(Zp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Op(Zp,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else xn(2);t.G=0,t.j&&t.j.va(e),oV(t),XL(t)}function oV(t){t.G=0,t.I=-1,t.j&&((0!=GL(t.i).length||0!=t.l.length)&&(t.i.i.length=0,fb(t.l),t.l.length=0),t.j.ua())}function aV(t,e,n){let r=function(t){return t instanceof Mo?zi(t):new Mo(t,void 0)}(n);if(""!=r.i)e&&Qp(r,e+"."+r.i),Yp(r,r.m);else{const i=Y.location;r=function(t,e,n,r){var i=new Mo(null,void 0);return t&&Kp(i,t),e&&Qp(i,e),n&&Yp(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&gb(t.aa,function(i,s){$e(r,s,i)}),n=t.sa,(e=t.D)&&n&&$e(r,e,n),$e(r,"VER",t.ma),md(t,r),r}function uV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ut(n&&t.Ba&&!t.qa?new hd({ib:!0}):t.qa)).L=t.H,e}function cV(){}function ig(){if(vu&&!(10<=Number(lie)))throw Error("Environmental error: no available transport.")}function sr(t,e){Nt.call(this),this.g=new ZL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Fp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fp(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Iu(this)}function lV(t){Lb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function dV(){Vb.call(this),this.status=1}function Iu(t){this.g=t}(P=ut.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ub.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ub),this.g.onreadystatechange=zt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void zL(this,s)}t=n||"";const i=new Eu(this.headers);r&&Hb(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=Qie;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Y.FormData&&t instanceof Y.FormData,!(0<=ZF(zie,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{YL(this),0<this.B&&((this.K=function(t){return vu&&cie()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.pa,this)):this.A=Ob(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zL(this,s)}},P.pa=function(){void 0!==lb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),eg(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eg(this,!0)),ut.Z.M.call(this)},P.Fa=function(){this.s||(this.F||this.v||this.l?QL(this):this.cb())},P.cb=function(){QL(this)},P.ba=function(){try{return 2<Ki(this)?this.g.status:-1}catch(t){return-1}},P.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},P.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qie(e)}},P.Da=function(){return this.m},P.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=ZL.prototype).ma=8,P.G=1,P.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},P.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new od(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=iL(s),oL(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tV(this,i,e),$e(n=zi(this.F),"RID",t),$e(n,"CVER",22),this.D&&$e(n,"X-HTTP-Session-Id",this.D),md(this,n),this.o&&s&&Qb(n,this.o,s),Wb(this.i,i),this.Ra&&$e(n,"TYPE","init"),this.ja?($e(n,"$req",e),$e(n,"SID","null"),i.$=!0,jb(i,n,null)):jb(i,n,e),this.G=2}}else 3==this.G&&(t?eV(this,t):0==this.l.length||jL(this.i)||eV(this))},P.Ga=function(){if(this.u=null,rV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=id(zt(this.bb,this),t)}},P.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xn(10),tg(this),rV(this))},P.ab=function(){null!=this.v&&(this.v=null,tg(this),Zb(this),xn(19))},P.jb=function(t){t?(this.h.info("Successfully pinged google.com"),xn(2)):(this.h.info("Failed to ping google.com"),xn(1))},(P=cV.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Oa=function(){},ig.prototype.g=function(t,e){return new sr(t,e)},Kt(sr,Nt),sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Rb(zt(t.hb,t,e))),xn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=aV(t,null,t.W),ng(t)},sr.prototype.close=function(){Yb(this.g)},sr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Jb(this.g,e)}else this.v?((e={}).__data__=Mb(t),Jb(this.g,e)):Jb(this.g,t)},sr.prototype.M=function(){this.g.j=null,delete this.j,Yb(this.g),delete this.g,sr.Z.M.call(this)},Kt(lV,Lb),Kt(dV,Vb),Kt(Iu,cV),Iu.prototype.xa=function(){Qt(this.g,"a")},Iu.prototype.wa=function(t){Qt(this.g,new lV(t))},Iu.prototype.va=function(t){Qt(this.g,new dV(t))},Iu.prototype.ua=function(){Qt(this.g,"b")},ig.prototype.createWebChannel=ig.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,Gp.NO_ERROR=0,Gp.TIMEOUT=8,Gp.HTTP_ERROR=6,TL.COMPLETE="complete",SL.EventType=sd,sd.OPEN="a",sd.CLOSE="b",sd.ERROR="c",sd.MESSAGE="d",Nt.prototype.listen=Nt.prototype.N,ut.prototype.listenOnce=ut.prototype.O,ut.prototype.getLastError=ut.prototype.La,ut.prototype.getLastErrorCode=ut.prototype.Da,ut.prototype.getStatus=ut.prototype.ba,ut.prototype.getResponseJson=ut.prototype.Qa,ut.prototype.getResponseText=ut.prototype.ga,ut.prototype.send=ut.prototype.ea;var Zie=Wi.createWebChannelTransport=function(){return new ig},Xie=Wi.getStatEventTarget=function(){return Hp()},eD=Wi.ErrorCode=Gp,ese=Wi.EventType=TL,tse=Wi.Event=Ao,hV=Wi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nse=Wi.FetchXmlHttpFactory=hd,sg=Wi.WebChannel=SL,rse=Wi.XhrIo=ut;const fV="@firebase/firestore";class Yt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let bu="9.5.0";const bs=new uu("@firebase/firestore");function tD(){return bs.logLevel}function D(t,...e){if(bs.logLevel<=pe.DEBUG){const n=e.map(nD);bs.debug(`Firestore (${bu}): ${t}`,...n)}}function ct(t,...e){if(bs.logLevel<=pe.ERROR){const n=e.map(nD);bs.error(`Firestore (${bu}): ${t}`,...n)}}function og(t,...e){if(bs.logLevel<=pe.WARN){const n=e.map(nD);bs.warn(`Firestore (${bu}): ${t}`,...n)}}function nD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: `+t;throw ct(e),new Error(e)}function W(t,e){t||V()}function S(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pV{constructor(e,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class ise{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class ose{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W("string"==typeof r.accessToken),new pV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(null===e||"string"==typeof e),new Yt(e)}}class ase{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class use{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ase(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class or{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.g(r),this.p=r=>n.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function cse(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}or.T=-1;class gV{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new Jt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function yV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _V(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class yd{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===yd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends yd{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const lse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends yd{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return lse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class Tu{constructor(e){this.fields=e,e.sort(ln.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const dse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(W(!!t),"string"==typeof t){let e=0;const n=dse.exec(t);if(W(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Au(t){return"string"==typeof t?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function rD(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vV(t){const e=t.mapValue.fields.__previous_value__;return rD(e)?vV(e):e}function _d(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}function ko(t){return null==t}function ag(t){return 0===t&&1/t==-1/0}class L{constructor(e){this.path=e}static fromPath(e){return new L(we.fromString(e))}static fromName(e){return new L(we.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new we(e.slice()))}}function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rD(t)?4:10:V()}function fi(t,e){const n=Po(t);if(n!==Po(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _d(t).isEqual(_d(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ds(r.timestampValue),o=Ds(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Au(t.bytesValue).isEqual(Au(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?ag(s)===ag(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Du(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(yV(s)!==yV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!fi(s[a],o[a])))return!1;return!0}(t,e);default:return V()}var i}function vd(t,e){return void 0!==(t.values||[]).find(n=>fi(n,e))}function Su(t,e){const n=Po(t),r=Po(e);if(n!==r)return he(n,r);switch(n){case 0:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return EV(t.timestampValue,e.timestampValue);case 4:return EV(_d(t),_d(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Au(i),a=Au(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=he(o[u],a[u]);if(0!==c)return c}return he(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=he(lt(i.latitude),lt(s.latitude));return 0!==o?o:he(lt(i.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Su(o[u],a[u]);if(c)return c}return he(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=he(a[l],c[l]);if(0!==d)return d;const h=Su(o[a[l]],u[c[l]]);if(0!==h)return h}return he(a.length,c.length)}(t.mapValue,e.mapValue);default:throw V()}}function EV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=Ds(t),r=Ds(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function iD(t){return sD(t)}function sD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ds(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Au(t.bytesValue).toBase64():"referenceValue"in t?L.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=sD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${sD(r.fields[a])}`;return s+"}"}(t.mapValue):V();var e}function oD(t){return!!t&&"integerValue"in t}function aD(t){return!!t&&"arrayValue"in t}function CV(t){return!!t&&"nullValue"in t}function IV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cg(t){return!!t&&"mapValue"in t}function wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){No(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(wd(this.value))}}function bV(t){const e=[];return No(t.fields,(n,r)=>{const i=new ln([n]);if(cg(r)){const s=bV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Tu(e)}class He{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new He(e,0,te.min(),dn.empty(),0)}static newFoundDocument(e,n,r){return new He(e,1,n,r,0)}static newNoDocument(e,n){return new He(e,2,n,dn.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,dn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new He(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hse{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.A=null}}function DV(t,e=null,n=[],r=[],i=null,s=null,o=null){return new hse(t,e,n,r,i,s,o)}function Ed(t){const e=S(t);if(null===e.A){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+iD(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ko(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hg(e.startAt)),e.endAt&&(n+="|ub:",n+=hg(e.endAt)),e.A=n}return e.A}function lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Cse(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!fi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SV(t.startAt,e.startAt)&&SV(t.endAt,e.endAt)}function dg(t){return L.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Mn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.R(e,n,r):new gse(e,n,r):"array-contains"===n?new _se(e,r):"in"===n?new vse(e,r):"not-in"===n?new wse(e,r):"array-contains-any"===n?new Ese(e,r):new Mn(e,n,r)}static R(e,n,r){return"in"===n?new mse(e,r):new yse(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.P(Su(n,this.value)):null!==n&&Po(this.value)===Po(n)&&this.P(Su(n,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gse extends Mn{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.P(n)}}class mse extends Mn{constructor(e,n){super(e,"in",n),this.keys=TV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yse extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=TV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class _se extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return aD(n)&&vd(n.arrayValue,this.value)}}class vse extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vd(this.value.arrayValue,n)}}class wse extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vd(this.value.arrayValue,n)}}class Ese extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!aD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vd(this.value.arrayValue,r))}}class Cd{constructor(e,n){this.position=e,this.before=n}}function hg(t){return`${t.before?"b":"a"}:${t.position.map(e=>iD(e)).join(",")}`}class xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function AV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?L.comparator(L.fromName(o.referenceValue),n.key):Su(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function SV(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}class Qi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.V=null,this.S=null}}function Mu(t){return new Qi(t)}function fg(t){return!ko(t.limit)&&"F"===t.limitType}function pg(t){return!ko(t.limit)&&"L"===t.limitType}function Ru(t){const e=S(t);if(null===e.V){e.V=[];const n=function(t){for(const e of t.filters)if(e.v())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.V.push(new xu(n)),e.V.push(new xu(ln.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.V.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new xu(ln.keyField(),s))}}}return e.V}function Ir(t){const e=S(t);if(!e.S)if("F"===e.limitType)e.S=DV(e.path,e.collectionGroup,Ru(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ru(e))n.push(new xu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Cd(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Cd(e.startAt.position,!e.startAt.before):null;e.S=DV(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.S}function Id(t,e){return lg(Ir(t),Ir(e))&&t.limitType===e.limitType}function RV(t){return`${Ed(Ir(t))}|lt:${t.limitType}`}function dD(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${iD(r.value)}`;var r}).join(", ")}]`),ko(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+hg(t.startAt)),t.endAt&&(e+=", endAt: "+hg(t.endAt)),`Target(${e})`}(Ir(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):L.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!AV(n.startAt,Ru(n),r)||n.endAt&&AV(n.endAt,Ru(n),r)));var n,r}function NV(t){return(e,n)=>{let r=!1;for(const i of Ru(t)){const s=Ise(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Ise(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Su(a,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}function kV(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ag(e)?"-0":e}}function PV(t){return{integerValue:""+t}}function OV(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!ag(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?PV(e):kV(t,e)}class gg{constructor(){this._=void 0}}function bse(t,e,n){return t instanceof Nu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Oo?LV(t,e):t instanceof Fo?VV(t,e):function(r,i){const s=FV(r,i),o=UV(s)+UV(r.C);return oD(s)&&oD(r.C)?PV(o):kV(r.N,o)}(t,e)}function Dse(t,e,n){return t instanceof Oo?LV(t,e):t instanceof Fo?VV(t,e):n}function FV(t,e){return t instanceof ku?oD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Nu extends gg{}class Oo extends gg{constructor(e){super(),this.elements=e}}function LV(t,e){const n=BV(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fo extends gg{constructor(e){super(),this.elements=e}}function VV(t,e){let n=BV(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class ku extends gg{constructor(e,n){super(),this.N=e,this.C=n}}function UV(t){return lt(t.integerValue||t.doubleValue)}function BV(t){return aD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ase{constructor(e,n){this.version=e,this.transformResults=n}}class dt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dt}static exists(e){return new dt(void 0,e)}static updateTime(e){return new dt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yg{}function Sse(t,e,n){t instanceof Td?function(r,i,s){const o=r.value.clone(),a=GV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ts?function(r,i,s){if(!mg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=GV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(HV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function hD(t,e,n){var i;t instanceof Td?function(r,i,s){if(!mg(r.precondition,i))return;const o=r.value.clone(),a=qV(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument($V(i),o).setHasLocalMutations()}(t,e,n):t instanceof Ts?function(r,i,s){if(!mg(r.precondition,i))return;const o=qV(r.fieldTransforms,s,i),a=i.data;a.setAll(HV(r)),a.setAll(o),i.convertToFoundDocument($V(i),a).setHasLocalMutations()}(t,e,n):mg(t.precondition,i=e)&&i.convertToNoDocument(te.min())}function xse(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FV(r.transform,i||null);null!=s&&(null==n&&(n=dn.empty()),n.set(r.field,s))}return n||null}function jV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Du(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Oo&&r instanceof Oo||n instanceof Fo&&r instanceof Fo?Du(n.elements,r.elements,fi):n instanceof ku&&r instanceof ku?fi(n.C,r.C):n instanceof Nu&&r instanceof Nu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function $V(t){return t.isFoundDocument()?t.version:te.min()}class Td extends yg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ts extends yg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function HV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GV(t,e,n){const r=new Map;W(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dse(o,a,n[i]))}return r}function qV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bse(s,o,e))}return r}class Ad extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class fD extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Mse{constructor(e){this.count=e}}var ht,ge;function WV(t){switch(t){default:return V();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function zV(t){if(void 0===t)return ct("GRPC error has no .code"),w.UNKNOWN;switch(t){case ht.OK:return w.OK;case ht.CANCELLED:return w.CANCELLED;case ht.UNKNOWN:return w.UNKNOWN;case ht.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case ht.INTERNAL:return w.INTERNAL;case ht.UNAVAILABLE:return w.UNAVAILABLE;case ht.UNAUTHENTICATED:return w.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case ht.NOT_FOUND:return w.NOT_FOUND;case ht.ALREADY_EXISTS:return w.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return w.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case ht.ABORTED:return w.ABORTED;case ht.OUT_OF_RANGE:return w.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return w.UNIMPLEMENTED;case ht.DATA_LOSS:return w.DATA_LOSS;default:return V()}}(ge=ht||(ht={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";class vt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _g(this.root,e,this.comparator,!1)}getReverseIterator(){return new _g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _g(this.root,e,this.comparator,!0)}}class _g{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Zt.RED,this.left=null!=i?i:Zt.EMPTY,this.right=null!=s?s:Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KV(this.data.getIterator())}getIteratorFrom(e){return new KV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class KV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Rse=new vt(L.comparator);function br(){return Rse}const Nse=new vt(L.comparator);function pD(){return Nse}const kse=new vt(L.comparator);const Pse=new Ze(L.comparator);function De(...t){let e=Pse;for(const n of t)e=e.add(n);return e}const Ose=new Ze(he);function vg(){return Ose}class Sd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,n)),new Sd(te.min(),r,vg(),br(),De())}}class xd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new xd(Pt.EMPTY_BYTE_STRING,n,De(),De(),De())}}class wg{constructor(e,n,r,i){this.k=e,this.removedTargetIds=n,this.key=r,this.$=i}}class YV{constructor(e,n){this.targetId=e,this.O=n}}class JV{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ZV{constructor(){this.F=0,this.M=eU(),this.L=Pt.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=De(),n=De(),r=De();return this.M.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new xd(this.L,this.B,e,n,r)}G(){this.U=!1,this.M=eU()}H(e,n){this.U=!0,this.M=this.M.insert(e,n)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Fse{constructor(e){this.tt=e,this.et=new Map,this.nt=br(),this.st=XV(),this.it=new Ze(he)}rt(e){for(const n of e.k)e.$&&e.$.isFoundDocument()?this.ot(n,e.$):this.ct(n,e.key,e.$);for(const n of e.removedTargetIds)this.ct(n,e.key,e.$)}at(e){this.forEachTarget(e,n=>{const r=this.ut(n);switch(e.state){case 0:this.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(n);break;case 3:this.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),r.j(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.et.forEach((r,i)=>{this.ht(i)&&n(i)})}ft(e){const n=e.targetId,r=e.O.count,i=this.dt(n);if(i){const s=i.target;if(dg(s))if(0===r){const o=new L(s.path);this.ct(n,o,He.newNoDocument(o,te.min()))}else W(1===r);else this.wt(n)!==r&&(this.lt(n),this.it=this.it.add(n))}}_t(e){const n=new Map;this.et.forEach((s,o)=>{const a=this.dt(o);if(a){if(s.current&&dg(a.target)){const u=new L(a.target.path);null!==this.nt.get(u)||this.gt(o,u)||this.ct(o,u,He.newNoDocument(u,e))}s.K&&(n.set(o,s.W()),s.G())}});let r=De();this.st.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.dt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Sd(e,n,this.it,this.nt,r);return this.nt=br(),this.st=XV(),this.it=new Ze(he),i}ot(e,n){if(!this.ht(e))return;const r=this.gt(e,n.key)?2:0;this.ut(e).H(n.key,r),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(e))}ct(e,n,r){if(!this.ht(e))return;const i=this.ut(e);this.gt(e,n)?i.H(n,1):i.J(n),this.st=this.st.insert(n,this.yt(n).delete(e)),r&&(this.nt=this.nt.insert(n,r))}removeTarget(e){this.et.delete(e)}wt(e){const n=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let n=this.et.get(e);return n||(n=new ZV,this.et.set(e,n)),n}yt(e){let n=this.st.get(e);return n||(n=new Ze(he),this.st=this.st.insert(e,n)),n}ht(e){const n=null!==this.dt(e);return n||D("WatchChangeAggregator","Detected inactive target",e),n}dt(e){const n=this.et.get(e);return n&&n.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new ZV),this.tt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}gt(e,n){return this.tt.getRemoteKeysForTarget(e).has(n)}}function XV(){return new vt(L.comparator)}function eU(){return new vt(L.comparator)}const Lse={asc:"ASCENDING",desc:"DESCENDING"},Vse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Use{constructor(e,n){this.databaseId=e,this.D=n}}function Md(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tU(t,e){return t.D?e.toBase64():e.toUint8Array()}function Bse(t,e){return Md(t,e.toTimestamp())}function Ot(t){return W(!!t),te.fromTimestamp(function(e){const n=Ds(e);return new Jt(n.seconds,n.nanos)}(t))}function gD(t,e){return(n=t,new we(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function nU(t){const e=we.fromString(t);return W(pU(e)),e}function Rd(t,e){return gD(t.databaseId,e.path)}function pi(t,e){const n=nU(e);if(n.get(1)!==t.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(iU(n))}function mD(t,e){return gD(t.databaseId,e)}function Nd(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iU(t){return W(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function sU(t,e,n){return{name:Rd(t,e),fields:n.value.mapValue.fields}}function uU(t,e){return{documents:[mD(t,e.path)]}}function cU(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=mD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=mD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(IV(l.value))return{unaryFilter:{field:Pu(l.field),op:"IS_NAN"}};if(CV(l.value))return{unaryFilter:{field:Pu(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(IV(l.value))return{unaryFilter:{field:Pu(l.field),op:"IS_NOT_NAN"}};if(CV(l.value))return{unaryFilter:{field:Pu(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(l.field),op:Wse(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Pu((c=u).field),direction:qse(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.D||ko(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=hU(e.startAt)),e.endAt&&(n.structuredQuery.endAt=hU(e.endAt)),n}function lU(t){let e=function(t){const e=nU(t);return 4===e.length?we.emptyPath():iU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){W(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=dU(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new xu(Ou((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ko(d)?null:d}(n.limit));let u=null;n.startAt&&(u=fU(n.startAt));let c=null;return n.endAt&&(c=fU(n.endAt)),function(t,e,n,r,i,s,o,a){return new Qi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function dU(t){return t?void 0!==t.unaryFilter?[Kse(t)]:void 0!==t.fieldFilter?[zse(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>dU(e)).reduce((e,n)=>e.concat(n)):V():[]}function hU(t){return{before:t.before,values:t.position}}function fU(t){return new Cd(t.values||[],!!t.before)}function qse(t){return Lse[t]}function Wse(t){return Vse[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Ou(t){return ln.fromServerFormat(t.fieldPath)}function zse(t){return Mn.create(Ou(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(t.fieldFilter.op),t.fieldFilter.value)}function Kse(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ou(t.unaryFilter.field);return Mn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ou(t.unaryFilter.field);return Mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ou(t.unaryFilter.field);return Mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ou(t.unaryFilter.field);return Mn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return V()}}function Qse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Gr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gU(e)),e=Yse(t.get(n),e);return gU(e)}function Yse(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function gU(t){return t+"\x01\x01"}class ar{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}ar.store="owner",ar.key="owner";class As{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}As.store="mutationQueues",As.keyPath="userId";class Ue{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Ue.store="mutations",Ue.keyPath="batchId",Ue.userMutationsIndex="userMutationsIndex",Ue.userMutationsKeyPath=["userId","batchId"];class hn{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Gr(n)]}static key(e,n,r){return[e,Gr(n),r]}}hn.store="documentMutations",hn.PLACEHOLDER=new hn;class Xe{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Xe.store="remoteDocuments",Xe.readTimeIndex="readTimeIndex",Xe.readTimeIndexPath="readTime",Xe.collectionReadTimeIndex="collectionReadTimeIndex",Xe.collectionReadTimeIndexPath=["parentPath","readTime"];class gi{constructor(e){this.byteSize=e}}gi.store="remoteDocumentGlobal",gi.key="remoteDocumentGlobalKey";class Gn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Gn.store="targets",Gn.keyPath="targetId",Gn.queryTargetsIndexName="queryTargetsIndex",Gn.queryTargetsKeyPath=["canonicalId","targetId"];class Xt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Xt.store="targetDocuments",Xt.keyPath=["targetId","path"],Xt.documentTargetsIndex="documentTargetsIndex",Xt.documentTargetsKeyPath=["path","targetId"];class ur{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}ur.key="targetGlobalKey",ur.store="targetGlobal";class Lo{constructor(e,n){this.collectionId=e,this.parent=n}}Lo.store="collectionParents",Lo.keyPath=["collectionId","parent"];class Ji{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}Ji.store="clientMetadata",Ji.keyPath="clientId";class Fu{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Fu.store="bundles",Fu.keyPath="bundleId";class Lu{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Lu.store="namedQueries",Lu.keyPath="name";const mU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Vo(t){return"IndexedDbTransactionError"===t.name}class _D{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Sse(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&hD(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&hD(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(te.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,(n,r)=>jV(n,r))&&Du(this.baseMutations,e.baseMutations,(n,r)=>jV(n,r))}}class vD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){W(e.mutations.length===r.length);let i=kse;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vD(e,n,r,i)}}class Ss{constructor(e,n,r,i,s=te.min(),o=te.min(),a=Pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vU{constructor(e){this.Wt=e}}function CD(t){const e=lU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class soe{constructor(){this.Gt=new ID}addToCollectionParentIndex(e,n){return this.Gt.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.Gt.getEntries(n))}}class ID{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(we.comparator)).toArray()}}class Wn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(41943040,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class Bo{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Bo(0)}static ie(){return new Bo(-1)}}function jo(t){return DD.apply(this,arguments)}function DD(){return DD=y(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==mU)throw t;D("LocalStore","Unexpectedly lost primary lease")}),DD.apply(this,arguments)}class Hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _V(this.inner)}}class PU{constructor(e,n,r){this.He=e,this.In=n,this.Ht=r}An(e,n){return this.In.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Rn(e,n,r))}Rn(e,n,r){return this.He.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Pn(e,n){return this.He.getEntries(e,n).next(r=>this.vn(e,r).next(()=>r))}vn(e,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return L.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Vn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Sn(e,n,r):this.Dn(e,n,r);var i}Vn(e,n){return this.An(e,new L(n)).next(r=>{let i=pD();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(e,n,r){const i=n.collectionGroup;let s=pD();return this.Ht.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const u=(c=n,l=a.child(i),new Qi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Dn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Dn(e,n,r){let i,s;return this.He.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.In.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Cn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=He.newInvalidDocument(l),i=i.insert(l,d)),hD(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{bd(n,a)||(i=i.remove(o))}),i))}Cn(e,n,r){let i=De();for(const o of n)for(const a of o.mutations)a instanceof Ts&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.He.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class xD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Nn=r,this.xn=i}static kn(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xD(e,n.fromCache,r,i)}}class OU{$n(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(te.min())?this.Fn(e,n):this.On.Pn(e,i).next(s=>{const o=this.Mn(n,s);return(fg(n)||pg(n))&&this.Ln(n.limitType,o,i,r)?this.Fn(e,n):(tD()<=pe.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dD(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Mn(e,n){let r=new Ze(NV(e));return n.forEach((i,s)=>{bd(e,s)&&(r=r.add(s))}),r}Ln(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return tD()<=pe.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",dD(n)),this.On.getDocumentsMatchingQuery(e,n,te.min())}}class yoe{constructor(e,n,r,i){this.persistence=e,this.Bn=n,this.N=i,this.Un=new vt(he),this.qn=new Hu(s=>Ed(s),lg),this.Kn=te.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new PU(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Un))}}function LU(t,e){return MD.apply(this,arguments)}function MD(){return MD=y(function*(t,e){const n=S(t);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.In.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new PU(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=De();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.Pn(o,d).next(h=>({Wn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}),MD.apply(this,arguments)}function _oe(t,e){const n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.jn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);W(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.In.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.In.performConsistencyCheck(r)).next(()=>n.Qn.Pn(r,i))})}function VU(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ze.getLastRemoteSnapshotVersion(n))}function voe(t,e){const n=S(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.ze.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.ze.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,g=c,W((m=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.ze.updateTargetData(s,f))}var p,m,g});let u=br();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=De();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=br();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):D("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(te.min())){const c=n.ze.getLastRemoteSnapshotVersion(s).next(l=>n.ze.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.Qn.vn(s,u)).next(()=>u)}).then(s=>(n.Un=i,s))}function woe(t,e){const n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(r,e)))}function Gu(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ze.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.ze.allocateTargetId(r).next(o=>(i=new Ss(e,o,0,r.currentSequenceNumber),n.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Un.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Un=n.Un.insert(r.targetId,r),n.qn.set(e,r.targetId)),r})}function qu(t,e,n){return RD.apply(this,arguments)}function RD(){return RD=y(function*(t,e,n){const r=S(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Vo(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)}),RD.apply(this,arguments)}function Ag(t,e,n){const r=S(t);let i=te.min(),s=De();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.qn.get(c);return void 0!==d?C.resolve(l.Un.get(d)):l.ze.getTargetData(u,c)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Bn.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:De())).next(a=>({documents:a,Gn:s})))}class boe{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return C.resolve(this.Yn.get(n))}saveBundleMetadata(e,n){var r;return this.Yn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ot(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,{name:(r=n).name,query:CD(r.bundledQuery),readTime:Ot(r.readTime)}),C.resolve();var r}}class OD{constructor(){this.Zn=new Ze(Ft.ts),this.es=new Ze(Ft.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Ft(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}cs(e){const n=new L(new we([])),r=new Ft(n,e),i=new Ft(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new L(new we([])),r=new Ft(n,e),i=new Ft(n,e+1);let s=De();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ft(e,0),r=this.Zn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return L.comparator(e.key,n.key)||he(e.ls,n.ls)}static ns(e,n){return he(e.ls,n.ls)||L.comparator(e.key,n.key)}}class Doe{constructor(e,n){this.Ht=e,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Ze(Ft.ts)}checkEmpty(e){return C.resolve(0===this.In.length)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++;const o=new _D(s,n,r,i);this.In.push(o);for(const a of i)this.ds=this.ds.add(new Ft(a.key,s)),this.Ht.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(e,n){const i=this._s(n+1),s=i<0?0:i;return C.resolve(this.In.length>s?this.In[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return C.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this.ws(o.ls);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(he);return n.forEach(i=>{const s=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),C.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new Ft(new L(s),0);let a=new Ze(he);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ls)),!0)},o),C.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this.ws(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){W(0===this.ys(n.batchId,"removed")),this.In.shift();let r=this.ds;return C.forEach(n.mutations,i=>{const s=new Ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,n){const r=new Ft(n,0),i=this.ds.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}ys(e,n){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const n=this._s(e);return n<0||n>=this.In.length?null:this.In[n]}}class Toe{constructor(e,n){this.Ht=e,this.ps=n,this.docs=new vt(L.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.ps(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Ht.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.clone():He.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():He.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=br();const s=new L(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||bd(n,u)&&(i=i.insert(u.key,u.clone()))}return C.resolve(i)}Ts(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Aoe(this)}getSize(e){return C.resolve(this.size)}}class Aoe extends class{constructor(){this.changes=new Hu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:te.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:He.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.Se.addEntry(e,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.Se.getEntry(e,n)}getAllFromCache(e,n){return this.Se.getEntries(e,n)}}class Soe{constructor(e){this.persistence=e,this.Es=new Hu(n=>Ed(n),lg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Is=0,this.As=new OD,this.targetCount=0,this.Rs=Bo.se()}forEachTarget(e,n){return this.Es.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Is&&(this.Is=n),C.resolve()}ce(e){this.Es.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.ce(n),C.resolve()}removeTargetData(e,n){return this.Es.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Es.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Es.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Es.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.cs(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.As.containsKey(n))}}class xoe{constructor(e,n){this.bs={},this.Le=new or(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Soe(this),this.Ht=new soe,this.He=new Toe(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new vU(n),this.Je=new boe(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new Doe(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new Moe(this.Le.next());return this.referenceDelegate.vs(),r(i).next(s=>this.referenceDelegate.Vs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ss(e,n){return C.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Moe extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class FD{constructor(e){this.persistence=e,this.Ds=new OD,this.Cs=null}static Ns(e){return new FD(e)}get xs(){if(this.Cs)return this.Cs;throw V()}addReference(e,n,r){return this.Ds.addReference(r,n),this.xs.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Ds.removeReference(r,n),this.xs.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),C.resolve()}removeTarget(e,n){this.Ds.cs(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}vs(){this.Cs=new Set}Vs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.xs,r=>{const i=L.fromPath(r);return this.ks(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Cs=null,n.apply(e)))}updateLimboDocument(e,n){return this.ks(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(e){return 0}ks(e,n){return C.or([()=>C.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ss(e,n)])}}class UD{constructor(){this.activeTargetIds=vg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GU{constructor(){this.yi=new UD,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,n,r){this.pi[e]=n}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new UD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Roe{Ti(e){}shutdown(){}}class qU{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Noe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class koe{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Poe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,n,r,i){const s=this.Bi(e,n);D("RestConnection","Sending: ",s,r);const o={};return this.Ui(o,i),this.qi(e,s,o,r).then(a=>(D("RestConnection","Received: ",a),a),a=>{throw og("RestConnection",`${e} failed with error: `,a,"url: ",s,"request:",r),a})}Ki(e,n,r,i){return this.Li(e,n,r,i)}Ui(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+bu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])}Bi(e,n){return`${this.Fi}/v1/${n}:${Noe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,n,r,i){return new Promise((s,o)=>{const a=new rse;a.listenOnce(ese.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case eD.NO_ERROR:const c=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(c)),s(c);break;case eD.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case eD.HTTP_ERROR:const l=a.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new b(h,d.message))}else o(new b(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(w.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ji(e,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Zie(),s=Xie(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new nse({})),this.Ui(o.initMessageHeaders,n),yP()||_P()||xt().indexOf("Electron/")>=0||vP()||xt().indexOf("MSAppHost/")>=0||Jf()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");D("Connection","Creating WebChannel: "+a,o);const u=i.createWebChannel(a,o);let c=!1,l=!1;const d=new koe({vi:f=>{l?D("Connection","Not sending because WebChannel is closed:",f):(c||(D("Connection","Opening WebChannel transport."),u.open(),c=!0),D("Connection","WebChannel sending:",f),u.send(f))},Vi:()=>u.close()}),h=(f,p,m)=>{f.listen(p,g=>{try{m(g)}catch(v){setTimeout(()=>{throw v},0)}})};return h(u,sg.EventType.OPEN,()=>{l||D("Connection","WebChannel transport opened.")}),h(u,sg.EventType.CLOSE,()=>{l||(l=!0,D("Connection","WebChannel transport closed"),d.$i())}),h(u,sg.EventType.ERROR,f=>{l||(l=!0,og("Connection","WebChannel transport errored:",f),d.$i(new b(w.UNAVAILABLE,"The operation could not be completed")))}),h(u,sg.EventType.MESSAGE,f=>{var p;if(!l){const m=f.data[0];W(!!m);const g=m,v=g.error||(null===(p=g[0])||void 0===p?void 0:p.error);if(v){D("Connection","WebChannel received error:",v);const _=v.status;let T=function(G){const Oe=ht[G];if(void 0!==Oe)return zV(Oe)}(_),R=v.message;void 0===T&&(T=w.INTERNAL,R="Unknown error status: "+_+" with message "+v.message),l=!0,d.$i(new b(T,R)),u.close()}else D("Connection","WebChannel received:",m),d.Oi(m)}}),h(s,tse.STAT_EVENT,f=>{f.stat===hV.PROXY?D("Connection","Detected buffering proxy"):f.stat===hV.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.ki()},0),d}}function Mg(){return"undefined"!=typeof document?document:null}function Ld(t){return new Use(t,!0)}class jD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class zU{constructor(e,n,r,i,s,o,a){this.Oe=e,this.er=r,this.nr=i,this.sr=s,this.credentialsProvider=o,this.listener=a,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new jD(e,n)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return y(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return y(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return y(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(ct(n.toString()),ct("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(n)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),n=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===n&&this.Er(r)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(i)})})}Er(e){const n=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{n(()=>this.Ir(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi(y(function*(){e.state=0,e.start()}))}Ir(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return n=>{this.Oe.enqueueAndForget(()=>this.ir===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ooe extends zU{constructor(e,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s),this.N=i}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,c){return u.D?(W(void 0===c||"string"==typeof c),Pt.fromBase64String(c||"")):(W(void 0===c||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:zV(u.code);return new b(c,u.message||"")}(o);n=new JV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pi(t,r.document.name),s=Ot(r.document.updateTime),o=new dn({mapValue:{fields:r.document.fields}}),a=He.newFoundDocument(i,s,o);n=new wg(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=pi(t,r.document),s=r.readTime?Ot(r.readTime):te.min(),o=He.newNoDocument(i,s);n=new wg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=pi(t,r.document);n=new wg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,s=new Mse(r.count||0);n=new YV(r.targetId,s)}}var u;return n}(this.N,e),r=function(i){if(!("targetChange"in i))return te.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Ot(s.readTime):te.min()}(e);return this.listener.Rr(n,r)}br(e){const n={};n.database=Nd(this.N),n.addTarget=function(i,s){let o;const a=s.target;return o=dg(a)?{documents:uU(i,a)}:{query:cU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=tU(i,s.resumeToken):s.snapshotVersion.compareTo(te.min())>0&&(o.readTime=Md(i,s.snapshotVersion.toTimestamp())),o}(this.N,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.mr(n)}Pr(e){const n={};n.database=Nd(this.N),n.removeTarget=e,this.mr(n)}}class Foe extends zU{constructor(e,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s),this.N=i,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const n=function(t,e){return t&&t.length>0?(W(void 0!==e),t.map(n=>function(r,i){let s=Ot(r.updateTime?r.updateTime:i);return s.isEqual(te.min())&&(s=Ot(i)),new Ase(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Ot(e.commitTime);return this.listener.Dr(r,n)}return W(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Nd(this.N),this.mr(e)}Sr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function(t,e){let n;if(e instanceof Td)n={update:sU(t,e.key,e.value)};else if(e instanceof Ad)n={delete:Rd(t,e.key)};else if(e instanceof Ts)n={update:sU(t,e.key,e.data),updateMask:Qse(e.fieldMask)};else{if(!(e instanceof fD))return V();n={verify:Rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ku)return{fieldPath:s.field.canonicalString(),increment:o.C};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Bse(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.N,r))};this.mr(n)}}class Loe extends class{}{constructor(e,n,r){super(),this.credentials=e,this.sr=n,this.N=r,this.kr=!1}$r(){if(this.kr)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Li(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new b(w.UNKNOWN,i.toString())})}Ki(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Ki(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new b(w.UNKNOWN,i.toString())})}terminate(){this.kr=!0}}class Voe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(ct(n),this.Mr=!1):D("OnlineStateTracker",n)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Uoe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=s,this.zr.Ti(a=>{r.enqueueAndForget(y(function*(){var u;Ns(o)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=S(c);l.Wr.add(4),yield Wu(l),l.Hr.set("Unknown"),l.Wr.delete(4),yield Vd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Hr=new Voe(r,i)}}function Vd(t){return $D.apply(this,arguments)}function $D(){return $D=y(function*(t){if(Ns(t))for(const e of t.Gr)yield e(!0)}),$D.apply(this,arguments)}function Wu(t){return HD.apply(this,arguments)}function HD(){return HD=y(function*(t){for(const e of t.Gr)yield e(!1)}),HD.apply(this,arguments)}function Rg(t,e){const n=S(t);n.Qr.has(e.targetId)||(n.Qr.set(e.targetId,e),WD(n)?qD(n):Ku(n).hr()&&GD(n,e))}function Ud(t,e){const n=S(t),r=Ku(n);n.Qr.delete(e),r.hr()&&KU(n,e),0===n.Qr.size&&(r.hr()?r.wr():Ns(n)&&n.Hr.set("Unknown"))}function GD(t,e){t.Jr.Y(e.targetId),Ku(t).br(e)}function KU(t,e){t.Jr.Y(e),Ku(t).Pr(e)}function qD(t){t.Jr=new Fse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),Ku(t).start(),t.Hr.Lr()}function WD(t){return Ns(t)&&!Ku(t).ur()&&t.Qr.size>0}function Ns(t){return 0===S(t).Wr.size}function QU(t){t.Jr=void 0}function Boe(t){return zD.apply(this,arguments)}function zD(){return zD=y(function*(t){t.Qr.forEach((e,n)=>{GD(t,e)})}),zD.apply(this,arguments)}function joe(t,e){return KD.apply(this,arguments)}function KD(){return KD=y(function*(t,e){QU(t),WD(t)?(t.Hr.qr(e),qD(t)):t.Hr.set("Unknown")}),KD.apply(this,arguments)}function $oe(t,e,n){return QD.apply(this,arguments)}function QD(){return QD=y(function*(t,e,n){if(t.Hr.set("Online"),e instanceof JV&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Qr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Qr.delete(a),i.Jr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ng(t,r)}else if(e instanceof wg?t.Jr.rt(e):e instanceof YV?t.Jr.ft(e):t.Jr.at(e),!n.isEqual(te.min()))try{const r=yield VU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Jr._t(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Qr.get(u);c&&i.Qr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Qr.get(a);if(!u)return;i.Qr.set(a,u.withResumeToken(Pt.EMPTY_BYTE_STRING,u.snapshotVersion)),KU(i,a);const c=new Ss(u.target,a,1,u.sequenceNumber);GD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield Ng(t,r)}var r}),QD.apply(this,arguments)}function Ng(t,e,n){return YD.apply(this,arguments)}function YD(){return YD=y(function*(t,e,n){if(!Vo(e))throw e;t.Wr.add(1),yield Wu(t),t.Hr.set("Offline"),n||(n=()=>VU(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.Wr.delete(1),yield Vd(t)}))}),YD.apply(this,arguments)}function YU(t,e){return e().catch(n=>Ng(t,n,e))}function zu(t){return JD.apply(this,arguments)}function JD(){return JD=y(function*(t){const e=S(t),n=ks(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;Hoe(e);)try{const i=yield woe(e.localStore,r);if(null===i){0===e.jr.length&&n.wr();break}r=i.batchId,Goe(e,i)}catch(i){yield Ng(e,i)}JU(e)&&ZU(e)}),JD.apply(this,arguments)}function Hoe(t){return Ns(t)&&t.jr.length<10}function Goe(t,e){t.jr.push(e);const n=ks(t);n.hr()&&n.Vr&&n.Sr(e.mutations)}function JU(t){return Ns(t)&&!ks(t).ur()&&t.jr.length>0}function ZU(t){ks(t).start()}function qoe(t){return ZD.apply(this,arguments)}function ZD(){return ZD=y(function*(t){ks(t).Nr()}),ZD.apply(this,arguments)}function Woe(t){return XD.apply(this,arguments)}function XD(){return XD=y(function*(t){const e=ks(t);for(const n of t.jr)e.Sr(n.mutations)}),XD.apply(this,arguments)}function zoe(t,e,n){return eT.apply(this,arguments)}function eT(){return eT=y(function*(t,e,n){const r=t.jr.shift(),i=vD.from(r,e,n);yield YU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zu(t)}),eT.apply(this,arguments)}function Koe(t,e){return tT.apply(this,arguments)}function tT(){return tT=y(function*(t,e){var n;e&&ks(t).Vr&&(yield(n=y(function*(r,i){if(WV(s=i.code)&&s!==w.ABORTED){const o=r.jr.shift();ks(r).dr(),yield YU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield zu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),JU(t)&&ZU(t)}),tT.apply(this,arguments)}function rT(){return rT=y(function*(t,e){const n=S(t);e?(n.Wr.delete(2),yield Vd(n)):e||(n.Wr.add(2),yield Wu(n),n.Hr.set("Unknown"))}),rT.apply(this,arguments)}function Ku(t){return t.Yr||(t.Yr=function(e,n,r){const i=S(e);return i.$r(),new Ooe(n,i.sr,i.credentials,i.N,r)}(t.datastore,t.asyncQueue,{Si:Boe.bind(null,t),Ci:joe.bind(null,t),Rr:$oe.bind(null,t)}),t.Gr.push(function(){var e=y(function*(n){n?(t.Yr.dr(),WD(t)?qD(t):t.Hr.set("Unknown")):(yield t.Yr.stop(),QU(t))});return function(n){return e.apply(this,arguments)}}())),t.Yr}function ks(t){return t.Xr||(t.Xr=function(e,n,r){const i=S(e);return i.$r(),new Foe(n,i.sr,i.credentials,i.N,r)}(t.datastore,t.asyncQueue,{Si:qoe.bind(null,t),Ci:Koe.bind(null,t),Cr:Woe.bind(null,t),Dr:zoe.bind(null,t)}),t.Gr.push(function(){var e=y(function*(n){n?(t.Xr.dr(),yield zu(t)):(yield t.Xr.stop(),t.jr.length>0&&(D("RemoteStore",`Stopping write stream with ${t.jr.length} pending writes`),t.jr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Xr}class iT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new iT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qu(t,e){if(ct("AsyncQueue",`${e}: ${t}`),Vo(t))return new b(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Yu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=pD(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class XU{constructor(){this.Zr=new vt(L.comparator)}track(e){const n=e.doc.key,r=this.Zr.get(n);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(n,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(n):1===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):V():this.Zr=this.Zr.insert(n,e)}eo(){const e=[];return this.Zr.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ju{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ju(e,n,Yu.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Qoe{constructor(){this.no=void 0,this.listeners=[]}}class Yoe{constructor(){this.queries=new Hu(e=>RV(e),Id),this.onlineState="Unknown",this.so=new Set}}function oT(){return oT=y(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Qoe),i)try{s.no=yield n.onListen(r)}catch(o){const a=Qu(o,`Initialization of query '${dD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.io(n.onlineState),s.no&&e.ro(s.no)&&cT(n)}),oT.apply(this,arguments)}function uT(){return uT=y(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),uT.apply(this,arguments)}function Joe(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.ro(i)&&(r=!0);o.no=i}}r&&cT(n)}function Zoe(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function cT(t){t.so.forEach(e=>{e.next()})}class lT{constructor(e,n,r){this.query=e,this.oo=n,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ju(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.uo(e)&&(this.oo.next(e),n=!0):this.ho(e,this.onlineState)&&(this.lo(e),n=!0),this.ao=e,n}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let n=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),n=!0),n}ho(e,n){return!e.fromCache||!(this.options.fo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class n2{constructor(e){this.key=e}}class r2{constructor(e){this.key=e}}class i2{constructor(e,n){this.query=e,this.po=n,this.To=null,this.current=!1,this.Eo=De(),this.mutatedKeys=De(),this.Io=NV(e),this.Ao=new Yu(this.Io)}get Ro(){return this.po}bo(e,n){const r=n?n.Po:new XU,i=n?n.Ao:this.Ao;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=fg(this.query)&&i.size===this.query.limit?i.last():null,c=pg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=bd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.vo(h,f)||(r.track({type:2,doc:f}),g=!0,(u&&this.Io(f,u)>0||c&&this.Io(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(u||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),fg(this.query)||pg(this.query))for(;o.size>this.query.limit;){const l=fg(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ao:o,Po:r,Ln:a,mutatedKeys:s}}vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const s=e.Po.eo();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.Io(c.doc,l.doc)),this.Vo(r);const o=n?this.So():[],a=0===this.Eo.size&&this.current?1:0,u=a!==this.To;return this.To=a,0!==s.length||u?{snapshot:new Ju(this.query,e.Ao,i,s,e.mutatedKeys,0===a,u,!1),Do:o}:{Do:o}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new XU,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(n=>this.po=this.po.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.po=this.po.delete(n)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=De(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const n=[];return e.forEach(r=>{this.Eo.has(r)||n.push(new r2(r))}),this.Eo.forEach(r=>{e.has(r)||n.push(new n2(r))}),n}No(e){this.po=e.Gn,this.Eo=De();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return Ju.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class tae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nae{constructor(e){this.key=e,this.ko=!1}}class rae{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.$o={},this.Oo=new Hu(a=>RV(a),Id),this.Fo=new Map,this.Mo=new Set,this.Lo=new vt(L.comparator),this.Bo=new Map,this.Uo=new OD,this.qo={},this.Ko=new Map,this.jo=Bo.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function iae(t,e){return dT.apply(this,arguments)}function dT(){return dT=y(function*(t,e){const n=PT(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Gu(n.localStore,Ir(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield hT(n,e,r,"current"===a),n.isPrimaryClient&&Rg(n.remoteStore,o)}return i}),dT.apply(this,arguments)}function hT(t,e,n,r){return fT.apply(this,arguments)}function fT(){return fT=y(function*(t,e,n,r){t.Wo=(l,d,h)=>{return(f=y(function*(p,m,g,v){let _=m.view.bo(g);_.Ln&&(_=yield Ag(p.localStore,m.query,!1).then(({documents:G})=>m.view.bo(G,_)));const T=v&&v.targetChanges.get(m.targetId),R=m.view.applyChanges(_,p.isPrimaryClient,T);return IT(p,m.targetId,R.Do),R.snapshot}),function(p,m,g,v){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Ag(t.localStore,e,!0),s=new i2(e,i.Gn),o=s.bo(i.documents),a=xd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);IT(t,n,u.Do);const c=new tae(e,n,s);return t.Oo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),u.snapshot}),fT.apply(this,arguments)}function sae(t,e){return pT.apply(this,arguments)}function pT(){return pT=y(function*(t,e){const n=S(t),r=n.Oo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!Id(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ud(n.remoteStore,r.targetId),Zu(n,r.targetId)}).catch(jo))):(Zu(n,r.targetId),yield qu(n.localStore,r.targetId,!0))}),pT.apply(this,arguments)}function gT(){return gT=y(function*(t,e,n){const r=OT(t);try{const i=yield function(s,o){const a=S(s),u=Jt.now(),c=o.reduce((d,h)=>d.add(h.key),De());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Qn.Pn(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=xse(p,l.get(p.key));null!=m&&f.push(new Ts(p.key,m,bV(m.value.mapValue),dt.exists(!0)))}return a.In.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.qo[s.currentUser.toKey()];u||(u=new vt(he)),u=u.insert(o,a),s.qo[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Zi(r,i.changes),yield zu(r.remoteStore)}catch(i){const s=Qu(i,"Failed to persist write");n.reject(s)}}),gT.apply(this,arguments)}function s2(t,e){return mT.apply(this,arguments)}function mT(){return mT=y(function*(t,e){const n=S(t);try{const r=yield voe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Bo.get(s);o&&(W(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ko=!0:i.modifiedDocuments.size>0?W(o.ko):i.removedDocuments.size>0&&(W(o.ko),o.ko=!1))}),yield Zi(n,r,e)}catch(r){yield jo(r)}}),mT.apply(this,arguments)}function o2(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.io(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.io(o)&&(u=!0)}),u&&cT(a)}(r.eventManager,e),i.length&&r.$o.Rr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aae(t,e,n){return yT.apply(this,arguments)}function yT(){return yT=y(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Bo.get(e),s=i&&i.key;if(s){let o=new vt(L.comparator);o=o.insert(s,He.newNoDocument(s,te.min()));const a=De().add(s),u=new Sd(te.min(),new Map,new Ze(he),o,a);yield s2(r,u),r.Lo=r.Lo.remove(s),r.Bo.delete(e),bT(r)}else yield qu(r.localStore,e,!1).then(()=>Zu(r,e,n)).catch(jo)}),yT.apply(this,arguments)}function uae(t,e){return _T.apply(this,arguments)}function _T(){return _T=y(function*(t,e){const n=S(t),r=e.batch.batchId;try{const i=yield _oe(n.localStore,e);CT(n,r,null),ET(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Zi(n,i)}catch(i){yield jo(i)}}),_T.apply(this,arguments)}function cae(t,e,n){return vT.apply(this,arguments)}function vT(){return vT=y(function*(t,e,n){const r=S(t);try{const i=yield function(s,o){const a=S(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.In.lookupMutationBatch(u,o).next(l=>(W(null!==l),c=l.keys(),a.In.removeMutationBatch(u,l))).next(()=>a.In.performConsistencyCheck(u)).next(()=>a.Qn.Pn(u,c))})}(r.localStore,e);CT(r,e,n),ET(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Zi(r,i)}catch(i){yield jo(i)}}),vT.apply(this,arguments)}function ET(t,e){(t.Ko.get(e)||[]).forEach(n=>{n.resolve()}),t.Ko.delete(e)}function CT(t,e,n){const r=S(t);let i=r.qo[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qo[r.currentUser.toKey()]=i}}function Zu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(r=>{t.Uo.containsKey(r)||a2(t,r)})}function a2(t,e){t.Mo.delete(e.path.canonicalString());const n=t.Lo.get(e);null!==n&&(Ud(t.remoteStore,n),t.Lo=t.Lo.remove(e),t.Bo.delete(n),bT(t))}function IT(t,e,n){for(const r of n)r instanceof n2?(t.Uo.addReference(r.key,e),dae(t,r)):r instanceof r2?(D("SyncEngine","Document no longer in limbo: "+r.key),t.Uo.removeReference(r.key,e),t.Uo.containsKey(r.key)||a2(t,r.key)):V()}function dae(t,e){const n=e.key,r=n.path.canonicalString();t.Lo.get(n)||t.Mo.has(r)||(D("SyncEngine","New document in limbo: "+n),t.Mo.add(r),bT(t))}function bT(t){for(;t.Mo.size>0&&t.Lo.size<t.maxConcurrentLimboResolutions;){const e=t.Mo.values().next().value;t.Mo.delete(e);const n=new L(we.fromString(e)),r=t.jo.next();t.Bo.set(r,new nae(n)),t.Lo=t.Lo.insert(n,r),Rg(t.remoteStore,new Ss(Ir(Mu(n.path)),r,2,or.T))}}function Zi(t,e,n){return DT.apply(this,arguments)}function DT(){return DT=y(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Wo(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=xD.kn(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=y(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.Nn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Vo(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Un.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Un=l.Un.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),DT.apply(this,arguments)}function hae(t,e){return TT.apply(this,arguments)}function TT(){return TT=y(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield LU(n.localStore,e);n.currentUser=e,(i=n).Ko.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zi(n,r.Wn)}var i}),TT.apply(this,arguments)}function fae(t,e){const n=S(t),r=n.Bo.get(e);if(r&&r.ko)return De().add(r.key);{let i=De();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Ro)}return i}}function PT(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aae.bind(null,e),e.$o.Rr=Joe.bind(null,e.eventManager),e.$o.Go=Zoe.bind(null,e.eventManager),e}function OT(t){const e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cae.bind(null,e),e}class Cae{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.N=Ld(e.databaseInfo.databaseId),n.sharedClientState=n.Ho(e),n.persistence=n.Jo(e),yield n.persistence.start(),n.gcScheduler=n.Yo(e),n.localStore=n.Xo(e)})()}Yo(e){return null}Xo(e){return function(t,e,n,r){return new yoe(t,e,n,r)}(this.persistence,new OU,e.initialUser,this.N)}Jo(e){return new xoe(FD.Ns,this.N)}Ho(e){return new GU}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FT{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>o2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hae.bind(null,r.syncEngine),yield function(t,e){return rT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Yoe}createDatastore(e){const n=Ld(e.databaseInfo.databaseId),r=new Poe(e.databaseInfo);return new Loe(e.credentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>o2(this.syncEngine,a,0),o=qU.bt()?new qU:new Roe,new Uoe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new rae(r,i,s,o,a,u);return c&&(l.Qo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(n){const r=S(n);D("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Wu(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class kg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Sae{constructor(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Yt.UNAUTHENTICATED,this.clientId=gV.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var s=y(function*(o){D("FirestoreClient","Received user=",o.uid),yield i.credentialListener(o),i.user=o});return function(o){return s.apply(this,arguments)}}())}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),n.resolve()}catch(r){const i=Qu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function d2(t,e){return LT.apply(this,arguments)}function LT(){return LT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield LU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),LT.apply(this,arguments)}function h2(t,e){return VT.apply(this,arguments)}function VT(){return VT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield UT(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=y(function*(o,a){const u=S(o);u.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const c=Ns(u);u.Wr.add(3),yield Wu(u),c&&u.Hr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Wr.delete(3),yield Vd(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),VT.apply(this,arguments)}function UT(t){return BT.apply(this,arguments)}function BT(){return BT=y(function*(t){return t.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),yield d2(t,new Cae)),t.offlineComponents}),BT.apply(this,arguments)}function Pg(t){return jT.apply(this,arguments)}function jT(){return jT=y(function*(t){return t.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),yield h2(t,new FT)),t.onlineComponents}),jT.apply(this,arguments)}function Xu(t){return GT.apply(this,arguments)}function GT(){return GT=y(function*(t){const e=yield Pg(t),n=e.eventManager;return n.onListen=iae.bind(null,e.syncEngine),n.onUnlisten=sae.bind(null,e.syncEngine),n}),GT.apply(this,arguments)}class Lae{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Bd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bd&&e.projectId===this.projectId&&e.database===this.database}}const y2=new Map;function qT(t,e,n){if(!n)throw new b(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _2(t){if(!L.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Og(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Og(t);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class E2{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E2({}),this._settingsFrozen=!1,e instanceof Bd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(r.options.projectId)}(e))}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E2(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new ise;switch(n.type){case"gapi":const r=n.client;return W(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new use(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new b(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=y2.get(e);n&&(D("ComponentProvider","Removing Datastore"),y2.delete(e),n.terminate())}(this),Promise.resolve()}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}}class fn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fn(this.firestore,e,this._query)}}class mi extends fn{constructor(e,n,r){super(e,n,Mu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new L(e))}withConverter(e){return new mi(this.firestore,e,this._path)}}function C2(t,e,...n){if(t=Gt(t),1===arguments.length&&(e=gV.I()),qT("doc","path",e),t instanceof jd){const r=we.fromString(e,...n);return _2(r),new rt(t,null,new L(r))}{if(!(t instanceof rt||t instanceof mi))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return _2(r),new rt(t.firestore,t instanceof mi?t.converter:null,new L(r))}}class Bae{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new jD(this,"async_queue_retry"),this.Rc=()=>{const n=Mg();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ar.tr()};const e=Mg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const n=Mg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const n=new kt;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return y(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(n){if(!Vo(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const n=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,ct("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.bc(),this.Ac.indexOf(e)>-1&&(n=0);const i=iT.createAndSchedule(this,e,n,r,s=>this.Vc(s));return this.yc.push(i),i}bc(){this.Tc&&V()}verifyOperationInProgress(){}Sc(){var e=this;return y(function*(){let n;do{n=e._c,yield n}while(n!==e._c)})()}Dc(e){for(const n of this.yc)if(n.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.yc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const n=this.yc.indexOf(e);this.yc.splice(n,1)}}function WT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class We extends jd{constructor(e,n){super(e,n),this.type="firestore",this._queue=new Bae,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||I2(this),this._firestoreClient.terminate()}}function $ae(t=fw()){return cu(t,"firestore").getImmediate()}function Lt(t){return t._firestoreClient||I2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I2(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Lae(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Sae(t._credentials,t._queue,r)}class ec{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Pt.fromBase64String(e))}catch(n){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zT{constructor(e){this._methodName=e}}class KT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const Hae=/^__.*__$/;class Gae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Td(e,this.data,n,this.fieldTransforms)}}class T2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function A2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class Fg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$c({path:r,Fc:!1});return i.Mc(e),i}Lc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$c({path:r,Fc:!1});return i.xc(),i}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Lg(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(A2(this.kc)&&Hae.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class qae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.N=r||Ld(e)}jc(e,n,r,i=!1){return new Fg({kc:e,methodName:n,Kc:r,path:ln.emptyPath(),Fc:!1,qc:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function tc(t){const e=t._freezeSettings(),n=Ld(t._databaseId);return new qae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QT(t,e,n,r,i,s={}){const o=t.jc(s.merge||s.mergeFields?2:0,e,n,i);JT("Data must be an object, but it was:",o,r);const a=N2(r,o);let u,c;if(s.merge)u=new Tu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=ZT(e,d,n);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);P2(l,h)||l.push(h)}u=new Tu(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Gae(new dn(a),u,c)}class $d extends zT{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function Ho(t,e){if(k2(t=Gt(t)))return JT("Unsupported field value:",e,t),N2(t,e);if(t instanceof zT)return function(n,r){if(!A2(r.kc))throw r.Uc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ho(o,r.Bc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Gt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return OV(r.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Jt.fromDate(n);return{timestampValue:Md(r.N,i)}}if(n instanceof Jt){const i=new Jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Md(r.N,i)}}if(n instanceof KT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $o)return{bytesValue:tU(r.N,n._byteString)};if(n instanceof rt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Uc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Uc(`Unsupported field value: ${Og(n)}`)}(t,e)}function N2(t,e){const n={};return _V(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,i)=>{const s=Ho(i,e.Oc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function k2(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof KT||t instanceof $o||t instanceof rt||t instanceof zT)}function JT(t,e,n){if(!k2(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Og(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}var r}function ZT(t,e,n){if((e=Gt(e))instanceof ec)return e._internalPath;if("string"==typeof e)return XT(t,e);throw Lg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Qae=new RegExp("[~\\*/\\[\\]]");function XT(t,e,n){if(e.search(Qae)>=0)throw Lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ec(...e.split("."))._internalPath}catch(r){throw Lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+t+u)}function P2(t,e){return t.some(n=>n.isEqual(e))}class e0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Yae extends e0{data(){return super.data()}}function Vg(t,e){return"string"==typeof e?XT(t,e):e instanceof ec?e._internalPath:e._delegate._internalPath}class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends e0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ug extends nc{data(e={}){return super.data(e)}}class rc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ug(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Jae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class qo extends class{convertValue(e,n="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Au(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){const r={};return No(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new KT(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);W(pU(r));const i=new Bd(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function nue(t,e,n){t=me(t,rt);const r=me(t.firestore,We),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Hd(r,[QT(tc(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,dt.none())])}function rue(t,e,n,...r){t=me(t,rt);const i=me(t.firestore,We),s=tc(i);let o;return o="string"==typeof(e=Gt(e))||e instanceof ec?function(t,e,n,r,i,s){const o=t.jc(1,e,n),a=[ZT(e,r,n)],u=[i];if(s.length%2!=0)throw new b(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(ZT(e,s[h])),u.push(s[h+1]);const c=[],l=dn.empty();for(let h=a.length-1;h>=0;--h)if(!P2(c,a[h])){const f=a[h];let p=u[h];p=Gt(p);const m=o.Lc(f);if(p instanceof $d)c.push(f);else{const g=Ho(p,m);null!=g&&(c.push(f),l.set(f,g))}}const d=new Tu(c);return new T2(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function(t,e,n,r){const i=t.jc(1,e,n);JT("Data must be an object, but it was:",i,r);const s=[],o=dn.empty();No(r,(u,c)=>{const l=XT(e,u,n);c=Gt(c);const d=i.Lc(l);if(c instanceof $d)s.push(l);else{const h=Ho(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Tu(s);return new T2(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Hd(i,[o.toMutation(t._key,dt.exists(!0))])}function iue(t,...e){var n,r,i;t=Gt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||WT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(WT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof rt)c=me(t.firestore,We),l=Mu(t._key.path),u={next:d=>{e[o]&&e[o](function(t,e,n){const r=n.docs.get(e._key),i=new qo(t);return new nc(t,i,e._key,r,new Go(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=me(t,fn);c=me(d.firestore,We),l=d._query;const h=new qo(c);u={next:f=>{e[o]&&e[o](new rc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function(t){if(pg(t)&&0===t.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new kg(p),g=new lT(h,m,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return oT.apply(this,arguments)}(yield Xu(d),g)})),()=>{m.ec(),d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return uT.apply(this,arguments)}(yield Xu(d),g)}))}}(Lt(c),l,a,u)}function Hd(t,e){return function(n,r){const i=new kt;return n.asyncQueue.enqueueAndForget(y(function*(){return function(t,e,n){return gT.apply(this,arguments)}(yield function(t){return Pg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Lt(t),e)}function oue(){return new $d("deleteField")}!function(t,e=!0){bu="9.5.0",Bn(new Dn("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new We(i,new ose(n.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Je(fV,"3.3.1",t),Je(fV,"3.3.1","esm2017")}();class Ps{constructor(e){return e}}const H2="firestore",r0=new ee("angularfire2.firestore-instances");function cue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ps(r)}}const lue={provide:class{constructor(){return qE(H2)}},deps:[[new Le,r0]]},due={provide:Ps,useFactory:function(t,e){const n=GE(H2,t,e);return n&&new Ps(n)},deps:[[new Le,r0],mu]};let hue=(()=>{class t{constructor(){Je("angularfire",cp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({providers:[due,lue]}),t})();function fue(t,...e){return{ngModule:hue,providers:[{provide:r0,useFactory:cue(t),multi:!0,deps:[Ve,_e,WE,zE,[new Le,JF],[new Le,lC],...e]}]}}const G2=Er(oue,!0),ic=Er(C2,!0),pue=Er($ae,!0),gue=Er(iue,!0),mue=Er(nue,!0),jg=Er(rue,!0);function yue(t,e){if(1&t){const n=Fa();N(0,"img",5),ve("click",function(){return Ks(n),ds().fnMakeLogout()}),k()}}let s0=(()=>{class t{constructor(n,r){this.auth=n,this.dataService=r}get userState(){return this.dataService.userState}ngOnInit(){}fnMakeLogout(){this.emailLogout(),window.location.pathname="/"}fnGoHome(){window.location.pathname="/"}emailLogout(){var n=this;return y(function*(){return yield Yre(n.auth)})()}}return t.\u0275fac=function(n){return new(n||t)(E(Es),E(go))},t.\u0275cmp=Dr({type:t,selectors:[["app-upper-bar"]],decls:8,vars:1,consts:[[1,"cHeaderStyle"],[1,"cHeaderStyleSection"],[1,"cBtnTransparenci"],["src","/assets/img/logolarge.png","alt","",3,"click"],["src","/assets/img/logOut.png","alt","",3,"click",4,"ngIf"],["src","/assets/img/logOut.png","alt","",3,"click"]],template:function(n,r){1&n&&(N(0,"header",0),N(1,"section",1),N(2,"div"),N(3,"button",2),N(4,"img",3),ve("click",function(){return r.fnGoHome()}),k(),k(),k(),N(5,"div"),N(6,"button",2),Mi(7,yue,1,0,"img",4),k(),k(),k(),k()),2&n&&(tt(7),Dt("ngIf",r.userState.log))},directives:[_l],styles:[".cHeaderStyle[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#ffe5d9;width:100%;height:9.5%;border-bottom:.5em solid black}.cHeaderStyleSection[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.cBtnTransparenci[_ngcontent-%COMP%]{background-color:Transparent;border:none}.cBtnTransparenci[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45px;margin:5px 15px 0}"]}),t})();function _ue(t,e){1&t&&Ln(0,"img",6)}let vue=(()=>{class t{constructor(n,r){this.dataService=n,this.db=r,this.title="Title",this.content="Contente of the Note",this.status="Create",this.date="01/12/2021",this.edited=""}get userState(){return this.dataService.userState}get note(){return this.dataService.note}fnDate(){return"string"==typeof this.edited?"string"==typeof this.edited?new Date(parseInt(this.edited)).toString().slice(3,21):"":"string"==typeof this.date?new Date(parseInt(this.date)).toString().slice(3,21):""}fnDeleteNote(){var n=this;return y(function*(){const r="string"==typeof n.userState.id?n.userState.id:"noData",i="string"==typeof n.date?n.date:"noData";yield jg(ic(n.db,"users",r),{[i]:G2()}),n.dataService.note={title:"",content:""}})()}}return t.\u0275fac=function(n){return new(n||t)(E(go),E(Ps))},t.\u0275cmp=Dr({type:t,selectors:[["app-template-list-notes"]],inputs:{title:"title",content:"content",status:"status",date:"date",edited:"edited"},decls:12,vars:4,consts:[[1,"cTemplateLN"],[1,"cContent"],[1,"cDate"],["class","cEdited","src","/assets/img/pensil.png","alt","",4,"ngIf"],[1,"cDivContentAddNote"],["type","button","src","/assets/img/deleteNotethird.png","alt","",1,"cNewNote",3,"click"],["src","/assets/img/pensil.png","alt","",1,"cEdited"]],template:function(n,r){1&n&&(N(0,"div",0),N(1,"h3"),jt(2),k(),N(3,"p",1),jt(4),k(),N(5,"div",2),N(6,"div"),N(7,"p"),jt(8),Mi(9,_ue,1,0,"img",3),k(),k(),N(10,"div",4),N(11,"img",5),ve("click",function(){return r.fnDeleteNote()}),k(),k(),k(),k()),2&n&&(tt(2),Va(r.title),tt(2),Va(r.content),tt(4),qh("",r.fnDate()," "),tt(1),Dt("ngIf",r.edited))},directives:[_l],styles:[".cTemplateLN[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:10px;padding-bottom:10px;width:95%;margin:auto auto 5%;border:solid;background-color:#f8edeb;overflow-y:scroll}h3[_ngcontent-%COMP%]{margin-left:10px}.cContent[_ngcontent-%COMP%]{font-style:italic;text-align:justify;text-decoration:underline;margin-left:4%;margin-right:8%;margin-top:5%}.cDate[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;margin-top:5%}.cDivContentAddNote[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:10%;height:10%}.cNewNote[_ngcontent-%COMP%]{width:100%;z-index:1}.cEdited[_ngcontent-%COMP%]{height:10px}"]}),t})(),q2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(E(Ri),E(Tt))},t.\u0275dir=q({type:t}),t})(),Wo=(()=>{class t extends q2{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function(t){return ns(()=>{const e=t.prototype.constructor,n=e[bi]||km(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[bi]||km(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=q({type:t,features:[ke]}),t})();const yi=new ee("NgValueAccessor"),Cue={provide:yi,useExisting:Re(()=>sc),multi:!0},bue=new ee("CompositionEventMode");let sc=(()=>{class t extends q2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ai()?ai().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Ri),E(Tt),E(bue,8))},t.\u0275dir=q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ve("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[je([Cue]),ke]}),t})();const pn=new ee("NgValidators"),Fs=new ee("NgAsyncValidators");function nB(t){return null!=t}function rB(t){const e=qc(t)?It(t):t;return $h(e),e}function iB(t){let e={};return t.forEach(n=>{e=null!=n?B(B({},e),n):e}),0===Object.keys(e).length?null:e}function sB(t,e){return e.map(n=>n(t))}function oB(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function o0(t){return null!=t?function(t){if(!t)return null;const e=t.filter(nB);return 0==e.length?null:function(n){return iB(sB(n,e))}}(oB(t)):null}function a0(t){return null!=t?function(t){if(!t)return null;const e=t.filter(nB);return 0==e.length?null:function(n){return function(...t){const e=Q0(t),{args:n,keys:r}=sk(t),i=new xe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Kr(n[l]).subscribe(new Et(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?ak(r,a):a),s.complete())}))}});return e?i.pipe(ok(e)):i}(sB(n,e).map(rB)).pipe(Me(iB))}}(oB(t)):null}function cB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function u0(t){return t?Array.isArray(t)?t:[t]:[]}function $g(t,e){return Array.isArray(t)?t.includes(e):t===e}function hB(t,e){const n=u0(e);return u0(t).forEach(i=>{$g(n,i)||n.push(i)}),n}function fB(t,e){return u0(e).filter(n=>!$g(t,n))}class pB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=o0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=a0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rn extends pB{get formDirective(){return null}get path(){return null}}class Ls extends pB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gB{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null==(n=this._cd)?void 0:n.submitted):!!(null==(i=null==(r=this._cd)?void 0:r.control)?void 0:i[e])}}let Hg=(()=>{class t extends gB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Ls,2))},t.\u0275dir=q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Hh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ke]}),t})(),c0=(()=>{class t extends gB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Rn,10))},t.\u0275dir=q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Hh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ke]}),t})();function qd(t,e){h0(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mB(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function zg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function h0(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(cB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(cB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();zg(e._rawValidators,i),zg(e._rawAsyncValidators,i)}function mB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Qg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wd="VALID",Yg="INVALID",oc="PENDING",zd="DISABLED";function g0(t){return(y0(t)?t.validators:t)||null}function vB(t){return Array.isArray(t)?o0(t):t||null}function m0(t,e){return(y0(e)?e.asyncValidators:t)||null}function wB(t){return Array.isArray(t)?a0(t):t||null}function y0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _0{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=vB(this._rawValidators),this._composedAsyncValidatorFn=wB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wd}get invalid(){return this.status===Yg}get pending(){return this.status==oc}get disabled(){return this.status===zd}get enabled(){return this.status!==zd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=vB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wB(e)}addValidators(e){this.setValidators(hB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fB(e,this._rawAsyncValidators))}hasValidator(e){return $g(this._rawValidators,e)}hasAsyncValidator(e){return $g(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=oc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=zd,this.errors=null,this._forEachChild(r=>{r.disable(Vt(B({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Vt(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Wd,this._forEachChild(r=>{r.enable(Vt(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Vt(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wd||this.status===oc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zd:Wd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=oc,this._hasOwnPendingAsyncValidator=!0;const n=rB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof v0?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof Vue&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?zd:this.errors?Yg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oc)?oc:this._anyControlsHaveStatus(Yg)?Yg:Wd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){y0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jg extends _0{constructor(e=null,n,r){super(g0(n),m0(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class v0 extends _0{constructor(e,n,r){super(g0(n),m0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof Jg?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Vue extends _0{constructor(e,n,r){super(g0(n),m0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof Jg?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Uue={provide:Rn,useExisting:Re(()=>Qd)},Kd=(()=>Promise.resolve(null))();let Qd=(()=>{class t extends Rn{constructor(n,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ye,this.form=new v0({},o0(n),a0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Kd.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),qd(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Kd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),Qg(this._directives,n)})}addFormGroup(n){Kd.then(()=>{const r=this._findContainer(n.path),i=new v0({});(function(t,e){h0(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Kd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Kd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(E(pn,10),E(Fs,10))},t.\u0275dir=q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ve("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([Uue]),ke]}),t})();const jue={provide:Ls,useExisting:Re(()=>Yd)},IB=(()=>Promise.resolve(null))();let Yd=(()=>{class t extends Ls{constructor(n,r,i,s){super(),this.control=new Jg,this._registered=!1,this.update=new Ye,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===sc?n=s:function(t){return Object.getPrototypeOf(t.constructor)===Wo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){IB.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;IB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(E(Rn,9),E(pn,10),E(Fs,10),E(yi,10))},t.\u0275dir=q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([jue]),ke,rn]}),t})(),w0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),DB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({}),t})(),dce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({imports:[[DB]]}),t})(),HB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({imports:[dce]}),t})();function hce(t,e){if(1&t){const n=Fa();N(0,"img",10),ve("click",function(){return Ks(n),ds().fnMakeNewNote()}),k()}}function fce(t,e){1&t&&Ln(0,"img",11)}function pce(t,e){if(1&t){const n=Fa();N(0,"img",12),ve("click",function(){return Ks(n),ds().fnDeleteNote()}),k()}}let gce=(()=>{class t{constructor(n,r){this.db=n,this.dataService=r,this.dataToShow={title:"",content:""},this.id="nota",this.idUser="",this.title=this.note.title,this.content=this.note.content}get note(){return this.dataService.note}get userState(){return this.dataService.userState}fnMakeNewNote(){var n=this;return y(function*(){if(n.note.title&&n.note.content){n.idUser="string"==typeof n.userState.id?n.userState.id:"noData";const r=Date.now().toString();yield jg(ic(n.db,"users",n.idUser),{[r]:{title:n.note.title,content:n.note.content}}),n.dataService.note={title:"",content:""}}})()}fnDeleteNote(){var n=this;return y(function*(){console.log(n.idUser),console.log(n.note.date),n.idUser="string"==typeof n.userState.id?n.userState.id:"noData",yield jg(ic(n.db,"users",n.idUser),{["string"==typeof n.note.date?n.note.date:""]:G2()}),n.dataService.note={title:"",content:""}})()}fnAutoSave(){var n=this;return y(function*(){if(console.log("Out"),n.note.title&&n.note.content&&n.note.date){n.idUser="string"==typeof n.userState.id?n.userState.id:"noData";const r=Date.now().toString();yield jg(ic(n.db,"users",n.idUser),{["string"==typeof n.note.date?n.note.date:""]:{title:n.note.title,content:n.note.content,edited:r}}),n.dataService.note={title:"",content:""}}})()}}return t.\u0275fac=function(n){return new(n||t)(E(Ps),E(go))},t.\u0275cmp=Dr({type:t,selectors:[["app-snote"]],decls:10,vars:5,consts:[[1,"cSimpleNote"],[1,"cUpperPartNote"],["type","text","name","title","placeholder","Write title ...",1,"cFontTitleNote",3,"ngModel","ngModelChange"],[1,"cContentePartNote"],["type","text","name","content","placeholder","Write here...",1,"cFontContentNote",3,"ngModel","ngModelChange","mouseleave"],[1,"cLowerPartNOte"],[1,"cListButtonsNote"],["type","button","src","/assets/img/saveNotethird.png","alt","",3,"click",4,"ngIf"],["type","button","src","/assets/img/editNotethird.png","alt","",4,"ngIf"],["type","button","src","/assets/img/deleteNotethird.png","alt","",3,"click",4,"ngIf"],["type","button","src","/assets/img/saveNotethird.png","alt","",3,"click"],["type","button","src","/assets/img/editNotethird.png","alt",""],["type","button","src","/assets/img/deleteNotethird.png","alt","",3,"click"]],template:function(n,r){1&n&&(N(0,"div",0),N(1,"div",1),N(2,"input",2),ve("ngModelChange",function(s){return r.note.title=s}),k(),k(),N(3,"div",3),N(4,"textarea",4),ve("ngModelChange",function(s){return r.note.content=s})("mouseleave",function(){return r.fnAutoSave()}),k(),k(),N(5,"div",5),N(6,"li",6),Mi(7,hce,1,0,"img",7),Mi(8,fce,1,0,"img",8),Mi(9,pce,1,0,"img",9),k(),k(),k()),2&n&&(tt(2),Dt("ngModel",r.note.title),tt(2),Dt("ngModel",r.note.content),tt(3),Dt("ngIf",!r.note.date),tt(1),Dt("ngIf",r.note.date),tt(1),Dt("ngIf",r.note.date))},directives:[sc,Hg,Yd,_l],styles:['[_ngcontent-%COMP%]:root{--main-bg-color: brown;--BackGroundNote: blue;--red-burger: rgb(224, 22, 22)}*[_ngcontent-%COMP%]{margin:0;padding:0}.cSimpleNote[_ngcontent-%COMP%]{display:flex;position:absolute;flex-direction:column;justify-content:space-between;height:90%;width:90%;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#ffd7ba;border-style:solid;border-width:2px;border-radius:10px}.cUpperPartNote[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:5%}.cUpperPartNote[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;border:none}.cContentePartNote[_ngcontent-%COMP%]{width:90%;height:60%;margin:5%}.cContentePartNote[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100%;background:none;border:none}.cLowerPartNOte[_ngcontent-%COMP%]{margin-bottom:5%}.cFontTitleNote[_ngcontent-%COMP%]{font-size:2em;font-family:"Courier New",Courier,monospace;text-align:center;font-weight:bold;width:90%;margin:auto}.cFontContentNote[_ngcontent-%COMP%]{font-size:2em}.cListButtonsNote[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;list-style-type:none}.cButtonOnNote[_ngcontent-%COMP%]{padding:0% 5%}img[_ngcontent-%COMP%]{width:15%}.cNewNote[_ngcontent-%COMP%]{width:10%;position:absolute;top:0%;left:0%}']}),t})();function mce(t,e){if(1&t){const n=Fa();N(0,"app-template-list-notes",8),ve("click",function(){const s=Ks(n).$implicit;return ds(2).fnShowNoteSelected(s)}),k()}if(2&t){const n=e.$implicit;Dt("title",n.title)("content",n.content)("status",null==n.edited?"Created":"Edited")("date",n.date)("edited",n.edited)}}function yce(t,e){if(1&t){const n=Fa();N(0,"section",3),N(1,"div",4),N(2,"img",5),ve("click",function(){return Ks(n),ds().fnAddNote()}),k(),N(3,"p",6),ve("click",function(){return Ks(n),ds().fnAddNote()}),jt(4,"New Note"),k(),k(),Mi(5,mce,1,5,"app-template-list-notes",7),k()}if(2&t){const n=ds();tt(5),Dt("ngForOf",n.notes)}}function _ce(t,e){1&t&&(N(0,"section",9),Ln(1,"div"),Ln(2,"app-snote"),k())}const vce=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Dr({type:t,selectors:[["app-back"]],decls:2,vars:0,consts:[["src","/assets/img/bigLogo.png","alt",""]],template:function(n,r){1&n&&(N(0,"div"),Ln(1,"img",0),k())},styles:["div[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:center;justify-items:center}div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"]}),t})()},{path:"login",component:(()=>{class t{constructor(n,r){this.auth=n,this.dataService=r,this.email="",this.password="",this.alert="",this.userState={log:!1,email:""}}ngOnInit(){}fnMakeLogin(n){var r=this;return y(function*(){n.preventDefault(),r.email?r.password?r.password.length<=7?r.alert="Short Password":yield r.emailLogin(r.email,r.password).then(i=>{r.userState={log:!0,email:i.user.email},r.dataService.fnUpdateLogIn(r.userState),window.location.pathname="/notes"}).catch(()=>{r.alert="Wrong email or password"}):r.alert="Empty Password":r.alert="Empty Email"})()}fnGoRegister(){window.location.pathname="/register"}emailLogin(n,r){var i=this;return y(function*(){return yield Qre(i.auth,n,r)})()}}return t.\u0275fac=function(n){return new(n||t)(E(Es),E(go))},t.\u0275cmp=Dr({type:t,selectors:[["app-log-in"]],decls:23,vars:3,consts:[[1,"cPageLogin"],[1,"cFormLogin"],[1,"cdivInputs"],[1,"cText"],["type","text","name","email","placeholder","user@labnotes.com",3,"ngModel","ngModelChange"],["type","text","name","password","placeholder","Minimum 8 letters",3,"ngModel","ngModelChange"],[1,"cAlert"],[1,"divBtn"],[3,"click"],[1,"cdivlogito"],["src","assets/img/logo.png","alt",""]],template:function(n,r){1&n&&(Ln(0,"app-upper-bar"),N(1,"div",0),N(2,"form",1),N(3,"h2"),jt(4,"Login"),k(),N(5,"div",2),N(6,"p",3),jt(7,"User / Email"),k(),N(8,"input",4),ve("ngModelChange",function(s){return r.email=s}),k(),k(),N(9,"div",2),N(10,"p",3),jt(11,"Password"),k(),N(12,"input",5),ve("ngModelChange",function(s){return r.password=s}),k(),k(),N(13,"div"),N(14,"p",6),jt(15),k(),k(),N(16,"div",7),N(17,"button",8),ve("click",function(s){return r.fnMakeLogin(s)}),jt(18,"OK"),k(),N(19,"button",8),ve("click",function(){return r.fnGoRegister()}),jt(20,"Register"),k(),k(),N(21,"div",9),Ln(22,"img",10),k(),k(),k()),2&n&&(tt(8),Dt("ngModel",r.email),tt(4),Dt("ngModel",r.password),tt(3),Va(r.alert))},directives:[s0,w0,c0,Qd,sc,Hg,Yd],styles:[".cPageLogin[_ngcontent-%COMP%]{position:absolute;top:10%;display:flex;height:90%;width:100%;background-color:#e8e8e4;justify-content:center;align-items:center}.cFormLogin[_ngcontent-%COMP%]{min-width:50%;background-color:#ffe5d9;border:5px solid #000000;border-radius:15px}.cFormLogin[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;text-align:center;font-family:Roboto;font-style:normal;font-weight:bolder;font-size:48px;line-height:56px;margin-bottom:5%}.divBtn[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:space-around}.divBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:medium}.cdivlogito[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:5px;text-align:right}.cdivInputs[_ngcontent-%COMP%]{margin:auto;width:90%}.cdivInputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1%}.cText[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.cFormLogin[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:10%;background:#FFFFFF;border:3px solid #000000;box-sizing:border-box;border-radius:5px;font-size:120%;margin-bottom:10%}.cFormLogin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#6C6C6C;border:3px solid #000000;box-sizing:border-box;border-radius:5px;width:30%;padding:2%;margin:auto;text-align:center;font-weight:bolder}img[_ngcontent-%COMP%]{margin-right:15px}.cAlert[_ngcontent-%COMP%]{color:red;font-weight:bold;font-size:large;margin:auto auto 5%;text-align:center}"]}),t})()},{path:"register",component:(()=>{class t{constructor(n,r){this.auth=n,this.db=r,this.email="",this.passwordSet="",this.passwordConfirm="",this.alert="",this.userState={log:!1,email:""}}ngOnInit(){}fnMakeRegister(){this.email?this.passwordSet?this.passwordSet.length<=7?this.alert="Short Password":this.passwordSet==this.passwordConfirm?this.emailSignUp(this.email,this.passwordSet).then(n=>{window.location.pathname="/notes"}).catch(n=>this.alert=n):this.alert="Passwords dont match":this.alert="Empty Password":this.alert="Empty Email"}emailSignUp(n,r){var i=this;return y(function*(){yield Wre(i.auth,n,r).then(function(){var o=y(function*(a){const u=Date.now().toString();yield mue(ic(i.db,"users",a.user.uid),{[u]:{title:"Wellcome",content:"Wellcome to WikiNotes"}})});return function(a){return o.apply(this,arguments)}}())})()}}return t.\u0275fac=function(n){return new(n||t)(E(Es),E(Ps))},t.\u0275cmp=Dr({type:t,selectors:[["app-register"]],decls:25,vars:4,consts:[[1,"cPageLogin"],[1,"cFormLogin"],[1,"cdivInputs"],[1,"cText"],["type","email","name","email","placeholder","user@labnotes.com",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Minimum 8 letters",3,"ngModel","ngModelChange"],[1,"cAlert"],[1,"divBtn"],[3,"click"],[1,"cdivlogito"],["src","assets/img/logo.png","alt",""]],template:function(n,r){1&n&&(Ln(0,"app-upper-bar"),N(1,"div",0),N(2,"form",1),N(3,"h2"),jt(4,"Register"),k(),N(5,"div",2),N(6,"p",3),jt(7,"Email"),k(),N(8,"input",4),ve("ngModelChange",function(s){return r.email=s}),k(),k(),N(9,"div",2),N(10,"p",3),jt(11,"Set Password"),k(),N(12,"input",5),ve("ngModelChange",function(s){return r.passwordSet=s}),k(),k(),N(13,"div",2),N(14,"p",3),jt(15,"Confirm Password"),k(),N(16,"input",5),ve("ngModelChange",function(s){return r.passwordConfirm=s}),k(),k(),N(17,"div"),N(18,"p",6),jt(19),k(),k(),N(20,"div",7),N(21,"button",8),ve("click",function(){return r.fnMakeRegister()}),jt(22,"Register"),k(),k(),N(23,"div",9),Ln(24,"img",10),k(),k(),k()),2&n&&(tt(8),Dt("ngModel",r.email),tt(4),Dt("ngModel",r.passwordSet),tt(4),Dt("ngModel",r.passwordConfirm),tt(3),Va(r.alert))},directives:[s0,w0,c0,Qd,sc,Hg,Yd],styles:[".cPageLogin[_ngcontent-%COMP%]{position:absolute;top:10%;display:flex;height:90%;width:100%;background-color:#e8e8e4;justify-content:center;align-items:center}.cFormLogin[_ngcontent-%COMP%]{min-width:50%;background-color:#ffe5d9;border:5px solid #000000;border-radius:15px}.cFormLogin[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;text-align:center;font-family:Roboto;font-style:normal;font-weight:bolder;font-size:48px;line-height:56px;margin-bottom:5%}.divBtn[_ngcontent-%COMP%]{text-align:center}.divBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:medium}.cdivlogito[_ngcontent-%COMP%]{text-align:right}.cdivInputs[_ngcontent-%COMP%]{margin:auto;width:90%}.cdivInputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1%}.cText[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.cFormLogin[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:10%;background:#FFFFFF;border:3px solid #000000;box-sizing:border-box;border-radius:5px;font-size:120%;margin-bottom:5%}.cFormLogin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#6C6C6C;border:3px solid #000000;box-sizing:border-box;border-radius:5px;width:30%;height:10%;margin:auto;text-align:center;font-weight:bolder;padding:2%}img[_ngcontent-%COMP%]{margin-right:15px}.cAlert[_ngcontent-%COMP%]{color:red;font-weight:bold;font-size:large;margin:auto auto 5%;text-align:center}"]}),t})()},{path:"notes",component:(()=>{class t{constructor(n,r){this.dataService=n,this.afs=r,this.idUser=""}get userState(){return this.dataService.userState}get notes(){return this.dataService.notes}get note(){return this.dataService.note}ngOnInit(){}fnShowNoteSelected(n){this.dataService.fnChangeNote(n)}fnAddNote(){this.dataService.note={title:"",content:""}}}return t.\u0275fac=function(n){return new(n||t)(E(go),E(Ps))},t.\u0275cmp=Dr({type:t,selectors:[["app-page"]],decls:6,vars:2,consts:[[1,"cDivPage"],["class","cScreenNotes",4,"ngIf"],["class","cScreenNote",4,"ngIf"],[1,"cScreenNotes"],[1,"cDivContentAddNote"],["type","button","src","/assets/img/addnotether.png","alt","",1,"cNewNote",3,"click"],[3,"click"],[3,"title","content","status","date","edited","click",4,"ngFor","ngForOf"],[3,"title","content","status","date","edited","click"],[1,"cScreenNote"]],template:function(n,r){1&n&&(Ln(0,"app-upper-bar"),N(1,"div",0),N(2,"main"),Mi(3,yce,6,1,"section",1),Mi(4,_ce,3,0,"section",2),k(),Ln(5,"footer"),k()),2&n&&(tt(3),Dt("ngIf",r.userState.log),tt(1),Dt("ngIf",r.userState.log))},directives:[s0,_l,B1,vue,gce],styles:[".cBtnTransparenci[_ngcontent-%COMP%]{background-color:Transparent;border:none}.cDivPage[_ngcontent-%COMP%]{top:5px;width:100%;height:100%}.cBtnTransparenci[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin:0 15px}.cScreenNote[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;left:30%;width:70%;height:100%;background-color:#e8e8e4}.cScreenNotes[_ngcontent-%COMP%]{position:absolute;width:30%;height:99%;background:#d8e2dc;overflow-y:scroll;padding-top:1%;margin-right:solid}main[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;top:10%;height:90%;width:100%}div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:end}img[_ngcontent-%COMP%]{height:10%}.cDivContentAddNote[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:5%}.cNewNote[_ngcontent-%COMP%]{width:10%;margin-right:10px}"]}),t})()}];let wce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({imports:[[lP.forRoot(vce)],lP]}),t})(),Ece=(()=>{class t{constructor(n,r,i){this.auth=n,this.dataService=r,this.afs=i,this.userState={log:!1,email:"",id:""},this.idUser="",this.notes=[],this.user$=new xe(s=>Kre(n,s))}ngOnInit(){var n=this;return y(function*(){const r=yield n.getUser();switch("string"==typeof(null==r?void 0:r.email)&&(n.userState.email=null==r?void 0:r.email),n.userState.log=!!r,"string"==typeof(null==r?void 0:r.uid)&&(n.userState.id=null==r?void 0:r.uid),n.dataService.fnUpdateLogIn(n.userState),window.location.pathname){case"/":window.location.pathname=n.userState.log?"/notes":"/login";break;case"/login":case"/register":n.userState.log&&(window.location.href="/notes");break;case"/notes":n.userState.log||(window.location.pathname="/login");break;default:window.location.pathname="/"}n.idUser="string"==typeof n.userState.id?n.userState.id:"",n.userState.log&&gue(ic(n.afs,"users",n.idUser),i=>{n.notes=[],Object.entries(i.data()).forEach(s=>{var o;const a={title:s[1].title,content:s[1].content,date:s[0],edited:null===(o=s[1])||void 0===o?void 0:o.edited};n.notes.push(a)}),n.notes.sort((s,o)=>s.date>o.date?-1:s.date<o.date?1:void 0),n.dataService.notes=n.notes})})()}getUser(){var n=this;return y(function*(){return yield n.user$.pipe(hc(1)).toPromise()})()}}return t.\u0275fac=function(n){return new(n||t)(E(Es),E(go),E(Ps))},t.\u0275cmp=Dr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Ln(0,"router-outlet")},directives:[Wv],styles:["[_ngcontent-%COMP%]:root{--BackGroundNote: #ffe5d9}"]}),t})(),Cce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=en({imports:[[wv,HB]]}),t})();const GB_firebase={projectId:"labnotes-e80b9",appId:"1:434696769471:web:3125ff2dcea1fd9f5b5b0a",storageBucket:"labnotes-e80b9.appspot.com",apiKey:"AIzaSyDeo3U9vAh7kYd9ulafNn03pm2CynvjjTg",authDomain:"labnotes-e80b9.firebaseapp.com",messagingSenderId:"434696769471"};let qB=(()=>{class t{constructor(n,r,i){this.afAuth=n,this.router=r,this.ngZone=i,this.afAuth.onAuthStateChanged(s=>{s?(this.userData=s,localStorage.setItem("user",JSON.stringify(null!=this.userData?this.userData:{title:"HOL"}))):localStorage.setItem("user","null")})}}return t.\u0275fac=function(n){return new(n||t)(O(Es),O(bn),O(Ve))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ice=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}}return t.\u0275fac=function(n){return new(n||t)(O(qB),O(bn))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bce=(()=>{class t{canActivate(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t,bootstrap:[Ece]}),t.\u0275inj=en({providers:[go,qB,Ice,bce],imports:[[jK,wce,Cce,pee(()=>gee(GB_firebase)),qre(()=>zre()),fue(()=>pue()),HB,wv]]}),t})();(function(){if(DN)throw new Error("Cannot enable prod mode after platform setup.");bN=!1})(),UK().bootstrapModule(Dce).catch(t=>console.error(t))}},kn=>{kn(kn.s=750)}]);