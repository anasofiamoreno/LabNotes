var mce=Object.defineProperty,yce=Object.defineProperties,_ce=Object.getOwnPropertyDescriptors,HB=Object.getOwnPropertySymbols,vce=Object.prototype.hasOwnProperty,wce=Object.prototype.propertyIsEnumerable,qB=(Nn,Vt,vt)=>Vt in Nn?mce(Nn,Vt,{enumerable:!0,configurable:!0,writable:!0,value:vt}):Nn[Vt]=vt,B=(Nn,Vt)=>{for(var vt in Vt||(Vt={}))vce.call(Vt,vt)&&qB(Nn,vt,Vt[vt]);if(HB)for(var vt of HB(Vt))wce.call(Vt,vt)&&qB(Nn,vt,Vt[vt]);return Nn},Lt=(Nn,Vt)=>yce(Nn,_ce(Vt));(self.webpackChunkLabNotes=self.webpackChunkLabNotes||[]).push([[179],{995:function(Nn,Vt){!function(vt){"use strict";function De(O){return Array.prototype.slice.call(O)}function qo(O){return new Promise(function(oe,ye){O.onsuccess=function(){oe(O.result)},O.onerror=function(){ye(O.error)}})}function Zi(O,oe,ye){var we,le=new Promise(function(gn,Xi){qo(we=O[oe].apply(O,ye)).then(gn,Xi)});return le.request=we,le}function Go(O,oe,ye){var we=Zi(O,oe,ye);return we.then(function(le){if(le)return new Gr(le,we.request)})}function rt(O,oe,ye){ye.forEach(function(we){Object.defineProperty(O.prototype,we,{get:function(){return this[oe][we]},set:function(le){this[oe][we]=le}})})}function Wo(O,oe,ye,we){we.forEach(function(le){le in ye.prototype&&(O.prototype[le]=function(){return Zi(this[oe],le,arguments)})})}function Fs(O,oe,ye,we){we.forEach(function(le){le in ye.prototype&&(O.prototype[le]=function(){return this[oe][le].apply(this[oe],arguments)})})}function rc(O,oe,ye,we){we.forEach(function(le){le in ye.prototype&&(O.prototype[le]=function(){return Go(this[oe],le,arguments)})})}function pn(O){this._index=O}function Gr(O,oe){this._cursor=O,this._request=oe}function Wn(O){this._store=O}function Wr(O){this._tx=O,this.complete=new Promise(function(oe,ye){O.oncomplete=function(){oe()},O.onerror=function(){ye(O.error)},O.onabort=function(){ye(O.error)}})}function zo(O,oe,ye){this._db=O,this.oldVersion=oe,this.transaction=new Wr(ye)}function Ko(O){this._db=O}rt(pn,"_index",["name","keyPath","multiEntry","unique"]),Wo(pn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),rc(pn,"_index",IDBIndex,["openCursor","openKeyCursor"]),rt(Gr,"_cursor",["direction","key","primaryKey","value"]),Wo(Gr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(O){O in IDBCursor.prototype&&(Gr.prototype[O]=function(){var oe=this,ye=arguments;return Promise.resolve().then(function(){return oe._cursor[O].apply(oe._cursor,ye),qo(oe._request).then(function(we){if(we)return new Gr(we,oe._request)})})})}),Wn.prototype.createIndex=function(){return new pn(this._store.createIndex.apply(this._store,arguments))},Wn.prototype.index=function(){return new pn(this._store.index.apply(this._store,arguments))},rt(Wn,"_store",["name","keyPath","indexNames","autoIncrement"]),Wo(Wn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),rc(Wn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Fs(Wn,"_store",IDBObjectStore,["deleteIndex"]),Wr.prototype.objectStore=function(){return new Wn(this._tx.objectStore.apply(this._tx,arguments))},rt(Wr,"_tx",["objectStoreNames","mode"]),Fs(Wr,"_tx",IDBTransaction,["abort"]),zo.prototype.createObjectStore=function(){return new Wn(this._db.createObjectStore.apply(this._db,arguments))},rt(zo,"_db",["name","version","objectStoreNames"]),Fs(zo,"_db",IDBDatabase,["deleteObjectStore","close"]),Ko.prototype.transaction=function(){return new Wr(this._db.transaction.apply(this._db,arguments))},rt(Ko,"_db",["name","version","objectStoreNames"]),Fs(Ko,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(O){[Wn,pn].forEach(function(oe){O in oe.prototype&&(oe.prototype[O.replace("open","iterate")]=function(){var ye=De(arguments),we=ye[ye.length-1],le=this._store||this._index,gn=le[O].apply(le,ye.slice(0,-1));gn.onsuccess=function(){we(gn.result)}})})}),[pn,Wn].forEach(function(O){O.prototype.getAll||(O.prototype.getAll=function(oe,ye){var we=this,le=[];return new Promise(function(gn){we.iterateCursor(oe,function(Xi){Xi?(le.push(Xi.value),void 0===ye||le.length!=ye?Xi.continue():gn(le)):gn(le)})})})}),vt.openDb=function(O,oe,ye){var we=Zi(indexedDB,"open",[O,oe]),le=we.request;return le&&(le.onupgradeneeded=function(gn){ye&&ye(new zo(le.result,gn.oldVersion,le.transaction))}),we.then(function(gn){return new Ko(gn)})},vt.deleteDb=function(O){return Zi(indexedDB,"deleteDatabase",[O])},Object.defineProperty(vt,"__esModule",{value:!0})}(Vt)},609:(Nn,Vt,vt)=>{"use strict";function De(t){return"function"==typeof t}function qo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Zi=qo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Go(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof Zi?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{rc(s)}catch(o){e=null!=e?e:[],o instanceof Zi?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Zi(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rc(e);else{if(e instanceof rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Go(n,e)}remove(e){const{_teardowns:n}=this;n&&Go(n,e),e instanceof rt&&e._removeParent(this)}}rt.EMPTY=(()=>{const t=new rt;return t.closed=!0,t})();const Wo=rt.EMPTY;function Fs(t){return t instanceof rt||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function rc(t){De(t)?t():t.unsubscribe()}const pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gr={setTimeout(...t){const{delegate:e}=Gr;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Gr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Wn(t){Gr.setTimeout(()=>{const{onUnhandledError:e}=pn;if(!e)throw t;e(t)})}function Wr(){}const zo=ic("C",void 0,void 0);function ic(t,e,n){return{kind:t,value:e,error:n}}let O=null;function oe(t){if(pn.useDeprecatedSynchronousErrorHandling){const e=!O;if(e&&(O={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=O;if(O=null,n)throw r}}else t()}class we extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fs(e)&&e.add(this)):this.destination=GB}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?zg(ic("N",e,void 0),this):this._next(e)}error(e){this.isStopped?zg(ic("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zg(zo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class le extends we{constructor(e,n,r){let i;if(super(),De(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&pn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?gn(i):Wr,error:gn(null!=n?n:Xi),complete:r?gn(r):Wr}}}function gn(t,e){return(...n)=>{try{t(...n)}catch(r){pn.useDeprecatedSynchronousErrorHandling?function(t){pn.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=t)}(r):Wn(r)}}}function Xi(t){throw t}function zg(t,e){const{onStoppedNotification:n}=pn;n&&Gr.setTimeout(()=>n(t,e))}const GB={closed:!0,next:Wr,error:Xi,complete:Wr},Kg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ls(t){return t}let Se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof we||function(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&Fs(t)}(n)?n:new le(n,r,i);return oe(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=x0(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Kg](){return this}pipe(...n){return function(t){return 0===t.length?Ls:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=x0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function x0(t){var e;return null!==(e=null!=t?t:pn.Promise)&&void 0!==e?e:Promise}const KB=qo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let vi=(()=>{class t extends Se{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new M0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new KB}next(n){oe(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){oe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Wo:(s.push(n),new rt(()=>Go(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Se;return n.source=this,n}}return t.create=(e,n)=>new M0(e,n),t})();class M0 extends vi{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Wo}}function R0(t){return De(null==t?void 0:t.lift)}function Ut(t){return e=>{if(R0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class wt extends we{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function xe(t,e){return Ut((n,r)=>{let i=0;n.subscribe(new wt(r,s=>{r.next(t.call(e,s,i++))}))})}function Vs(t){return this instanceof Vs?(this.v=t,this):new Vs(t)}function JB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof Vs?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ZB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const O0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function F0(t){return De(null==t?void 0:t.then)}function L0(t){return De(t[Kg])}function V0(t){return Symbol.asyncIterator&&De(null==t?void 0:t[Symbol.asyncIterator])}function U0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const B0="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function j0(t){return De(null==t?void 0:t[B0])}function $0(t){return JB(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Vs(n.read());if(i)return yield Vs(void 0);yield yield Vs(r)}}finally{n.releaseLock()}})}function H0(t){return De(null==t?void 0:t.getReader)}function zr(t){if(t instanceof Se)return t;if(null!=t){if(L0(t))return function(t){return new Se(e=>{const n=t[Kg]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(O0(t))return function(t){return new Se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(F0(t))return function(t){return new Se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wn)})}(t);if(V0(t))return q0(t);if(j0(t))return function(t){return new Se(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(H0(t))return function(t){return q0($0(t))}(t)}throw U0(t)}function q0(t){return new Se(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ZB(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function wi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Et(t,e,n=1/0){return De(e)?Et((r,i)=>xe((s,o)=>e(r,s,i,o))(zr(t(r,i))),n):("number"==typeof e&&(n=e),Ut((r,i)=>function(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{c++;let g=!1;zr(n(m,l++)).subscribe(new wt(e,v=>{e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;u.length&&c<r;){const v=u.shift();p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(new wt(e,f,()=>{d=!0,h()})),()=>{}}(r,i,t,n)))}function sc(t=1/0){return Et(Ls,t)}const Ei=new Se(t=>t.complete());function Yg(t){return t[t.length-1]}function G0(t){return De(Yg(t))?t.pop():void 0}function oc(t){return function(t){return t&&De(t.schedule)}(Yg(t))?t.pop():void 0}function Wd(t,e=0){return Ut((n,r)=>{n.subscribe(new wt(r,i=>wi(r,t,()=>r.next(i),e),()=>wi(r,t,()=>r.complete(),e),i=>wi(r,t,()=>r.error(i),e)))})}function zd(t,e=0){return Ut((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function W0(t,e){if(!t)throw new Error("Iterable cannot be null");return new Se(n=>{wi(n,e,()=>{const r=t[Symbol.asyncIterator]();wi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ct(t,e){return e?function(t,e){if(null!=t){if(L0(t))return function(t,e){return zr(t).pipe(zd(e),Wd(e))}(t,e);if(O0(t))return function(t,e){return new Se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(F0(t))return function(t,e){return zr(t).pipe(zd(e),Wd(e))}(t,e);if(V0(t))return W0(t,e);if(j0(t))return function(t,e){return new Se(n=>{let r;return wi(n,e,()=>{r=t[B0](),wi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>De(null==r?void 0:r.return)&&r.return()})}(t,e);if(H0(t))return function(t,e){return W0($0(t),e)}(t,e)}throw U0(t)}(t,e):zr(t)}function ac(t){return t<=0?()=>Ei:Ut((e,n)=>{let r=0;e.subscribe(new wt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Jg(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(ac(1)).subscribe(()=>t())}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function Zg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Xg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vj=Ie({__forward_ref__:Ie});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return se(this())},t}function U(t){return z0(t)?t():t}function z0(t){return"function"==typeof t&&t.hasOwnProperty(vj)&&t.__forward_ref__===Me}class Us extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function mn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}function Kd(t,e){const n=e?` in ${e}`:"";throw new Us("201",`No provider for ${mn(t)} found${n}`)}function Kn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ii(t){return K0(t,Qd)||K0(t,Y0)}function K0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Q0(t){return t&&(t.hasOwnProperty(tm)||t.hasOwnProperty(Tj))?t[tm]:null}const Qd=Ie({\u0275prov:Ie}),tm=Ie({\u0275inj:Ie}),Y0=Ie({ngInjectableDef:Ie}),Tj=Ie({ngInjectorDef:Ie});var j=(()=>((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j))();let nm;function es(t){const e=nm;return nm=t,e}function J0(t,e,n){const r=Ii(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void Kd(se(t),"Injector")}function ts(t){return{toString:t}.toString()}var cr=(()=>((cr=cr||{})[cr.OnPush=0]="OnPush",cr[cr.Default=1]="Default",cr))(),Qn=(()=>{return(t=Qn||(Qn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Qn;var t})();const Sj="undefined"!=typeof globalThis&&globalThis,xj="undefined"!=typeof window&&window,Mj="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee=Sj||"undefined"!=typeof global&&global||xj||Mj,Qo={},Te=[],Yd=Ie({\u0275cmp:Ie}),rm=Ie({\u0275dir:Ie}),im=Ie({\u0275pipe:Ie}),Z0=Ie({\u0275mod:Ie}),bi=Ie({\u0275fac:Ie}),uc=Ie({__NG_ELEMENT_ID__:Ie});let Rj=0;function lr(t){return ts(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===cr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Te,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,id:"c",styles:t.styles||Te,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=Rj++,r.inputs=nA(t.inputs,n),r.outputs=nA(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(X0):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(eA):null,r})}function X0(t){return en(t)||function(t){return t[rm]||null}(t)}function eA(t){return function(t){return t[im]||null}(t)}const tA={};function kn(t){return ts(()=>{const e={type:t.type,bootstrap:t.bootstrap||Te,declarations:t.declarations||Te,imports:t.imports||Te,exports:t.exports||Te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tA[t.id]=t.type),e})}function nA(t,e){if(null==t)return Qo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const G=lr;function en(t){return t[Yd]||null}function dr(t,e){const n=t[Z0]||null;if(!n&&!0===e)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return n}function Kr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Tr(t){return Array.isArray(t)&&!0===t[1]}function am(t){return 0!=(8&t.flags)}function eh(t){return 2==(2&t.flags)}function th(t){return 1==(1&t.flags)}function Ar(t){return null!==t.template}function Lj(t){return 0!=(512&t[2])}function qs(t,e){return t.hasOwnProperty(bi)?t[bi]:null}class iA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function nn(){return sA}function sA(t){return t.type.prototype.ngOnChanges&&(t.setInput=jj),Bj}function Bj(){const t=aA(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Qo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jj(t,e,n,r){const i=aA(t)||function(t,e){return t[oA]=e}(t,{previous:Qo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new iA(u&&u.currentValue,e,o===Qo),t[r]=e}nn.ngInherit=!0;const oA="__ngSimpleChanges__";function aA(t){return t[oA]||null}let lm;function ze(t){return!!t.listen}const lA={createRenderer:(t,e)=>void 0!==lm?lm:"undefined"!=typeof document?document:void 0};function it(t){for(;Array.isArray(t);)t=t[0];return t}function nh(t,e){return it(e[t])}function pr(t,e){return it(e[t.index])}function hm(t,e){return t.data[e]}function Jn(t,e){const n=e[t];return Kr(n)?n:n[0]}function fm(t){return 128==(128&t[2])}function rs(t,e){return null==e?null:t[e]}function hA(t){t[18]=0}function pm(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const z={lFrame:EA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function fA(){return z.bindingsEnabled}function I(){return z.lFrame.lView}function fe(){return z.lFrame.tView}function ht(){let t=gA();for(;null!==t&&64===t.type;)t=t.parent;return t}function gA(){return z.lFrame.currentTNode}function Qr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function gm(){return z.lFrame.isParent}function rh(){return z.isInCheckNoChangesMode}function ih(t){z.isInCheckNoChangesMode=t}function ta(){return z.lFrame.bindingIndex++}function n$(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,ym(e)}function ym(t){z.lFrame.currentDirectiveIndex=t}function vm(t){z.lFrame.currentQueryIndex=t}function i$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function vA(t,e,n){if(n&j.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&j.Host||(i=i$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=wA();return r.currentTNode=e,r.lView=t,!0}function sh(t){const e=wA(),n=t[1];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function wA(){const t=z.lFrame,e=null===t?null:t.child;return null===e?EA(t):e}function EA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function CA(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const IA=CA;function oh(){const t=CA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(){return z.lFrame.selectedIndex}function is(t){z.lFrame.selectedIndex=t}function ah(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function uh(t,e,n){bA(t,e,3,n)}function ch(t,e,n,r){(3&t[2])===n&&bA(t,e,n,r)}function wm(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function bA(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(f$(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function f$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class fc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function lh(t,e,n){const r=ze(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Cm(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function DA(t){return 3===t||4===t||6===t}function Cm(t){return 64===t.charCodeAt(0)}function dh(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||TA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function TA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function AA(t){return-1!==t}function na(t){return 32767&t}function ra(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Im=!0;function hh(t){const e=Im;return Im=t,e}let v$=0;function gc(t,e){const n=Dm(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,bm(r.data,t),bm(e,null),bm(r.blueprint,null));const i=fh(t,e),s=t.injectorIndex;if(AA(i)){const o=na(i),a=ra(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function bm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dm(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function fh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ph(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(uc)&&(r=n[uc]),null==r&&(r=n[uc]=v$++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function MA(t,e,n){if(n&j.Optional)return t;Kd(e,"NodeInjector")}function RA(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=es(void 0);try{return i?i.get(e,r,n&j.Optional):J0(e,r,n&j.Optional)}finally{es(s)}}return MA(r,e,n)}function NA(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(uc)?t[uc]:void 0;return"number"==typeof e?e>=0?255&e:C$:e}(n);if("function"==typeof s){if(!vA(e,t,r))return r&j.Host?MA(i,n,r):RA(e,n,r,i);try{const o=s(r);if(null!=o||r&j.Optional)return o;Kd(n)}finally{IA()}}else if("number"==typeof s){let o=null,a=Dm(t,e),u=-1,c=r&j.Host?e[16][6]:null;for((-1===a||r&j.SkipSelf)&&(u=-1===a?fh(t,e):e[a+8],-1!==u&&OA(r,!1)?(o=e[1],a=na(u),e=ra(u,e)):a=-1);-1!==a;){const l=e[1];if(PA(s,a,l.data)){const d=I$(a,e,n,o,r,c);if(d!==kA)return d}u=e[a+8],-1!==u&&OA(r,e[1].data[a+8]===c)&&PA(s,a,e)?(o=l,a=na(u),e=ra(u,e)):a=-1}}}return RA(e,n,r,i)}const kA={};function C$(){return new ia(ht(),I())}function I$(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Ar(f)&&f.type===n)return u}return null}(a,o,n,null==r?eh(a)&&Im:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==l?mc(e,o,l,a):kA}function mc(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof fc}(i)){const o=i;o.resolving&&function(t,e){throw new Us("200",`Circular dependency in DI detected for ${t}`)}(mn(s[n]));const a=hh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?es(o.injectImpl):null;vA(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=sA(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&es(u),hh(a),o.resolving=!1,IA()}}return i}function PA(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function OA(t,e){return!(t&j.Self||t&j.Host&&e)}class ia{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return NA(this._tNode,this._lView,e,r,n)}}function Tm(t){return z0(t)?()=>{const e=Tm(U(t));return e&&e()}:qs(t)}const oa="__parameters__";function Gs(t,e,n){return ts(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(oa)?u[oa]:Object.defineProperty(u,oa,{value:[]})[oa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class X{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const A$=new X("AnalyzeForEntryComponents");function Yr(t,e){t.forEach(n=>Array.isArray(n)?Yr(n,e):e(n))}function mh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ws(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xn(t,e,n){let r=ua(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function xm(t,e){const n=ua(t,e);if(n>=0)return t[1|n]}function ua(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Cc={},Rm="__NG_DI_FLAG__",ca="ngTempTokenPath",L$=/\n/gm,Nm="__source",km=Ie({provide:String,useValue:Ie});let Ic;function la(t){const e=Ic;return Ic=t,e}function U$(t,e=j.Default){if(void 0===Ic)throw new Error("inject() must be called from an injection context");return null===Ic?J0(t,void 0,e):Ic.get(t,e&j.Optional?null:void 0,e)}function L(t,e=j.Default){return(nm||U$)(U(t),e)}function zs(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=j.Default;for(let o=0;o<r.length;o++){const a=r[o],u=B$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function bc(t,e){return t[Rm]=e,t.prototype[Rm]=e,t}function B$(t){return t[Rm]}function BA(t,e,n,r){const i=t[ca];throw e[Nm]&&i.unshift(e[Nm]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=se(e);if(Array.isArray(e))i=e.map(se).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):se(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(L$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ca]=null,t}const da=bc(Gs("Inject",t=>({token:t})),-1),Le=bc(Gs("Optional"),8),as=bc(Gs("SkipSelf"),4);const sS="__ngContext__";function rn(t,e){t[sS]=e}function Hm(t){const e=function(t){return t[sS]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ih(t){return t.ngOriginalError}function kH(t,...e){t.error(...e)}class Qs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||kH;var t;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Ih(e)):null}_findOriginalError(e){let n=e&&Ih(e);for(;n&&Ih(n);)n=Ih(n);return n||null}}const pS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))();function Xr(t){return t instanceof Function?t():t}var tr=(()=>((tr=tr||{})[tr.Important=1]="Important",tr[tr.DashCase=2]="DashCase",tr))();function Wm(t,e){return undefined(t,e)}function Mc(t){const e=t[3];return Tr(e)?e[3]:e}function zm(t){return vS(t[13])}function Km(t){return vS(t[4])}function vS(t){for(;null!==t&&!Tr(t);)t=t[4];return t}function ga(t,e,n,r,i){if(null!=r){let s,o=!1;Tr(r)?s=r:Kr(r)&&(o=!0,r=r[0]);const a=it(r);0===t&&null!==n?null==i?DS(e,n,a):Ys(e,n,a,i||null,!0):1===t&&null!==n?Ys(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Dh(t,e);r&&function(t,e,n,r){ze(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==it(n)&&ga(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Rc(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Ym(t,e,n){return ze(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ES(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,pm(i,-1)),n.splice(r,1)}function Jm(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&ES(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ws(t,10+e);!function(t,e){Rc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function CS(t,e){if(!(256&e[2])){const n=e[11];ze(n)&&n.destroyNode&&Rc(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Zm(t[1],t);for(;e;){let n=null;if(Kr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Kr(e)&&Zm(e[1],e),e=e[3];null===e&&(e=t),Kr(e)&&Zm(e[1],e),n=e&&e[4]}e=n}}(e)}}function Zm(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof fc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):it(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&ze(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Tr(e[3])){n!==e[3]&&ES(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function IS(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Qn.None||i===Qn.Emulated)return null}return pr(r,n)}(t,e.parent,n)}function Ys(t,e,n,r,i){ze(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function DS(t,e,n){ze(t)?t.appendChild(e,n):e.appendChild(n)}function TS(t,e,n,r,i){null!==r?Ys(t,e,n,r,i):DS(t,e,n)}function Dh(t,e){return ze(t)?t.parentNode(e):e.parentNode}let xS=function(t,e,n){return 40&t.type?pr(t,n):null};function Th(t,e,n,r){const i=IS(t,r,e),s=e[11],a=function(t,e,n){return xS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)TS(s,i,n[u],a,!1);else TS(s,i,n,a,!1)}function Ah(t,e){if(null!==e){const n=e.type;if(3&n)return pr(e,t);if(4&n)return ey(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ah(t,r);{const i=t[e.index];return Tr(i)?ey(-1,i):it(i)}}if(32&n)return Wm(e,t)()||it(t[e.index]);{const r=RS(t,e);return null!==r?Array.isArray(r)?r[0]:Ah(Mc(t[16]),r):Ah(t,e.next)}}return null}function RS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ey(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Ah(r,i)}return e[7]}function ty(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&rn(it(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ty(t,e,n.child,r,i,s,!1),ga(e,t,i,a,s);else if(32&u){const c=Wm(n,r);let l;for(;l=c();)ga(e,t,i,l,s);ga(e,t,i,a,s)}else 16&u?kS(t,e,r,n,i,s):ga(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Rc(t,e,n,r,i,s){ty(n,r,t.firstChild,e,i,s,!1)}function kS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ga(e,t,i,u[c],s);else ty(t,e,u,o[3],i,s,!0)}function PS(t,e,n){ze(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ny(t,e,n){ze(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function OS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const FS="ng-template";function s3(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==OS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function LS(t){return 4===t.type&&t.value!==FS}function o3(t,e,n){return e===(4!==t.type||n?t.value:FS)}function a3(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(DA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!o3(t,u,n)||""===u&&1===e.length){if(Sr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!s3(t.attrs,c,n)){if(Sr(r))return!1;o=!0}continue}const d=u3(8&r?"class":u,i,LS(t),n);if(-1===d){if(Sr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==OS(f,c,0)||2&r&&c!==h){if(Sr(r))return!1;o=!0}}}}else{if(!o&&!Sr(r)&&!Sr(u))return!1;if(o&&Sr(u))continue;o=!1,r=u|1&r}}return Sr(r)||o}function Sr(t){return 0==(1&t)}function u3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function VS(t,e,n=!1){for(let r=0;r<e.length;r++)if(a3(t,e[r],n))return!0;return!1}function US(t,e){return t?":not("+e.trim()+")":e}function f3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Sr(o)&&(e+=US(s,i),i=""),r=o,s=s||!Sr(r);n++}return""!==i&&(e+=US(s,i)),e}const Z={};function bt(t){BS(fe(),I(),_n()+t,rh())}function BS(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&uh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ch(e,s,0,n)}is(n)}function Sh(t,e){return t<<17|e<<2}function xr(t){return t>>17&32767}function ry(t){return 2|t}function Ai(t){return(131068&t)>>2}function iy(t,e){return-131069&t|e<<2}function sy(t){return 1|t}function JS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];vm(i),o.contentQueries(2,e[s],s)}}}function Nc(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,hA(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ma(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=gA(),o=gm(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),z.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Qr(s,!0),s}function ya(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function kc(t,e,n){sh(e);try{const r=t.viewQuery;null!==r&&Iy(1,r,n);const i=t.template;null!==i&&ZS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&JS(t,e),t.staticViewQueries&&Iy(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Q3(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,oh()}}function _a(t,e,n,r){const i=e[2];if(256==(256&i))return;sh(e);const s=rh();try{hA(e),function(t){z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ZS(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&uh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ch(e,c,0,null),wm(e,0)}if(function(t){for(let e=zm(t);null!==e;e=Km(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&pm(s,1),i[2]|=1024}}}(e),function(t){for(let e=zm(t);null!==e;e=Km(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];fm(r)&&_a(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&JS(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&uh(e,c)}else{const c=t.contentHooks;null!==c&&ch(e,c,1),wm(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)is(~i);else{const s=i,o=n[++r],a=n[++r];n$(o,s),a(2,e[s])}}}finally{is(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)K3(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Iy(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&uh(e,c)}else{const c=t.viewHooks;null!==c&&ch(e,c,2),wm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,pm(e[3],-1))}finally{oh()}}function x3(t,e,n,r){const i=e[10],s=!rh(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&kc(t,e,r),_a(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ZS(t,e,n,r,i){const s=_n(),o=2&r;try{is(-1),o&&e.length>20&&BS(t,e,20,rh()),n(r,i)}finally{is(s)}}function gy(t,e,n){!fA()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||gc(n,e),rn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ar(u);c&&H3(e,n,u);const l=mc(e,t,a,n);rn(l,e),null!==o&&q3(0,a-i,l,u,0,o),c&&(Jn(n.index,e)[8]=l)}}(t,e,n,pr(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=z.lFrame.currentDirectiveIndex;try{is(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];ym(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ax(c,l)}}finally{is(-1),ym(a)}}(t,e,n))}function my(t,e,n=pr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ex(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Rh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Rh(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ix(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function yy(t,e,n,r){let i=!1;if(fA()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];VS(n,o.selectors,!1)&&(i||(i=[]),ph(gc(n,e),t,o.type),Ar(o)?(ux(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,cx(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=ya(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=dh(n.mergedAttrs,d.hostAttrs),lx(t,n,e,c,d),$3(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||LS(e)?null:G3(d,s);o.push(h),a=ix(d,c,a),u=ix(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Us("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=dh(n.mergedAttrs,n.attrs),i}function ox(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function ax(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ux(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function $3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ar(e)&&(n[""]=t)}}function cx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lx(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=qs(i.type)),o=new fc(s,Ar(i),null);t.blueprint[r]=o,n[r]=o,ox(t,e,0,r,ya(t,n,i.hostVars,Z),i)}function H3(t,e,n){const r=pr(e,t),i=ex(n),s=t[10],o=Nh(t,Nc(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function q3(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function G3(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function dx(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function K3(t,e){const n=Jn(e,t);if(fm(n)){const r=n[1];80&n[2]?_a(r,n,r.template,n[8]):n[5]>0&&vy(n)}}function vy(t){for(let r=zm(t);null!==r;r=Km(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];_a(o,s,o.template,s[8])}else s[5]>0&&vy(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Jn(n[r],t);fm(i)&&i[5]>0&&vy(i)}}function Q3(t,e){const n=Jn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),kc(r,n,n[8])}function Nh(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function wy(t){for(;t;){t[2]|=64;const e=Mc(t);if(Lj(t)&&!e)return t;t=e}return null}function Cy(t,e,n){const r=e[10];r.begin&&r.begin();try{_a(t,e,t.template,n)}catch(i){throw mx(e,i),i}finally{r.end&&r.end()}}function hx(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Hm(n),i=r[1];x3(i,r,i.template,n)}}(t[8])}function Iy(t,e,n){vm(0),e(t,n)}const eq=(()=>Promise.resolve(null))();function fx(t){return t[7]||(t[7]=[])}function px(t){return t.cleanup||(t.cleanup=[])}function mx(t,e){const n=t[9],r=n?n.get(Qs,null):null;r&&r.handleError(e)}function yx(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Si(t,e,n){const r=nh(e,t);!function(t,e,n){ze(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function kh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Xg(i,a):2==s&&(r=Xg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Pc=new X("INJECTOR",-1);class _x{get(e,n=Cc){if(n===Cc){const r=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw r.name="NullInjectorError",r}return n}}const Oc=new X("Set Injector scope."),Fc={},rq={};let by;function vx(){return void 0===by&&(by=new _x),by}function wx(t,e=null,n=null,r){return new sq(t,n,e||vx(),r)}class sq{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Yr(n,a=>this.processProvider(a,e,n)),Yr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Pc,va(void 0,this));const o=this.records.get(Oc);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:se(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Cc,r=j.Default){this.assertNotDestroyed();const i=la(this),s=es(void 0);try{if(!(r&j.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(t=e)||"object"==typeof t&&t instanceof X)&&Ii(e);a=u&&this.injectableDefInScope(u)?va(Dy(e),Fc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&j.Self?vx():this.parent).get(e,n=r&j.Optional&&n===Cc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ca]=o[ca]||[]).unshift(se(e)),i)throw o;return BA(o,e,"R3InjectorError",this.source)}throw o}finally{es(s),la(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(se(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=U(e)))return!1;let i=Q0(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Q0(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Yr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Yr(f,p=>this.processProvider(p,h,f||Te))}}this.injectorDefTypes.add(o);const u=qs(o)||(()=>new o);this.records.set(o,va(u,Fc));const c=i.providers;if(null!=c&&!a){const l=e;Yr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=wa(e=U(e))?e:U(e&&e.provide);const s=function(t,e,n){return Cx(t)?va(void 0,t.useValue):va(Ex(t),Fc)}(e);if(wa(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=va(void 0,Fc,!0),o.factory=()=>zs(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Fc&&(n.value=rq,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=U(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Dy(t){const e=Ii(t),n=null!==e?e.factory:qs(t);if(null!==n)return n;if(t instanceof X)throw new Error(`Token ${se(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${se(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Qd]||t[Y0]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ex(t,e,n){let r;if(wa(t)){const i=U(t);return qs(i)||Dy(i)}if(Cx(t))r=()=>U(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...zs(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>L(U(t.useExisting));else{const i=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return qs(i)||Dy(i);r=()=>new i(...zs(t.deps))}return r}function va(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cx(t){return null!==t&&"object"==typeof t&&km in t}function wa(t){return"function"==typeof t}const Ix=function(t,e,n){return function(t,e=null,n=null,r){const i=wx(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let _e=(()=>{class t{static create(n,r){return Array.isArray(n)?Ix(n,r,""):Ix(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=Cc,t.NULL=new _x,t.\u0275prov=te({token:t,providedIn:"any",factory:()=>L(Pc)}),t.__NG_ELEMENT_ID__=-1,t})();function Tq(t,e){ah(Hm(t)[1],ht())}function Ne(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Ry(t.inputs),o.declaredInputs=Ry(t.declaredInputs),o.outputs=Ry(t.outputs);const a=i.hostBindings;a&&Mq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Sq(t,u),c&&xq(t,c),Zg(t.inputs,i.inputs),Zg(t.declaredInputs,i.declaredInputs),Zg(t.outputs,i.outputs),Ar(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ne&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dh(i.hostAttrs,n=dh(n,i.hostAttrs))}}(r)}function Ry(t){return t===Qo?{}:t===Te?[]:t}function Sq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function xq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Mq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Ph=null;function Ea(){if(!Ph){const t=Ee.Symbol;if(t&&t.iterator)Ph=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ph=r)}}}return Ph}function Vc(t){return!!Ny(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ea()in t)}function Ny(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Bc(t,e,n,r,i,s,o,a){const u=I(),c=fe(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ma(e,t,4,o||null,rs(c,a));yy(e,n,l,rs(c,u)),ah(e,l);const d=l.tViews=Rh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Qr(d,!1);const h=u[11].createComment("");Th(c,u,h,d),rn(h,u),Nh(u,u[l]=dx(h,u,h,d)),th(d)&&gy(c,u,d),null!=o&&my(u,d,a)}function E(t,e=j.Default){const n=I();return null===n?L(t,e):NA(ht(),n,U(t),e)}function Ly(){throw new Error("invalid")}function Fn(t,e,n){const r=I();return sn(r,ta(),e)&&function(t,e,n,r,i,s,o,a){const u=pr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(yx(t,n,l,r,i),eh(e)&&function(t,e){const n=Jn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,ze(s)?s.setProperty(u,r,i):Cm(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(fe(),function(){const t=z.lFrame;return hm(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),Fn}function Vy(t,e,n,r,i){const o=i?"class":"style";yx(t,n,e.inputs[o],o,r)}function k(t,e,n,r){const i=I(),s=fe(),o=20+t,a=i[11],u=i[o]=Ym(a,e,z.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=ma(e,t,2,i,rs(a,s));return yy(e,n,c,rs(a,o)),null!==c.attrs&&kh(c,c.attrs,!1),null!==c.mergedAttrs&&kh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Qr(c,!0);const l=c.mergedAttrs;null!==l&&lh(a,u,l);const d=c.classes;null!==d&&ny(a,u,d);const h=c.styles;null!==h&&PS(a,u,h),64!=(64&c.flags)&&Th(s,i,u,c),0===z.lFrame.elementDepthCount&&rn(u,i),z.lFrame.elementDepthCount++,th(c)&&(gy(s,i,c),function(t,e,n){if(am(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&my(i,c)}function P(){let t=ht();gm()?z.lFrame.isParent=!1:(t=t.parent,Qr(t,!1));const e=t;z.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&(ah(n,t),am(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Vy(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Vy(n,e,I(),e.stylesWithoutHost,!1)}function wn(t,e,n,r){k(t,e,n,r),P()}function jc(t){return!!t&&"function"==typeof t.then}const Lh=function(t){return!!t&&"function"==typeof t.subscribe};function ke(t,e,n,r){const i=I(),s=fe(),o=ht();return function(t,e,n,r,i,s,o,a){const u=th(r),l=t.firstCreatePass&&px(t),d=e[8],h=fx(e);let f=!0;if(3&r.type||a){const g=pr(r,e),v=a?a(g):g,_=h.length,T=a?R=>a(it(R[r.index])):r.index;if(ze(n)){let R=null;if(!a&&u&&(R=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,f=!1;else{s=Uy(r,e,d,s,!1);const q=n.listen(v,i,s);h.push(s,q),l&&l.push(i,T,_,_+1)}}else s=Uy(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),l&&l.push(i,T,_,o)}else s=Uy(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let v=0;v<g;v+=2){const Oe=e[m[v]][m[v+1]].subscribe(s),Rn=h.length;h.push(s,Oe),l&&l.push(i,r.index,Rn,-(Rn+1))}}}(s,i,i[11],o,t,e,!!n,r),ke}function fM(t,e,n,r){try{return!1!==n(r)}catch(i){return mx(t,i),!1}}function Uy(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Jn(t.index,e):e;0==(32&e[2])&&wy(a);let u=fM(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=fM(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function By(t=1){return function(t){return(z.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,z.lFrame.contextLView))[8]}(t)}function IM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?xr(s):Ai(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];mG(t[a],e)&&(u=!0,t[a+1]=r?sy(l):ry(l)),a=r?xr(l):Ai(l)}u&&(t[n+1]=r?ry(s):sy(s))}function mG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ua(t,e)>=0}function Vh(t,e){return function(t,e,n,r){const i=I(),s=fe(),o=function(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_n()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$c(n=$y(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=$y(i,t,e,n,r),null===s){let u=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ai(r))return t[xr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=$y(null,t,e,u[1],r),u=$c(u,e.attrs,r),function(t,e,n,r){t[xr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$c(r,t[s].hostAttrs,n);return $c(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xr(o),u=Ai(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||ua(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=xr(t[a+1]);t[r+1]=Sh(h,a),0!==h&&(t[h+1]=iy(t[h+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Sh(a,0),0!==a&&(t[a+1]=iy(t[a+1],r)),a=r;else t[r+1]=Sh(u,0),0===a?a=r:t[u+1]=iy(t[u+1],r),u=r;c&&(t[r+1]=ry(t[r+1])),IM(t,l,r,!0),IM(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ua(s,e)>=0&&(n[r+1]=sy(n[r+1]))}(e,l,t,r,s),o=Sh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Z&&sn(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Uh(function(t){return 1==(1&t)}(c)?OM(u,e,n,i,Ai(c),o):void 0)||(Uh(s)||function(t){return 2==(2&t)}(c)&&(s=OM(u,null,n,i,a,o)),function(t,e,n,r,i){const s=ze(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:tr.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=tr.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,nh(_n(),n),i,s))}(s,s.data[_n()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=se(function(t){return t instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Vh}function $y(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=$c(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $c(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xn(t,o,!!n||e[++s]))}return void 0===t?null:t}function OM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?Te:void 0);let f=d?xm(h,r):l===r?h:void 0;if(c&&!Uh(f)&&(f=xm(u,r)),Uh(f)&&(a=f,o))return a;const p=t[i+1];i=o?xr(p):Ai(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=xm(u,r))}return a}function Uh(t){return void 0!==t}function Bt(t,e=""){const n=I(),r=fe(),i=t+20,s=r.firstCreatePass?ma(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return ze(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Th(r,n,o,s),Qr(s,!1)}function ls(t){return Hy("",t,""),ls}function Hy(t,e,n){const r=I(),i=function(t,e,n,r){return sn(t,ta(),n)?e+J(n)+r:Z}(r,t,e,n);return i!==Z&&Si(r,_n(),i),Hy}const Zs=void 0;var JG=["en",[["a","p"],["AM","PM"],Zs],[["AM","PM"],Zs,Zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zs,"{1} 'at' {0}",Zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ka={};function rR(t){return t in ka||(ka[t]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[t]),ka[t]}var M=(()=>((M=M||{})[M.LocaleId=0]="LocaleId",M[M.DayPeriodsFormat=1]="DayPeriodsFormat",M[M.DayPeriodsStandalone=2]="DayPeriodsStandalone",M[M.DaysFormat=3]="DaysFormat",M[M.DaysStandalone=4]="DaysStandalone",M[M.MonthsFormat=5]="MonthsFormat",M[M.MonthsStandalone=6]="MonthsStandalone",M[M.Eras=7]="Eras",M[M.FirstDayOfWeek=8]="FirstDayOfWeek",M[M.WeekendRange=9]="WeekendRange",M[M.DateFormat=10]="DateFormat",M[M.TimeFormat=11]="TimeFormat",M[M.DateTimeFormat=12]="DateTimeFormat",M[M.NumberSymbols=13]="NumberSymbols",M[M.NumberFormats=14]="NumberFormats",M[M.CurrencyCode=15]="CurrencyCode",M[M.CurrencySymbol=16]="CurrencySymbol",M[M.CurrencyName=17]="CurrencyName",M[M.Currencies=18]="Currencies",M[M.Directionality=19]="Directionality",M[M.PluralCase=20]="PluralCase",M[M.ExtraData=21]="ExtraData",M))();const Bh="en-US";let iR=Bh;function Wy(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let s=0;s<t.length;s++)Wy(t[s],e,n,r,i);else{const s=fe(),o=I();let a=wa(t)?t:U(t.provide),u=Ex(t);const c=ht(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(wa(t)||!t.multi){const f=new fc(u,i,E),p=Ky(a,e,i?l:l+h,d);-1===p?(ph(gc(c,o),s,a),zy(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Ky(a,e,l+h,d),p=Ky(a,e,l,l+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){ph(gc(c,o),s,a);const v=function(t,e,n,r,i){const s=new fc(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,SR(s,i,r&&!n),s}(i?QW:KW,n.length,i,r,u);!i&&g&&(n[p].providerFactory=v),zy(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else zy(s,t,f>-1?f:p,SR(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function zy(t,e,n,r){const i=wa(e);if(i||function(t){return!!t.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=a.indexOf(n);-1===u?a.push(n,[r,o]):a[u+1].push(r,o)}else a.push(n,o)}}}function SR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ky(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function KW(t,e,n,r){return Qy(this.multi,[])}function QW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=mc(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Qy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Qy(i,s);return s}function Qy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=fe();if(r.firstCreatePass){const i=Ar(t);Wy(n,r.data,r.blueprint,i,!0),Wy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class xR{}const RR="ngComponent";class ZW{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${se(t)}. Did you add it to @NgModule.entryComponents?`);return e[RR]=t,e}(e)}}let Xs=(()=>{class t{}return t.NULL=new ZW,t})();function Gh(...t){}function Oa(t,e){return new Dt(pr(t,e))}const tz=function(){return Oa(ht(),I())};let Dt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=tz,t})();class Wh{}let Mi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>rz(),t})();const rz=function(){const t=I(),n=Jn(ht().index,t);return function(t){return t[11]}(Kr(n)?n:t)};let Jy=(()=>{class t{}return t.\u0275prov=te({token:t,providedIn:"root",factory:()=>null}),t})();class Fa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Zy=new Fa("13.0.2"),La={};function zh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(it(s)),Tr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&zh(u[1],u,c,r)}const o=n.type;if(8&o)zh(t,e,n.child,r);else if(32&o){const a=Wm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=RS(e,n);if(Array.isArray(a))r.push(...a);else{const u=Mc(e[16]);zh(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class zc{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return zh(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Tr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Jm(e,r),Ws(n,r))}this._attachedToViewContainer=!1}CS(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=fx(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&px(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){wy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ih(!0);try{Cy(t,e,n)}finally{ih(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Rc(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class oz extends zc{constructor(e){super(e),this._view=e}detectChanges(){hx(this._view)}checkNoChanges(){!function(t){ih(!0);try{hx(t)}finally{ih(!1)}}(this._view)}get context(){return null}}class kR extends Xs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=en(e);return new Xy(n,this.ngModule)}}function PR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const uz=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pS});class Xy extends xR{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map(f3).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return PR(this.componentDef.inputs)}get outputs(){return PR(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,La,i);return s!==La||r===La?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Wh,lA),a=s.get(Jy,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(ze(t))return t.selectRootElement(e,n===Qn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Ym(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||pS,clean:eq,playerHandler:e||null,flags:0}}(),f=Rh(0,null,null,1,0,null,null,null,null,null),p=Nc(null,f,h,d,null,null,o,u,a,s);let m,g;sh(p);try{const v=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=ma(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(kh(u,c,!0),null!==t&&(lh(i,t,c),null!==u.classes&&ny(i,t,u.classes),null!==u.styles&&PS(i,t,u.styles)));const l=r.createRenderer(t,e),d=Nc(n,ex(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(ph(gc(u,n),o,e.type),ux(o,u),cx(u,n.length,1)),Nh(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)lh(u,l,["ng-version",Zy.full]);else{const{attrs:_,classes:T}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Sr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&lh(u,l,_),T&&T.length>0&&ny(u,l,T.join(" "))}if(g=hm(f,20),void 0!==n){const _=g.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const R=n[T];_.push(null!=R?Array.from(R):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),lx(t,r,e,ya(t,e,1,null),n));const i=mc(e,t,r.directiveStart,r);rn(i,e);const s=pr(r,e);return s&&rn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ht();e.contentQueries(1,o,u.directiveStart)}const a=ht();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(is(a.index),ox(n[1],a,0,a.directiveStart,a.directiveEnd,e),ax(e,o)),o}(v,this.componentDef,p,h,[Tq]),kc(f,p,null)}finally{oh()}return new dz(this.componentType,m,Oa(g,p),p,g)}}class dz extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new oz(i),this.componentType=e}get injector(){return new ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class si{}class OR{}const Va=new Map;class LR extends si{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kR(this);const r=dr(e);this._bootstrapComponents=Xr(r.bootstrap),this._r3Injector=wx(e,n,[{provide:si,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],se(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=_e.THROW_IF_NOT_FOUND,r=j.Default){return e===_e||e===si||e===Pc?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class t_ extends OR{constructor(e){super(),this.moduleType=e,null!==dr(e)&&function(t){const e=new Set;!function n(r){const i=dr(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${se(e)} vs ${se(e.name)}`)}(s,Va.get(s),r),Va.set(s,r));const o=Xr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new LR(this.moduleType,e)}}function n_(t){return e=>{setTimeout(t,void 0,e)}}const Ye=class extends vi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var u,c,l;let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const d=e;i=null==(u=d.next)?void 0:u.bind(d),s=null==(c=d.error)?void 0:c.bind(d),o=null==(l=d.complete)?void 0:l.bind(d)}this.__isAsync&&(s=n_(s),i&&(i=n_(i)),o&&(o=n_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof rt&&e.add(a),a}};Symbol;const Pz=function(){return function(t,e){return 4&t.type?new Fz(e,t,Oa(t,e)):null}(ht(),I())};let Ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pz,t})();const Oz=Ri,Fz=class extends Oz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Nc(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),kc(n,r,e),new zc(r)}};const Uz=function(){return function(t,e){let n;const r=e[t.index];if(Tr(r))n=r;else{let i;if(8&t.type)i=it(r);else{const s=e[11];i=s.createComment("");const o=pr(t,e);Ys(s,Dh(s,o),i,function(t,e){return ze(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=dx(r,e,i,t),Nh(e,n)}return new HR(n,t,e)}(ht(),I())};let kr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uz,t})();const jz=kr,HR=class extends jz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oa(this._hostTNode,this._hostLView)}get injector(){return new ia(this._hostTNode,this._hostLView)}get parentInjector(){const e=fh(this._hostTNode,this._hostLView);if(AA(e)){const n=ra(e,this._hostLView),r=na(e);return new ia(n[1].data[r+8],n)}return new ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=qR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Xy(en(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(si,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(Tr(r[3])){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new HR(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],mh(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=ey(s,o),u=r[11],c=Dh(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Rc(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),mh(r_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=qR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Jm(this._lContainer,n);r&&(Ws(r_(this._lContainer),n),CS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Jm(this._lContainer,n);return r&&null!=Ws(r_(this._lContainer),n)?new zc(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function qR(t){return t[8]}function r_(t){return t[8]||(t[8]=[])}const Jc=new X("Application Initializer");let Ba=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Gh,this.reject=Gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(jc(s))n.push(s);else if(Lh(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(L(Jc,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const Zc=new X("AppId"),b8={provide:Zc,useFactory:function(){return`${y_()}${y_()}${y_()}`},deps:[]};function y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pN=new X("Platform Initializer"),Xc=new X("Platform ID"),gN=new X("appBootstrapListener");let Zh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const ds=new X("LocaleId"),mN=new X("DefaultCurrencyCode");class T8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const __=function(t){return new t_(t)},A8=__,S8=function(t){return Promise.resolve(__(t))},_N=function(t){const e=__(t),r=Xr(dr(t).declarations).reduce((i,s)=>{const o=en(s);return o&&i.push(new Xy(o)),i},[]);return new T8(e,r)},x8=_N,M8=function(t){return Promise.resolve(_N(t))};let Xh=(()=>{class t{constructor(){this.compileModuleSync=A8,this.compileModuleAsync=S8,this.compileModuleAndAllComponentsSync=x8,this.compileModuleAndAllComponentsAsync=M8}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const k8=(()=>Promise.resolve(0))();function v_(t){"undefined"==typeof Zone?k8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ee.requestAnimationFrame,e=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ee,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,E_(t),t.isCheckStableRunning=!0,w_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),E_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return vN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return vN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,E_(t),w_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(je.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,O8,Gh,Gh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const O8={};function w_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function E_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wN(t){t._nesting--,w_(t)}class V8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let C_=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(L(je))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),EN=(()=>{class t{constructor(){this._applications=new Map,I_.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return I_.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();class U8{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let I_=new U8,CN=!0,IN=!1;let Pr;const DN=new X("AllowMultipleToken");class b_{constructor(e,n){this.name=e,this.token=n}}function TN(t,e,n=[]){const r=`Platform: ${e}`,i=new X(r);return(s=[])=>{let o=AN();if(!o||o.injector.get(DN,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Oc,useValue:"platform"});!function(t){if(Pr&&!Pr.destroyed&&!Pr.injector.get(DN,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Pr=t.get(SN);const e=t.get(pN,null);e&&e.forEach(n=>n())}(_e.create({providers:a,name:r}))}return function(t){const e=AN();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function AN(){return Pr&&!Pr.destroyed?Pr:null}let SN=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new V8:("zone.js"===t?void 0:t)||new je({enableLongStackTrace:(IN=!0,CN),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:je,useValue:a}];return a.run(()=>{const c=_e.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Qs,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{D_(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return jc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Ba);return h.runInitializers(),h.donePromise.then(()=>(function(t){Kn(t,"Expected localeId to be defined"),"string"==typeof t&&(iR=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(ds,Bh)||Bh),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=xN({},r);return function(t,e,n){const r=new t_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ja);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${se(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(L(_e))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function xN(t,e){return Array.isArray(e)?e.reduce(xN,t):B(B({},t),e)}let ja=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Se(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Se(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=oc(t),n=function(t,e){return"number"==typeof Yg(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?zr(r[0]):sc(n)(Ct(r,e)):Ei}(a,u.pipe(function(t={}){const{connector:e=(()=>new vi),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Ut((m,g)=>{c++,!d&&!l&&h();const v=u=null!=u?u:e();g.add(()=>{c--,0===c&&!d&&!l&&(a=Jg(p,i))}),v.subscribe(g),o||(o=new le({next:_=>v.next(_),error:_=>{d=!0,h(),a=Jg(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Jg(f,r),v.complete()}}),Ct(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof xR?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(si),a=i.create(_e.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(C_,null),l=c&&a.injector.get(EN);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),D_(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;D_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(gN,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(L(je),L(_e),L(Qs),L(Xs),L(Ba))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function D_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const e4=function(t){return function(t,e,n){if(eh(t)&&!n){const r=Jn(t.index,e);return new zc(r,r)}return 47&t.type?new zc(e[16],e):null}(ht(),I(),16==(16&t))};let A_=(()=>{class t{}return t.__NG_ELEMENT_ID__=e4,t})();class FN{constructor(){}supports(e){return Vc(e)}create(e){return new f4(e)}}const h4=(t,e)=>e;class f4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||h4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<VN(r,i,s)?n:r,a=VN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Vc(e))throw new Error(`Error trying to diff '${se(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ea()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new p4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new LN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class p4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class LN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new g4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class UN{constructor(){}supports(e){return e instanceof Map||Ny(e)}create(){return new m4}}class m4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Ny(e)))throw new Error(`Error trying to diff '${se(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new y4(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class y4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BN(){return new el([new FN])}let el=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||BN()),deps:[[t,new as,new Le]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=te({token:t,providedIn:"root",factory:BN}),t})();function jN(){return new $a([new UN])}let $a=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||jN()),deps:[[t,new as,new Le]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=te({token:t,providedIn:"root",factory:jN}),t})();const v4=[new UN],E4=new el([new FN]),C4=new $a(v4),I4=TN(null,"core",[{provide:Xc,useValue:"unknown"},{provide:SN,deps:[_e]},{provide:EN,deps:[]},{provide:Zh,deps:[]}]),S4=[{provide:ja,useClass:ja,deps:[je,_e,Qs,Xs,Ba]},{provide:uz,deps:[je],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Ba,useClass:Ba,deps:[[new Le,Jc]]},{provide:Xh,useClass:Xh,deps:[]},b8,{provide:el,useFactory:function(){return E4},deps:[]},{provide:$a,useFactory:function(){return C4},deps:[]},{provide:ds,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Bh},deps:[[new da(ds),new Le,new as]]},{provide:mN,useValue:"USD"}];let M4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(L(ja))},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({providers:S4}),t})(),pf=null;function oi(){return pf}const jt=new X("DocumentToken");let io=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:function(){return L(D1)},providedIn:"platform"}),t})();const b7=new X("Location Initialized");let D1=(()=>{class t extends io{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oi().getBaseHref(this._doc)}onPopState(n){const r=oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){T1()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){T1()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(L(jt))},t.\u0275prov=te({token:t,factory:function(){return new D1(L(jt))},providedIn:"platform"}),t})();function T1(){return!!window.history.pushState}function ev(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function A1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ki(t){return t&&"?"!==t[0]?"?"+t:t}let Ka=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:function(){return function(t){const e=L(jt).location;return new S1(L(io),e&&e.origin||"")}()},providedIn:"root"}),t})();const tv=new X("appBaseHref");let S1=(()=>{class t extends Ka{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ev(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ki(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(L(io),L(tv,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),A7=(()=>{class t extends Ka{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ev(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(L(io),L(tv,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),nv=(()=>{class t{constructor(n,r){this._subject=new Ye,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=A1(x1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ki(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ki(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ki(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ki,t.joinWithSlash=ev,t.stripTrailingSlash=A1,t.\u0275fac=function(n){return new(n||t)(L(Ka),L(io))},t.\u0275prov=te({token:t,factory:function(){return new nv(L(Ka),L(io))},providedIn:"root"}),t})();function x1(t){return t.replace(/\/index.html$/,"")}var st=(()=>((st=st||{})[st.Zero=0]="Zero",st[st.One=1]="One",st[st.Two=2]="Two",st[st.Few=3]="Few",st[st.Many=4]="Many",st[st.Other=5]="Other",st))();const F7=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=rR(e);if(n)return n;const r=e.split("-")[0];if(n=rR(r),n)return n;if("en"===r)return JG;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[M.PluralCase]};class bf{}let d5=(()=>{class t extends bf{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(F7(r||this.locale)(n)){case st.Zero:return"zero";case st.One:return"one";case st.Two:return"two";case st.Few:return"few";case st.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(L(ds))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();class g5{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V1=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new g5(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new U1(i,a);r.push(u)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const u=new U1(i,a);r.push(u)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(kr),E(Ri),E(el))},t.\u0275dir=G({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class U1{constructor(e,n){this.record=e,this.view=n}}let dv=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new y5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){B1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){B1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(kr),E(Ri))},t.\u0275dir=G({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class y5{constructor(){this.$implicit=null,this.ngIf=null}}function B1(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${se(e)}'.`)}let mv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({providers:[{provide:bf,useClass:d5}]}),t})();let z5=(()=>{class t{}return t.\u0275prov=te({token:t,providedIn:"root",factory:()=>new K5(L(jt),window)}),t})();class K5{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=q1(this.window.history)||q1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function q1(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yv extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new yv,pf||(pf=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(pl=pl||document.querySelector("base"),pl?pl.getAttribute("href"):null);return null==n?null:function(t){Df=Df||document.createElement("a"),Df.setAttribute("href",t);const e=Df.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){pl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Df,pl=null;const G1=new X("TRANSITION_ID"),tK=[{provide:Jc,useFactory:function(t,e,n){return()=>{n.get(Ba).donePromise.then(()=>{const r=oi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[G1,jt,_e],multi:!0}];class _v{static init(){var t;t=new _v,I_=t}addToWindow(e){Ee.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(r=>{const i=Ee.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?oi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let nK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const gl=new X("EventManagerPlugins");let Af=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(L(gl),L(je))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();class vv{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=oi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let z1=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),ml=(()=>{class t extends z1{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(K1),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(K1))}}return t.\u0275fac=function(n){return new(n||t)(L(jt))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function K1(t){oi().remove(t)}const wv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ev=/%COMP%/g;function Sf(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Sf(t,i,n):(i=i.replace(Ev,t),n.push(i))}return n}function J1(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cv=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Iv(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Qn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new yK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Qn.ShadowDom:return new _K(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Sf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(L(Af),L(ml),L(Zc))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();class Iv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(wv[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=wv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=wv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(tr.DashCase|tr.Important)?e.style.setProperty(n,r,i&tr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&tr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,J1(r)):this.eventManager.addEventListener(e,n,J1(r))}}class yK extends Iv{constructor(e,n,r,i){super(e),this.component=r;const s=Sf(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Ev,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Ev,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class _K extends Iv{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Sf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vK=(()=>{class t extends vv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(L(jt))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const ek=["alt","control","meta","shift"],TK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},AK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let SK=(()=>{class t extends vv{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(ek.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&tk.hasOwnProperty(e)&&(e=tk[e]))}return TK[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ek.forEach(s=>{s!=i&&AK[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(L(jt))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const PK=[{provide:Xc,useValue:"browser"},{provide:pN,useValue:function(){yv.makeCurrent(),_v.init()},multi:!0},{provide:jt,useFactory:function(){return t=document,lm=t,document;var t},deps:[]}],FK=TN(I4,"browser",PK),LK=[[],{provide:Oc,useValue:"root"},{provide:Qs,useFactory:function(){return new Qs},deps:[]},{provide:gl,useClass:vK,multi:!0,deps:[jt,je,Xc]},{provide:gl,useClass:SK,multi:!0,deps:[jt]},[],{provide:Cv,useClass:Cv,deps:[Af,ml,Zc]},{provide:Wh,useExisting:Cv},{provide:z1,useExisting:ml},{provide:ml,useClass:ml,deps:[jt]},{provide:C_,useClass:C_,deps:[je]},{provide:Af,useClass:Af,deps:[gl,je]},{provide:class{},useClass:nK,deps:[]},[]];let VK=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Zc,useValue:n.appId},{provide:G1,useExisting:Zc},tK]}}}return t.\u0275fac=function(n){return new(n||t)(L(t,12))},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({providers:LK,imports:[mv,M4]}),t})();function ie(...t){return Ct(t,oc(t))}"undefined"!=typeof window&&window;class jr extends vi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:WK}=Array,{getPrototypeOf:zK,prototype:KK,keys:QK}=Object;function rk(t){if(1===t.length){const e=t[0];if(WK(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&zK(t)===KK}(e)){const n=QK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:JK}=Array;function ik(t){return xe(e=>function(t,e){return JK(e)?t(...e):t(e)}(t,e))}function sk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ok(t,e,n){t?wi(n,t,e):e()}const xf=qo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Sv(...t){return sc(1)(Ct(t,oc(t)))}function ak(t){return new Se(e=>{zr(t()).subscribe(e)})}function uk(){return Ut((t,e)=>{let n=null;t._refCount++;const r=new wt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class n9 extends Se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,R0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;const n=this.getSubject();e.add(this.source.subscribe(new wt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return uk()(this)}}function so(t,e){return Ut((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new wt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;zr(t(u,l)).subscribe(i=new wt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function i9(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new wt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ck(t,e){return Ut(i9(t,e,arguments.length>=2,!0))}function Qa(t,e){return Ut((n,r)=>{let i=0;n.subscribe(new wt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function gs(t){return Ut((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new wt(n,void 0,void 0,o=>{s=zr(t(o,gs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function yl(t,e){return De(e)?Et(t,e,1):Et(t,1)}function xv(t){return t<=0?()=>Ei:Ut((e,n)=>{let r=[];e.subscribe(new wt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lk(t=s9){return Ut((e,n)=>{let r=!1;e.subscribe(new wt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function s9(){return new xf}function dk(t){return Ut((e,n)=>{let r=!1;e.subscribe(new wt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ya(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qa((i,s)=>t(i,s,r)):Ls,ac(1),n?dk(e):lk(()=>new xf))}function Vn(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ut((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new wt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ls}class Oi{constructor(e,n){this.id=e,this.url=n}}class Mv extends Oi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _l extends Oi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hk extends Oi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class u9 extends Oi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class c9 extends Oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l9 extends Oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d9 extends Oi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class h9 extends Oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f9 extends Oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fk{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pk{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p9{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g9{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m9{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y9{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gk{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class _9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ja(t){return new _9(t)}const mk="ngNavigationCancelingError";function Rv(t){const e=Error("NavigationCancelingError: "+t);return e[mk]=!0,e}function w9(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ai(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!yk(t[i],e[i]))return!1;return!0}function yk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function _k(t){return Array.prototype.concat.apply([],t)}function vk(t){return t.length>0?t[t.length-1]:null}function $t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ui(t){return Lh(t)?t:jc(t)?Ct(Promise.resolve(t)):ie(t)}const I9={exact:function Ck(t,e,n){if(!ao(t.segments,e.segments)||!Mf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Ck(t.children[r],e.children[r],n))return!1;return!0},subset:Ik},wk={exact:function(t,e){return ai(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>yk(t[n],e[n]))},ignored:()=>!0};function Ek(t,e,n){return I9[n.paths](t.root,e.root,n.matrixParams)&&wk[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Ik(t,e,n){return bk(t,e,e.segments,n)}function bk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ao(i,n)||e.hasChildren()||!Mf(i,n,r))}if(t.segments.length===n.length){if(!ao(t.segments,n)||!Mf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Ik(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ao(t.segments,i)&&Mf(t.segments,i,r)&&t.children[ue])&&bk(t.children[ue],e,s,r)}}function Mf(t,e,n){return e.every((r,i)=>wk[n](t[i].parameters,r.parameters))}class oo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return S9.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,$t(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rf(this)}}class vl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ja(this.parameters)),this._parameterMap}toString(){return xk(this)}}function ao(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class Dk{}class Tk{parse(e){const n=new L9(e);return new oo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${wl(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Nf(n)}=${Nf(i)}`).join("&"):`${Nf(n)}=${Nf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);var t;return`${n}${r}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const S9=new Tk;function Rf(t){return t.segments.map(e=>xk(e)).join("/")}function wl(t,e){if(!t.hasChildren())return Rf(t);if(e){const n=t.children[ue]?wl(t.children[ue],!1):"",r=[];return $t(t.children,(i,s)=>{s!==ue&&r.push(`${s}:${wl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return $t(t.children,(r,i)=>{i===ue&&(n=n.concat(e(r,i)))}),$t(t.children,(r,i)=>{i!==ue&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ue?[wl(t.children[ue],!1)]:[`${i}:${wl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ue]?`${Rf(t)}/${n[0]}`:`${Rf(t)}/(${n.join("//")})`}}function Ak(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nf(t){return Ak(t).replace(/%3B/gi,";")}function Nv(t){return Ak(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kf(t){return decodeURIComponent(t)}function Sk(t){return kf(t.replace(/\+/g,"%20"))}function xk(t){return`${Nv(t.path)}${function(t){return Object.keys(t).map(e=>`;${Nv(e)}=${Nv(t[e])}`).join("")}(t.parameters)}`}const N9=/^[^\/()?;=#]+/;function Pf(t){const e=t.match(N9);return e?e[0]:""}const k9=/^[^=?&#]+/,O9=/^[^&#]+/;class L9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new de(e,n)),r}parseSegment(){const e=Pf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new vl(kf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Pf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Pf(this.remaining);i&&(r=i,this.capture(r))}e[kf(n)]=kf(r)}parseQueryParam(e){const n=function(t){const e=t.match(k9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(O9);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Sk(n),s=Sk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ue]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Mk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=kv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=kv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Pv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pv(e,this._root).map(n=>n.value)}}function kv(t,e){if(t===e.value)return e;for(const n of e.children){const r=kv(t,n);if(r)return r}return null}function Pv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Pv(t,n);if(r.length)return r.unshift(e),r}return[]}class Fi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Za(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Rk extends Mk{constructor(e,n){super(e),this.snapshot=n,Ov(this,e)}toString(){return this.snapshot.toString()}}function Nk(t,e){const n=function(t,e){const o=new Of([],{},{},"",{},ue,e,null,t.root,-1,{});return new Pk("",new Fi(o,[]))}(t,e),r=new jr([new vl("",{})]),i=new jr({}),s=new jr({}),o=new jr({}),a=new jr(""),u=new Xa(r,i,o,a,s,ue,e,n.root);return u.snapshot=n.root,new Rk(new Fi(u,[]),n)}class Xa{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>Ja(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>Ja(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Of{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ja(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pk extends Mk{constructor(e,n){super(n),this.url=e,Ov(this,n)}toString(){return Ok(this._root)}}function Ov(t,e){e.value._routerState=t,e.children.forEach(n=>Ov(t,n))}function Ok(t){const e=t.children.length>0?` { ${t.children.map(Ok).join(", ")} } `:"";return`${t.value}${e}`}function Fv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ai(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ai(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ai(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ai(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Lv(t,e){const n=ai(t.params,e.params)&&function(t,e){return ao(t,e)&&t.every((n,r)=>ai(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Lv(t.parent,e.parent))}function El(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return El(t,r,i);return El(t,r)})}(t,e,n);return new Fi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>El(t,a)),o}}const r=function(t){return new Xa(new jr(t.url),new jr(t.params),new jr(t.queryParams),new jr(t.fragment),new jr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>El(t,s));return new Fi(r,i)}}function Ff(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Cl(t){return"object"==typeof t&&null!=t&&t.outlets}function Vv(t,e,n,r,i){let s={};return r&&$t(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new oo(n.root===t?e:Fk(n.root,t,e),s,i)}function Fk(t,e,n){const r={};return $t(t.children,(i,s)=>{r[s]=i===e?n:Fk(i,e,n)}),new de(t.segments,r)}class Lk{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ff(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Cl);if(i&&i!==vk(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uv{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Vk(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return Lf(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Cl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Bk(u,c,o))return s;r+=2}else{if(!Bk(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new de(t.segments.slice(r.pathIndex),t.children),Lf(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?Bv(t,e,n):r.match?Lf(t,0,i):Bv(t,e,n)}function Lf(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function(t){return Cl(t[0])?t[0].outlets:{[ue]:t}}(n),i={};return $t(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Vk(t.children[o],e,s))}),$t(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function Bv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Cl(s)){const u=Q9(s.outlets);return new de(r,u)}if(0===i&&Ff(n[0])){r.push(new vl(t.segments[e].path,Uk(n[0]))),i++;continue}const o=Cl(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ff(a)?(r.push(new vl(o,Uk(a))),i+=2):(r.push(new vl(o,{})),i++)}return new de(r,{})}function Q9(t){const e={};return $t(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Bv(new de([],{}),0,n))}),e}function Uk(t){const e={};return $t(t,(n,r)=>e[r]=`${n}`),e}function Bk(t,e,n){return t==n.path&&ai(e,n.parameters)}class J9{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Za(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),$t(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Za(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Za(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Za(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new y9(s.value.snapshot))}),e.children.length&&this.forwardEvent(new g9(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Fv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Fv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class jv{constructor(e,n){this.routes=e,this.module=n}}function ms(t){return"function"==typeof t}function uo(t){return t instanceof oo}const Il=Symbol("INITIAL_VALUE");function bl(){return so(t=>function(...t){const e=oc(t),n=G0(t),{args:r,keys:i}=rk(t);if(0===r.length)return Ct([],e);const s=new Se(function(t,e,n=Ls){return r=>{ok(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)ok(e,()=>{const c=Ct(t[u],e);let l=!1;c.subscribe(new wt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>sk(i,o):Ls));return n?s.pipe(ik(n)):s}(t.map(e=>e.pipe(ac(1),function(...t){const e=oc(t);return Ut((n,r)=>{(e?Sv(t,n,e):Sv(t,n)).subscribe(r)})}(Il)))).pipe(ck((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Il?i:(s===Il&&(r=!0),r||!1!==s&&o!==n.length-1&&!uo(s)?i:s),e)},Il),Qa(e=>e!==Il),xe(e=>uo(e)?e:!0===e),ac(1)))}class iQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dl,this.attachRef=null}}class Dl{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new iQ,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let $v=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.name=s||ue,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new sQ(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(E(Dl),E(kr),E(Xs),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(DA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ht(),t)}("name"),E(A_))},t.\u0275dir=G({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class sQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xa?this.route:e===Dl?this.childContexts:this.parent.get(e,n)}}let jk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=lr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&wn(0,"router-outlet")},directives:[$v],encapsulation:2}),t})();function $k(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];oQ(r,aQ(e,r))}}function oQ(t,e){t.children&&$k(t.children,e)}function aQ(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Hv(t){const e=t.children&&t.children.map(Hv),n=e?Lt(B({},t),{children:e}):B({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=jk),n}function Er(t){return t.outlet||ue}function Hk(t,e){const n=t.filter(r=>Er(r)===e);return n.push(...t.filter(r=>Er(r)!==e)),n}const qk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vf(t,e,n){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?B({},qk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||w9)(n,t,e);if(!i)return B({},qk);const s={};$t(i.posParams,(u,c)=>{s[c]=u.path});const o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!=(a=i.posParams)?a:{}}}function Uf(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Bf(t,e,r)&&Er(r)!==ue)}(t,n,r)){const o=new de(e,function(t,e,n,r){const i={};i[ue]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Er(s)!==ue){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Er(s)]=o}return i}(t,e,r,new de(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Bf(t,e,r))}(t,n,r)){const o=new de(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Bf(t,n,a)&&!i[Er(a)]){const u=new de([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Er(a)]=u}return B(B({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new de(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Bf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Gk(t,e,n,r){return!!(Er(t)===r||r!==ue&&Bf(e,n,t))&&("**"===t.path||Vf(e,t,n).matched)}function Wk(t,e,n){return 0===e.length&&!t.children[n]}class Tl{constructor(e){this.segmentGroup=e||null}}class zk{constructor(e){this.urlTree=e}}function jf(t){return new Se(e=>e.error(new Tl(t)))}function Kk(t){return new Se(e=>e.error(new zk(t)))}function hQ(t){return new Se(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class gQ{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(si)}apply(){const e=Uf(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ue).pipe(xe(s=>this.createUrlTree(qv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gs(s=>{if(s instanceof zk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Tl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ue).pipe(xe(i=>this.createUrlTree(qv(i),e.queryParams,e.fragment))).pipe(gs(i=>{throw i instanceof Tl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new de([],{[ue]:e}):e;return new oo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(xe(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(yl(s=>{const o=r.children[s],a=Hk(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(xe(u=>({segment:u,outlet:s})))}),ck((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qa((i,s)=>t(i,s,r)):Ls,xv(1),n?dk(e):lk(()=>new xf))}())}expandSegment(e,n,r,i,s,o){return Ct(r).pipe(yl(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(gs(c=>{if(c instanceof Tl)return ie(null);throw c}))),Ya(a=>!!a),gs((a,u)=>{if(a instanceof xf||"EmptyError"===a.name){if(Wk(n,i,s))return ie(new de([],{}));throw new Tl(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return Gk(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):jf(n):jf(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Kk(s):this.lineralizeSegments(r,s).pipe(Et(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Vf(n,i,s);if(!a)return jf(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?Kk(d):this.lineralizeSegments(i,d).pipe(Et(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ie(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(xe(h=>(r._loadedConfig=h,new de(i,{})))):ie(new de(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Vf(n,r,i);if(!o)return jf(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Et(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=Uf(n,a,c,f),g=new de(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(xe(R=>new de(a,R)));if(0===f.length&&0===m.length)return ie(new de(a,{}));const v=Er(r)===s;return this.expandSegment(h,g,f,m,v?ue:s,!0).pipe(xe(T=>new de(a.concat(T.segments),T.children)))}))}getChildConfig(e,n,r){return n.children?ie(new jv(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ie(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Et(i=>{return i?this.configLoader.load(e.injector,n).pipe(xe(s=>(n._loadedConfig=s,s))):(t=n,new Se(e=>e.error(Rv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):ie(new jv([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ie(i.map(o=>{const a=e.get(o);let u;if((t=a)&&ms(t.canLoad))u=a.canLoad(n,r);else{if(!ms(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}var t;return ui(u)})).pipe(bl(),Vn(o=>{if(!uo(o))return;const a=Rv(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),xe(o=>!0===o)):ie(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[ue])return hQ(e.redirectTo);i=i.children[ue]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new oo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return $t(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return $t(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function qv(t){const e={};for(const r of Object.keys(t.children)){const s=qv(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[ue]){const e=t.children[ue];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}class Qk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $f{constructor(e,n){this.component=e,this.route=n}}function _Q(t,e,n){const r=t._root;return Al(r,e?e._root:null,n,[r.value])}function Hf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Al(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Za(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ao(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(t.url,e.url)||!ai(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lv(t,e)||!ai(t.queryParams,e.queryParams);default:return!Lv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Qk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Al(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $f(a.outlet.component,o))}else o&&Sl(e,a,i),i.canActivateChecks.push(new Qk(r)),Al(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),$t(s,(o,a)=>Sl(o,n.getContext(a),i)),i}function Sl(t,e,n){const r=Za(t),i=t.value;$t(r,(s,o)=>{Sl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new $f(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class RQ{}function Yk(t){return new Se(e=>e.error(t))}class kQ{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Uf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ue);if(null===n)return null;const r=new Of([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fi(r,n),s=new Pk(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=kk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=Hk(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=Jk(r);return i.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet)),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return Wk(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!Gk(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?vk(r).parameters:{};s=new Of(r,f,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,eP(e),Er(e),e.component,e,Zk(n),Xk(n)+r.length,tP(e))}else{const f=Vf(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Of(o,f.parameters,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,eP(e),Er(e),e.component,e,Zk(n),Xk(n)+o.length,tP(e))}const u=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:l}=Uf(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var t;if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Fi(s,f)]}if(0===u.length&&0===l.length)return[new Fi(s,[])];const d=Er(e)===i,h=this.processSegment(u,c,l,d?ue:i);return null===h?null:[new Fi(s,h)]}}function FQ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Jk(t){const e=[],n=new Set;for(const r of t){if(!FQ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Jk(r.children);e.push(new Fi(r.value,i))}return e.filter(r=>!n.has(r))}function Zk(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xk(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function eP(t){return t.data||{}}function tP(t){return t.resolve||{}}function Gv(t){return so(e=>{const n=t(e);return n?Ct(n).pipe(xe(()=>e)):ie(e)})}class qQ extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Wv=new X("ROUTES");class nP{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new jv(_k(o.injector.get(Wv,void 0,j.Self|j.Optional)).map(Hv),o)}),gs(s=>{throw n._loader$=void 0,s}));return n._loader$=new n9(i,()=>new vi).pipe(uk()),n._loader$}loadModuleFactory(e){return ui(e()).pipe(Et(n=>n instanceof OR?ie(n):Ct(this.compiler.compileModuleAsync(n))))}}class WQ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function zQ(t){throw t}function KQ(t,e,n){return e.parse("/")}function rP(t,e){return ie(null)}const QQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new vi,this.errorHandler=zQ,this.malformedUriErrorHandler=KQ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rP,afterPreactivation:rP},this.urlHandlingStrategy=new WQ,this.routeReuseStrategy=new qQ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(si),this.console=o.get(Zh);const d=o.get(je);this.isNgZoneEnabled=d instanceof je&&je.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new oo(new de([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nP(o,a,h=>this.triggerEvent(new fk(h)),h=>this.triggerEvent(new pk(h))),this.routerState=Nk(this.currentUrlTree,this.rootComponentType),this.transitions=new jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Qa(i=>0!==i.id),xe(i=>Lt(B({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),so(i=>{let s=!1,o=!1;return ie(i).pipe(Vn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Lt(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),so(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return qf(a.source)&&(this.browserUrlTree=a.extractedUrl),ie(a).pipe(so(d=>{const h=this.transitions.getValue();return r.next(new Mv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ei:Promise.resolve(d)}),function(t,e,n,r){return so(i=>function(t,e,n,r,i){return new gQ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(xe(s=>Lt(B({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Vn(d=>{this.currentNavigation=Lt(B({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return Et(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new kQ(t,e,n,r,i,s).recognize();return null===o?Yk(new RQ):ie(o)}catch(o){return Yk(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(xe(o=>Lt(B({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new c9(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,v=new Mv(h,this.serializeUrl(f),p,m);r.next(v);const _=Nk(f,this.rootComponentType).snapshot;return ie(Lt(B({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Lt(B({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ei}),Gv(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Vn(a=>{const u=new l9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),xe(a=>Lt(B({},a),{guards:_Q(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ie(Lt(B({},n),{guardsResult:!0})):function(t,e,n,r){return Ct(t).pipe(Et(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ie(s.map(a=>{const u=Hf(a,e,i);let c;if(function(t){return t&&ms(t.canDeactivate)}(u))c=ui(u.canDeactivate(t,e,n,r));else{if(!ms(u))throw new Error("Invalid CanDeactivate guard");c=ui(u(t,e,n,r))}return c.pipe(Ya())})).pipe(bl()):ie(!0)}(i.component,i.route,n,e,r)),Ya(i=>!0!==i,!0))}(o,r,i,t).pipe(Et(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return Ct(e).pipe(yl(i=>Sv(function(t,e){return null!==t&&e&&e(new p9(t)),ie(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new m9(t)),ie(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>ak(()=>ie(o.guards.map(u=>{const c=Hf(u,o.node,n);let l;if(function(t){return t&&ms(t.canActivateChild)}(c))l=ui(c.canActivateChild(r,t));else{if(!ms(c))throw new Error("Invalid CanActivateChild guard");l=ui(c(r,t))}return l.pipe(Ya())})).pipe(bl())));return ie(s).pipe(bl())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(s=>ak(()=>{const o=Hf(s,e,n);let a;if(function(t){return t&&ms(t.canActivate)}(o))a=ui(o.canActivate(e,t));else{if(!ms(o))throw new Error("Invalid CanActivate guard");a=ui(o(e,t))}return a.pipe(Ya())}));return ie(i).pipe(bl())}(t,i.route,n))),Ya(i=>!0!==i,!0))}(r,s,t,e):ie(a)),xe(a=>Lt(B({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Vn(a=>{if(uo(a.guardsResult)){const c=Rv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new d9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Qa(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Gv(a=>{if(a.guards.canActivateChecks.length)return ie(a).pipe(Vn(u=>{const c=new h9(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),so(u=>{let c=!1;return ie(u).pipe(function(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let s=0;return Ct(i).pipe(yl(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ie({});const s={};return Ct(i).pipe(Et(o=>function(t,e,n,r){const i=Hf(t,e,r);return ui(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Vn(a=>{s[o]=a}))),xv(1),Et(()=>Object.keys(s).length===i.length?ie(s):Ei))}(t._resolve,t,e,r).pipe(xe(s=>(t._resolvedData=s,t.data=B(B({},t.data),kk(t,n).resolve),null)))}(o.route,r,t,e)),Vn(()=>s++),xv(1),Et(o=>s===i.length?ie(n):Ei))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Vn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Vn(u=>{const c=new f9(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Gv(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),xe(a=>{const u=function(t,e,n){const r=El(t,e._root,n?n._root:void 0);return new Rk(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Lt(B({},a),{targetRouterState:u})}),Vn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>xe(r=>(new J9(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Vn({next(){s=!0},complete(){s=!0}}),function(t){return Ut((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===i.id&&(this.currentNavigation=null)}),gs(a=>{if(o=!0,function(t){return t&&t[mk]}(a)){const u=uo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new hk(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qf(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new u9(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ei}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(B(B({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},s=(null==(a=n.state)?void 0:a.navigationId)?n.state:null;if(s){const u=B({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){$k(n),this.config=n.map(Hv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return Vv(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Lk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return $t(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Lk(n,e,r)}(n);if(s.toRoot())return Vv(e.root,new de([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Uv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Uv(s,s===e.root,0)}const r=Ff(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Uv(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Lf(o.segmentGroup,o.index,s.commands):Vk(o.segmentGroup,o.index,s.commands);return Vv(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=uo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?B({},QQ):!1===r?B({},YQ):r,uo(n))return Ek(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Ek(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new _l(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var v,_,T;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,u=qf(r)&&a&&!qf(a.source),c=a.rawUrl.toString()===n.toString(),l=a.id===(null==(v=this.currentNavigation)?void 0:v.id);if(u&&c&&l)return Promise.resolve(!0);let h,f,p;o?(h=o.resolve,f=o.reject,p=o.promise):p=new Promise((R,q)=>{h=R,f=q});const m=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),g=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(_=this.browserPageId)?_:0:(null!=(T=this.browserPageId)?T:0)+1):g=0,this.setTransition({id:m,targetPageId:g,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:h,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(R=>Promise.reject(R))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=B(B({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new hk(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Ly()},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function qf(t){return"imperative"!==t}class iP{}class sP{preload(e,n){return ie(null)}}let oP=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new nP(i,r,u=>n.triggerEvent(new fk(u)),u=>n.triggerEvent(new pk(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qa(n=>n instanceof _l),yl(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(si);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Ct(i).pipe(sc(),xe(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ie(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Et(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(L(rr),L(Xh),L(_e),L(iP))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),Qv=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Mv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _l&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof gk&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new gk(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Ly()},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const co=new X("ROUTER_CONFIGURATION"),aP=new X("ROUTER_FORROOT_GUARD"),tY=[nv,{provide:Dk,useClass:Tk},{provide:rr,useFactory:function(t,e,n,r,i,s,o={},a,u){const c=new rr(null,t,e,n,r,i,_k(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null==(d=console.group)||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null==(h=console.groupEnd)||h.call(console)}),c},deps:[Dk,Dl,nv,_e,Xh,Wv,co,[class{},new Le],[class{},new Le]]},Dl,{provide:Xa,useFactory:function(t){return t.routerState.root},deps:[rr]},oP,sP,class{preload(e,n){return n().pipe(gs(()=>ie(null)))}},{provide:co,useValue:{enableTracing:!1}}];function nY(){return new b_("Router",rr)}let uP=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[tY,cP(n),{provide:aP,useFactory:sY,deps:[[rr,new Le,new as]]},{provide:co,useValue:r||{}},{provide:Ka,useFactory:iY,deps:[io,[new da(tv),new Le],co]},{provide:Qv,useFactory:rY,deps:[rr,z5,co]},{provide:iP,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:sP},{provide:b_,multi:!0,useFactory:nY},[Yv,{provide:Jc,multi:!0,useFactory:cY,deps:[Yv]},{provide:lP,useFactory:lY,deps:[Yv]},{provide:gN,multi:!0,useExisting:lP}]]}}static forChild(n){return{ngModule:t,providers:[cP(n)]}}}return t.\u0275fac=function(n){return new(n||t)(L(aP,8),L(rr,8))},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({}),t})();function rY(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Qv(t,e,n)}function iY(t,e,n={}){return n.useHash?new A7(t,e):new S1(t,e)}function sY(t){return"guarded"}function cP(t){return[{provide:A$,multi:!0,useValue:t},{provide:Wv,multi:!0,useValue:t}]}let Yv=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new vi}appInitializer(){return this.injector.get(b7,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(rr),o=this.injector.get(co);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ie(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(co),i=this.injector.get(oP),s=this.injector.get(Qv),o=this.injector.get(rr),a=this.injector.get(ja);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(L(_e))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function cY(t){return t.appInitializer.bind(t)}function lY(t){return t.bootstrapListener.bind(t)}const lP=new X("Router Initializer");let tu=(()=>{class t{constructor(){this.userState={log:null,email:"",id:""},this.notes=[]}ngOnInit(){}fnUpdateLogOut(){this.userState={log:!1,email:""}}fnUpdateLogIn(n,r){console.log("llego Servicio",n),console.log(r),this.userState={log:n.log,email:n.email,id:n.id}}fnGetUserStatus(){return this.userState}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dP(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){dP(s,r,i,o,a,"next",u)}function a(u){dP(s,r,i,o,a,"throw",u)}o(void 0)})}}const Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ew{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function St(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gP(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function Gf(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function mP(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yP(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nu(){return"object"==typeof indexedDB}function Wf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function tw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}}class ci{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(CY,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Li(i,`${this.serviceName}: ${o} (${i}).`,r)}}const CY=/\{\$([^}]+)}/g;function Kf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vP(s)&&vP(o)){if(!Kf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vP(t){return null!==t&&"object"==typeof t}function Qf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class DY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=nw),void 0===i.error&&(i.error=nw),void 0===i.complete&&(i.complete=nw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nw(){}function iw(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Ht(t){return t&&t._delegate?t._delegate:t}class bn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lo="[DEFAULT]";class NY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ew;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:lo})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===lo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class OY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const sw=[];var pe=(()=>{return(t=pe||(pe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",pe;var t})();const wP={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},FY=pe.INFO,LY={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},VY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=LY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ru{constructor(e){this.name=e,this._logLevel=FY,this._logHandler=VY,this._userLogHandler=null,sw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?wP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}class UY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ow="@firebase/app",aw=new ru("@firebase/app"),uw="[DEFAULT]",hJ={[ow]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ho=new Map,Yf=new Map;function fJ(t,e){try{t.container.addComponent(e)}catch(n){aw.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Un(t){const e=t.name;if(Yf.has(e))return aw.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,t);for(const n of ho.values())fJ(n,t);return!0}function iu(t,e){return t.container.getProvider(e)}const Rl=new ci("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rl.create("app-deleted",{appName:this._name})}}const su="9.5.0";function mJ(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:uw,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Rl.create("bad-app-name",{appName:String(r)});const i=ho.get(r);if(i){if(Kf(t,i.options)&&Kf(n,i.config))return i;throw Rl.create("duplicate-app",{appName:r})}const s=new OY(r);for(const a of Yf.values())s.addComponent(a);const o=new gJ(t,n,s);return ho.set(r,o),o}function cw(t=uw){const e=ho.get(t);if(!e)throw Rl.create("no-app",{appName:t});return e}function CP(){return Array.from(ho.values())}function Je(t,e,n){var r;let i=null!==(r=hJ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void aw.warn(a.join(" "))}Un(new bn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}Un(new bn("platform-logger",e=>new UY(e),"PRIVATE")),Je(ow,"0.7.9",""),Je(ow,"0.7.9","esm2017"),Je("fire-js",""),Je("firebase","9.5.0","app");var ou=vt(995);const IP="@firebase/installations",DP="w:0.5.4",TP="FIS_v2",Vi=new ci("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AP(t){return t instanceof Li&&t.code.includes("request-failed")}function hw({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function SP(t){return{token:t.token,requestStatus:2,expiresIn:DJ(t.expiresIn),creationTime:Date.now()}}function fw(t,e){return pw.apply(this,arguments)}function pw(){return pw=y(function*(t,e){const r=(yield e.json()).error;return Vi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),pw.apply(this,arguments)}function xP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MP(t,{refreshToken:e}){const n=xP(t);return n.append("Authorization",function(t){return`${TP} ${t}`}(e)),n}function gw(t){return mw.apply(this,arguments)}function mw(){return mw=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),mw.apply(this,arguments)}function DJ(t){return Number(t.replace("s","000"))}function AJ(t,e){return yw.apply(this,arguments)}function yw(){return yw=y(function*(t,{fid:e}){const n=hw(t),s={method:"POST",headers:xP(t),body:JSON.stringify({fid:e,authVersion:TP,appId:t.appId,sdkVersion:DP})},o=yield gw(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:SP(a.authToken)}}throw yield fw("Create Installation",o)}),yw.apply(this,arguments)}function RP(t){return new Promise(e=>{setTimeout(e,t)})}const xJ=/^[cdef][\w-]{21}$/;function MJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return xJ.test(n)?n:""}catch(t){return""}}function au(t){return`${t.appName}!${t.appId}`}const uu=new Map;function NP(t,e){const n=au(t);kP(n,e),function(t,e){const n=(!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{kP(t.data.key,t.data.fid)}),fo);n&&n.postMessage({key:t,fid:e}),0===uu.size&&fo&&(fo.close(),fo=null)}(n,e)}function kP(t,e){const n=uu.get(t);if(n)for(const r of n)r(e)}let fo=null;const po="firebase-installations-store";let vw=null;function ww(){return vw||(vw=(0,ou.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(po)})),vw}function Jf(t,e){return Ew.apply(this,arguments)}function Ew(){return Ew=y(function*(t,e){const n=au(t),i=(yield ww()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&NP(t,e.fid),e}),Ew.apply(this,arguments)}function Cw(t){return Iw.apply(this,arguments)}function Iw(){return Iw=y(function*(t){const e=au(t),r=(yield ww()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.complete}),Iw.apply(this,arguments)}function Nl(t,e){return bw.apply(this,arguments)}function bw(){return bw=y(function*(t,e){const n=au(t),i=(yield ww()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&NP(t,a.fid),a}),bw.apply(this,arguments)}function Dw(t){return Tw.apply(this,arguments)}function Tw(){return Tw=y(function*(t){let e;const n=yield Nl(t,r=>{const i=LJ(r),s=VJ(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Tw.apply(this,arguments)}function LJ(t){return LP(t||{fid:MJ(),registrationStatus:0})}function VJ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Vi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return Aw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:BJ(t)}:{installationEntry:e}}function Aw(){return Aw=y(function*(t,e){try{return Jf(t,yield AJ(t,e))}catch(n){throw AP(n)&&409===n.customData.serverCode?yield Cw(t):yield Jf(t,{fid:e.fid,registrationStatus:0}),n}}),Aw.apply(this,arguments)}function BJ(t){return Sw.apply(this,arguments)}function Sw(){return Sw=y(function*(t){let e=yield FP(t);for(;1===e.registrationStatus;)yield RP(100),e=yield FP(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Dw(t);return r||n}return e}),Sw.apply(this,arguments)}function FP(t){return Nl(t,e=>{if(!e)throw Vi.create("installation-not-found");return LP(e)})}function LP(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function $J(t,e){return xw.apply(this,arguments)}function xw(){return xw=y(function*({appConfig:t,platformLoggerProvider:e},n){const r=HJ(t,n),i=MP(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:DP}})},u=yield gw(()=>fetch(r,a));if(u.ok)return SP(yield u.json());throw yield fw("Generate Auth Token",u)}),xw.apply(this,arguments)}function HJ(t,{fid:e}){return`${hw(t)}/${e}/authTokens:generate`}function Mw(t){return Rw.apply(this,arguments)}function Rw(){return Rw=y(function*(t,e=!1){let n;const r=yield Nl(t.appConfig,s=>{if(!UP(s))throw Vi.create("not-registered");const o=s.authToken;if(!e&&WJ(o))return s;if(1===o.requestStatus)return n=qJ(t,e),s;{if(!navigator.onLine)throw Vi.create("app-offline");const a=KJ(s);return n=GJ(t,a),a}});return n?yield n:r.authToken}),Rw.apply(this,arguments)}function qJ(t,e){return Nw.apply(this,arguments)}function Nw(){return Nw=y(function*(t,e){let n=yield VP(t.appConfig);for(;1===n.authToken.requestStatus;)yield RP(100),n=yield VP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Mw(t,e):r}),Nw.apply(this,arguments)}function VP(t){return Nl(t,e=>{if(!UP(e))throw Vi.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function GJ(t,e){return kw.apply(this,arguments)}function kw(){return kw=y(function*(t,e){try{const n=yield $J(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Jf(t.appConfig,r),n}catch(n){if(!AP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Jf(t.appConfig,r)}else yield Cw(t.appConfig);throw n}}),kw.apply(this,arguments)}function UP(t){return void 0!==t&&2===t.registrationStatus}function WJ(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function KJ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Pw(){return Pw=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Dw(e.appConfig);return r?r.catch(console.error):Mw(e).catch(console.error),n.fid}),Pw.apply(this,arguments)}function Ow(){return Ow=y(function*(t,e=!1){const n=t;return yield ZJ(n.appConfig),(yield Mw(n,e)).token}),Ow.apply(this,arguments)}function ZJ(t){return Fw.apply(this,arguments)}function Fw(){return Fw=y(function*(t){const{registrationPromise:e}=yield Dw(t);e&&(yield e)}),Fw.apply(this,arguments)}function Uw(t){return Vi.create("missing-app-config-values",{valueName:t})}const BP="installations";Un(new bn(BP,t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Uw("App Configuration");if(!t.name)throw Uw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Uw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:iu(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Un(new bn("installations-internal",t=>{const n=iu(t.getProvider("app").getImmediate(),BP).getImmediate();return{getId:()=>function(t){return Pw.apply(this,arguments)}(n),getToken:i=>function(t){return Ow.apply(this,arguments)}(n,i)}},"PRIVATE")),Je(IP,"0.5.4"),Je(IP,"0.5.4","esm2017");const Bw="@firebase/remote-config",Bn=new ci("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function yZ(t=navigator){return t.languages&&t.languages[0]||t.language}class _Z{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:yZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v.name&&(_="fetch-timeout"),Bn.create(_,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Bn.create("fetch-client-parse",{originalErrorMessage:_.message})}m=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw Bn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class EZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof Li&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+iw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class bZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xf(t,e){const n=t.target.error||void 0;return Bn.create(e,{originalErrorMessage:n&&n.message})}const go="app_namespace_store";class SZ{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Xf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(n){e(Bn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readonly").objectStore(go),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Xf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Bn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([go],"readwrite").objectStore(go),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Xf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Bn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readwrite").objectStore(go),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Xf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Bn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function RZ(){return Gw.apply(this,arguments)}function Gw(){return(Gw=y(function*(){if(!nu())return!1;try{return yield Wf()}catch(t){return!1}})).apply(this,arguments)}Un(new bn("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bn.create("registration-window");if(!nu())throw Bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Bn.create("registration-project-id");if(!o)throw Bn.create("registration-api-key");if(!a)throw Bn.create("registration-app-id");const u=new SZ(a,r.name,n=n||"firebase"),c=new xZ(u),l=new ru(Bw);l.logLevel=pe.ERROR;const d=new _Z(i,su,n,s,o,a),h=new EZ(d,u),f=new mZ(h,u,c,l),p=new bZ(r,f,c,u,l);return function(t){const e=Ht(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Je(Bw,"0.3.3"),Je(Bw,"0.3.3","esm2017");const NZ="/firebase-messaging-sw.js",kZ="/firebase-cloud-messaging-push-scope",qP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",GP="google.c.a.c_id",OZ="google.c.a.c_l",FZ="google.c.a.ts",LZ="google.c.a.e";var cu=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(cu||(cu={})),cu))();function Ui(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function VZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Ww="fcm_token_details_db",WP="fcm_token_object_Store";function BZ(t){return zw.apply(this,arguments)}function zw(){return zw=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Ww))return null;let e=null;return(yield(0,ou.openDb)(Ww,5,function(){var r=y(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(WP))return;const o=i.transaction.objectStore(WP),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Ui(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ui(u.auth),p256dh:Ui(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ui(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ui(u.auth),p256dh:Ui(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ui(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,ou.deleteDb)(Ww),yield(0,ou.deleteDb)("fcm_vapid_details_db"),yield(0,ou.deleteDb)("undefined"),jZ(e)?e:null}),zw.apply(this,arguments)}function jZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const mo="firebase-messaging-store";let Kw=null;function Qw(){return Kw||(Kw=(0,ou.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(mo)})),Kw}function zP(t){return Yw.apply(this,arguments)}function Yw(){return Yw=y(function*(t){const e=eE(t),r=yield(yield Qw()).transaction(mo).objectStore(mo).get(e);if(r)return r;{const i=yield BZ(t.appConfig.senderId);if(i)return yield Jw(t,i),i}}),Yw.apply(this,arguments)}function Jw(t,e){return Zw.apply(this,arguments)}function Zw(){return Zw=y(function*(t,e){const n=eE(t),i=(yield Qw()).transaction(mo,"readwrite");return yield i.objectStore(mo).put(e,n),yield i.complete,e}),Zw.apply(this,arguments)}function qZ(t){return Xw.apply(this,arguments)}function Xw(){return Xw=y(function*(t){const e=eE(t),r=(yield Qw()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.complete}),Xw.apply(this,arguments)}function eE({appConfig:t}){return t.appId}const qt=new ci("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function WZ(t,e){return tE.apply(this,arguments)}function tE(){return tE=y(function*(t,e){const n=yield sE(t),r=QP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(iE(t.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token}),tE.apply(this,arguments)}function zZ(t,e){return nE.apply(this,arguments)}function nE(){return nE=y(function*(t,e){const n=yield sE(t),r=QP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${iE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token}),nE.apply(this,arguments)}function KP(t,e){return rE.apply(this,arguments)}function rE(){return rE=y(function*(t,e){const r={method:"DELETE",headers:yield sE(t)};try{const s=yield(yield fetch(`${iE(t.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i})}}),rE.apply(this,arguments)}function iE({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function sE(t){return oE.apply(this,arguments)}function oE(){return oE=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),oE.apply(this,arguments)}function QP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==qP&&(i.web.applicationPubKey=r),i}const KZ=6048e5;function QZ(t){return aE.apply(this,arguments)}function aE(){return aE=y(function*(t){const e=yield JZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ui(e.getKey("auth")),p256dh:Ui(e.getKey("p256dh"))},r=yield zP(t.firebaseDependencies);if(r){if(ZZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+KZ?YZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield KP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return JP(t.firebaseDependencies,n)}return JP(t.firebaseDependencies,n)}),aE.apply(this,arguments)}function YP(t){return uE.apply(this,arguments)}function uE(){return uE=y(function*(t){const e=yield zP(t.firebaseDependencies);e&&(yield KP(t.firebaseDependencies,e.token),yield qZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),uE.apply(this,arguments)}function YZ(t,e){return cE.apply(this,arguments)}function cE(){return cE=y(function*(t,e){try{const n=yield zZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Jw(t.firebaseDependencies,r),n}catch(n){throw yield YP(t),n}}),cE.apply(this,arguments)}function JP(t,e){return lE.apply(this,arguments)}function lE(){return lE=y(function*(t,e){const r={token:yield WZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Jw(t,r),r.token}),lE.apply(this,arguments)}function JZ(t,e){return dE.apply(this,arguments)}function dE(){return dE=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:VZ(e)})}),dE.apply(this,arguments)}function ZZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function ZP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function nX(t){return"object"==typeof t&&!!t&&GP in t}function XP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function hE(t){return qt.create("missing-app-config-values",{valueName:t})}XP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),XP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class iX{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw hE("App Configuration Object");if(!t.name)throw hE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw hE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function eO(t){return fE.apply(this,arguments)}function fE(){return fE=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(NZ,{scope:kZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),fE.apply(this,arguments)}function sX(t,e){return pE.apply(this,arguments)}function pE(){return pE=y(function*(t,e){if(!e&&!t.swRegistration&&(yield eO(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");t.swRegistration=e}}),pE.apply(this,arguments)}function oX(t,e){return gE.apply(this,arguments)}function gE(){return gE=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=qP)}),gE.apply(this,arguments)}function mE(){return mE=y(function*(t,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield oX(t,null==e?void 0:e.vapidKey),yield sX(t,null==e?void 0:e.serviceWorkerRegistration),QZ(t)}),mE.apply(this,arguments)}function aX(t,e,n){return yE.apply(this,arguments)}function yE(){return yE=y(function*(t,e,n){const r=uX(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[GP],message_name:n[OZ],message_time:n[FZ],message_device_time:Math.floor(Date.now()/1e3)})}),yE.apply(this,arguments)}function uX(t){switch(t){case cu.NOTIFICATION_CLICKED:return"notification_open";case cu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _E(){return _E=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===cu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(ZP(n)):t.onMessageHandler.next(ZP(n)));const r=n.data;nX(r)&&"1"===r[LZ]&&(yield aX(t,n.messageType,r))}),_E.apply(this,arguments)}const nO="@firebase/messaging";function iO(){return vE.apply(this,arguments)}function vE(){return(vE=y(function*(){return"undefined"!=typeof window&&nu()&&(yield Wf())&&tw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Un(new bn("messaging",t=>{const e=new iX(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return _E.apply(this,arguments)}(e,n)),e},"PUBLIC")),Un(new bn("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return mE.apply(this,arguments)}(e,r)}},"PRIVATE")),Je(nO,"0.9.4"),Je(nO,"0.9.4","esm2017");const ep="analytics",gX="firebase_id",_X="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sO="https://www.googletagmanager.com/gtag/js",Gt=new ru("@firebase/analytics");function oO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vX(t,e){const n=document.createElement("script");n.src=`${sO}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function EX(t,e,n,r,i,s){return CE.apply(this,arguments)}function CE(){return CE=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield oO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Gt.error(a)}t("config",i,s)}),CE.apply(this,arguments)}function CX(t,e,n,r,i){return IE.apply(this,arguments)}function IE(){return IE=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield oO(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Gt.error(s)}}),IE.apply(this,arguments)}function DX(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(sO))return e;return null}const ir=new ci("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),aO=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function MX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function RX(t){return bE.apply(this,arguments)}function bE(){return bE=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:MX(r)},s=_X.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw ir.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),bE.apply(this,arguments)}function NX(t){return DE.apply(this,arguments)}function DE(){return DE=y(function*(t,e=aO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ir.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ir.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new OX;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:6e4),uO({appId:r,apiKey:i,measurementId:s},o,a,e)}),DE.apply(this,arguments)}function uO(t,e,n){return TE.apply(this,arguments)}function TE(){return TE=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=aO){const{appId:s,measurementId:o}=t;try{yield kX(r,e)}catch(a){if(o)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield RX(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!PX(a)){if(i.deleteThrottleMetadata(s),o)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?iw(n,i.intervalMillis,30):iw(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Gt.debug(`Calling attemptFetch again in ${u} millis`),uO(t,c,r,i)}}),TE.apply(this,arguments)}function kX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PX(t){if(!(t instanceof Li&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class OX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function FX(){return AE.apply(this,arguments)}function AE(){return AE=y(function*(){if(!nu())return Gt.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Wf()}catch(t){return Gt.warn(ir.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}),AE.apply(this,arguments)}function SE(){return SE=y(function*(t,e,n,r,i,s,o){var a;const u=NX(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Gt.error(f)),e.push(u);const c=FX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);DX()||vX(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[gX]=d),i("config",l.measurementId,h),l.measurementId}),SE.apply(this,arguments)}class VX{constructor(e){this.app=e}_delete(){return delete Bi[this.app.options.appId],Promise.resolve()}}let Bi={},cO=[];const lO={};let hO,kl,tp="dataLayer",xE=!1;function BX(t,e,n){!function(){const t=[];if(Gf()&&t.push("This is a browser extension environment."),tw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ir.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw ir.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ir.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bi[r])throw ir.create("already-exists",{id:r});if(!xE){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(tp);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield CX(t,e,n,a,u):"config"===o?yield EX(t,e,n,r,a,u):t("set",a)}catch(c){Gt.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Bi,cO,lO,tp,"gtag");kl=s,hO=o,xE=!0}return Bi[r]=function(t,e,n,r,i,s,o){return SE.apply(this,arguments)}(t,cO,lO,e,hO,tp,n),new VX(t)}function ME(){return ME=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),ME.apply(this,arguments)}function zX(){return OE.apply(this,arguments)}function OE(){return(OE=y(function*(){if(Gf()||!tw()||!nu())return!1;try{return yield Wf()}catch(t){return!1}})).apply(this,arguments)}const fO="@firebase/analytics";Un(new bn(ep,(e,{options:n})=>BX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Un(new bn("analytics-internal",function(e){try{const n=e.getProvider(ep).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=Ht(t),function(t,e,n,r,i){return ME.apply(this,arguments)}(kl,Bi[t.app.options.appId],e,n,r).catch(i=>Gt.error(i))}(n,r,i,s)}}catch(n){throw ir.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Je(fO,"0.7.4"),Je(fO,"0.7.4","esm2017");class YX extends rt{constructor(e,n){super()}schedule(e,n=0){return this}}const np={setInterval(...t){const{delegate:e}=np;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=np;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class gO extends YX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return np.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;np.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Go(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const mO={now:()=>(mO.delegate||Date).now(),delegate:void 0};class Pl{constructor(e,n=Pl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Pl.now=mO.now;class yO extends Pl{constructor(e,n=Pl.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const XX=new class extends yO{}(class extends gO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),eee=new yO(gO),rp=new Fa("7.2.0"),FE="__angularfire_symbol__analyticsIsSupported",LE="__angularfire_symbol__remoteConfigIsSupported",VE="__angularfire_symbol__messagingIsSupported";function BE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[FE]||(globalThis[FE]=zX().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[VE]||(globalThis[VE]=iO().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[LE]||(globalThis[LE]=RZ().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const jE=(t,e)=>{const n=e?[e]:CP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function lu(){}class EO{constructor(e,n=XX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class tee{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lu,{},lu,lu)),n.pipe(Vn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $E=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new EO(Zone.current)),this.insideAngular=n.run(()=>new EO(Zone.current,eee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(L(je))},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function nee(t){return yo().ngZone.runOutsideAngular(()=>t())}function _o(t){return yo().ngZone.run(()=>t())}function ree(t){return yo(),function(t){return function(n){return(n=n.lift(new tee(t.ngZone))).pipe(zd(t.outsideAngular),Wd(t.insideAngular))}}(yo())(t)}const see=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_o(()=>t.apply(n,arguments))}},li=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lu,{},lu,lu)))),arguments[i]=see(arguments[i],n));const r=nee(()=>t.apply(this,arguments));if(!e){if(r instanceof Se){const i=yo();return r.pipe(zd(i.outsideAngular),Wd(i.insideAngular))}return _o(()=>r)}return r instanceof Se?r.pipe(ree):r instanceof Promise?_o(()=>new Promise((i,s)=>r.then(o=>_o(()=>i(o)),o=>_o(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:_o(()=>r)};class du{constructor(e){return e}}class HE{constructor(){return CP()}}const qE=new X("angularfire2._apps"),aee={provide:du,useFactory:function(t){return t&&1===t.length?t[0]:new du(cw())},deps:[[new Le,qE]]},uee={provide:HE,deps:[[new Le,qE]]};function cee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new du(r)}}let lee=(()=>{class t{constructor(n){Je("angularfire",rp.full,"core"),Je("angularfire",rp.full,"app"),Je("angular",Zy.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(L(Xc))},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({providers:[aee,uee]}),t})();function dee(t,...e){return{ngModule:lee,providers:[{provide:qE,useFactory:cee(t),multi:!0,deps:[je,_e,$E,...e]}]}}const hee=li(mJ,!0),CO=new Map,fee={activated:!1,tokenObservers:[]},pee={initialized:!1,enabled:!1};function xt(t){return CO.get(t)||fee}function $r(t,e){CO.set(t,e)}function ip(){return pee}class vee{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new ew,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ew,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Dn=new ci("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bO(t){if(!xt(t).activated)throw Dn.create("use-before-activation",{appName:t.name})}function zE(t,e){return KE.apply(this,arguments)}function KE(){return KE=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Dn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Dn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Dn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Dn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),KE.apply(this,arguments)}function Dee(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ol="firebase-app-check-store";let ap=null;function TO(){return ap||(ap=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Dn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ol,{keyPath:"compositeKey"})}}catch(n){e(Dn.create("storage-open",{originalErrorMessage:n.message}))}}),ap)}function QE(){return QE=y(function*(t,e){const r=(yield TO()).transaction(Ol,"readwrite"),s=r.objectStore(Ol).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Dn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),QE.apply(this,arguments)}const Fl=new ru("@firebase/app-check");function MO(t,e){return nu()?function(t,e){return function(t,e){return QE.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Fl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function RO(){return ip().enabled}function NO(){return XE.apply(this,arguments)}function XE(){return XE=y(function*(){const t=ip();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),XE.apply(this,arguments)}const Oee={error:"UNKNOWN_ERROR"};function Fee(t){return Zv.encodeString(JSON.stringify(t),!1)}function up(t){return eC.apply(this,arguments)}function eC(){return eC=y(function*(t,e=!1){const n=t.app;bO(n);const r=xt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&cp(u)&&(i=u)}if(!e&&i&&cp(i))return{token:i.token};let a,o=!1;if(RO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zE(Dee(n,yield NO()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield MO(n,u),$r(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Fl.warn(u.message):Fl.error(u),s=u}return i?(a={token:i.token},$r(n,Object.assign(Object.assign({},r),{token:i})),yield MO(n,i)):a=Vee(s),o&&PO(n,a),a}),eC.apply(this,arguments)}function nC(t,e){const n=xt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),$r(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function kO(t){const{app:e}=t,n=xt(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new vee(y(function*(){let r;if(r=xt(e).token?yield up(t,!0):yield up(t),r.error)throw r.error}),()=>!0,()=>{const n=xt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),$r(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function PO(t,e){const n=xt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function cp(t){return t.expireTimeMillis-Date.now()>0}function Vee(t){return{token:Fee(Oee),error:t}}class Uee{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=xt(this.app);for(const n of e)nC(this.app,n.next);return Promise.resolve()}}const $O="app-check-internal";Un(new bn("app-check",t=>function(t,e){return new Uee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($O).initialize()})),Un(new bn($O,t=>function(t){return{getToken:e=>up(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=xt(i),o={next:n,error:r,type:e};if($r(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&cp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),kO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>kO(t))}(t,"INTERNAL",e),removeTokenListener:e=>nC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Je("@firebase/app-check","0.5.2");class oC{constructor(){return jE("app-check")}}function GO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}"undefined"!=typeof window&&window;const ote=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QO=new ci("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),YO=new ru("@firebase/auth");function hp(t,...e){YO.logLevel<=pe.ERROR&&YO.error(`Auth (9.5.0): ${t}`,...e)}function jn(t,...e){throw cC(t,...e)}function di(t,...e){return cC(t,...e)}function JO(t,e,n){const r=Object.assign(Object.assign({},ote()),{[e]:n});return new ci("auth","Firebase",r).create(e,{appName:t.name})}function cC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QO.create(t,...e)}function A(t,e,...n){if(!t)throw cC(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hp(e),new Error(e)}function ys(t,e){t||hi(e)}const ZO=new Map;function ji(t){ys(t instanceof Function,"Expected a class definition");let e=ZO.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZO.set(t,e),e)}function Ll(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function XO(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=gP()||mP()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===XO()||"https:"===XO()||Gf()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function dC(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hte=new Vl(3e4,6e4);function mt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mt(t,e,n,r){return fC.apply(this,arguments)}function fC(){return fC=y(function*(t,e,n,r,i={}){return eF(t,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Qf(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(hC.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),hC.fetch()(tF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}),fC.apply(this,arguments)}function eF(t,e,n){return pC.apply(this,arguments)}function pC(){return pC=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dte),e);try{const i=new fte(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw fp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw fp(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw fp(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JO(t,l,c);jn(t,l)}}catch(i){if(i instanceof Li)throw i;jn(t,"network-request-failed")}}),pC.apply(this,arguments)}function $i(t,e,n,r){return gC.apply(this,arguments)}function gC(){return gC=y(function*(t,e,n,r,i={}){const s=yield Mt(t,e,n,r,i);return"mfaPendingCredential"in s&&jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}),gC.apply(this,arguments)}function tF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dC(t.config,i):`${t.config.apiScheme}://${i}`}class fte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"timeout")),hte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=di(t,e,r);return i.customData._tokenResponse=n,i}function mC(){return mC=y(function*(t,e){return Mt(t,"POST","/v1/accounts:delete",e)}),mC.apply(this,arguments)}function mte(t,e){return _C.apply(this,arguments)}function _C(){return _C=y(function*(t,e){return Mt(t,"POST","/v1/accounts:lookup",e)}),_C.apply(this,arguments)}function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function vC(){return vC=y(function*(t,e=!1){const n=Ht(t),r=yield n.getIdToken(e),i=pp(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ul(wC(i.auth_time)),issuedAtTime:Ul(wC(i.iat)),expirationTime:Ul(wC(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),vC.apply(this,arguments)}function wC(t){return 1e3*Number(t)}function pp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return hp("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Zv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(hp("Failed to decode base64 JWT payload"),null)}catch(i){return hp("Caught error parsing JWT payload as JSON",i),null}}function Hi(t,e){return EC.apply(this,arguments)}function EC(){return EC=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Li&&vte(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),EC.apply(this,arguments)}function vte({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class wte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class nF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bl(t){return CC.apply(this,arguments)}function CC(){return CC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Hi(t,mte(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Ite(s.providerUserInfo):[],a=Cte(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),CC.apply(this,arguments)}function IC(){return IC=y(function*(t){const e=Ht(t);yield Bl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),IC.apply(this,arguments)}function Cte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ite(t){return t.map(e=>{var{providerId:n}=e,r=GO(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bC(){return bC=y(function*(t,e){const n=yield eF(t,{},()=>{const r=Qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tF(t,i,"/v1/token",`key=${s}`);return hC.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),bC.apply(this,arguments)}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=pp(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return bC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jl;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return hi("not implemented")}}function _s(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class vo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=GO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new wte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new nF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Hi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return vC.apply(this,arguments)}(this,e)}reload(){return function(t){return IC.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Bl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Hi(e,function(t,e){return mC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:R,isAnonymous:q,providerData:Oe,stsTokenManager:Rn}=n;A(T&&Rn,e,"internal-error");const Ho=jl.fromJSON(this.name,Rn);A("string"==typeof T,e,"internal-error"),_s(d,e.name),_s(h,e.name),A("boolean"==typeof R,e,"internal-error"),A("boolean"==typeof q,e,"internal-error"),_s(f,e.name),_s(p,e.name),_s(m,e.name),_s(g,e.name),_s(v,e.name),_s(_,e.name);const _i=new vo({uid:T,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:q,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ho,createdAt:v,lastLoginAt:_});return Oe&&Array.isArray(Oe)&&(_i.providerData=Oe.map(Os=>Object.assign({},Os))),g&&(_i._redirectEventId=g),_i}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new jl;i.updateFromServerResponse(n);const s=new vo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bl(s),s})()}}const rF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function gp(t,e,n){return`firebase:${t}:${e}:${n}`}class fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gp(this.userKey,i.apiKey,s),this.fullPersistenceKey=gp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?vo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new fu(ji(rF),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ji(rF);const o=gp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=vo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new fu(s,e,r)):new fu(s,e,r)})()}}function iF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cF(e))return"Blackberry";if(lF(e))return"Webos";if(DC(e))return"Safari";if((e.includes("chrome/")||oF(e))&&!e.includes("edge/"))return"Chrome";if(uF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function sF(t=St()){return/firefox\//i.test(t)}function DC(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oF(t=St()){return/crios\//i.test(t)}function aF(t=St()){return/iemobile/i.test(t)}function uF(t=St()){return/android/i.test(t)}function cF(t=St()){return/blackberry/i.test(t)}function lF(t=St()){return/webos/i.test(t)}function mp(t=St()){return/iphone|ipad|ipod/i.test(t)}function dF(t=St()){return mp(t)||uF(t)||lF(t)||cF(t)||/windows phone/i.test(t)||aF(t)}function hF(t,e=[]){let n;switch(t){case"Browser":n=iF(St());break;case"Worker":n=`${iF(St())}-${t}`;break;default:n=t}return`${n}/JsCore/9.5.0/${e.length?e.join(","):"FirebaseCore-web"}`}class Ste{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fF(this),this.idTokenSubscription=new fF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(y(function*(){var i,s;r._deleted||(r.persistenceManager=yield fu.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Bl(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Ht(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return y(function*(){if(!n._deleted)return e&&A(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(y(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(ji(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ci("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&ji(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield fu.create(n,[ji(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function $n(t){return Ht(t)}class fF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new DY(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class mF{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}function AC(){return AC=y(function*(t,e){return Mt(t,"POST","/v1/accounts:update",e)}),AC.apply(this,arguments)}function xC(){return xC=y(function*(t,e){return $i(t,"POST","/v1/accounts:signInWithPassword",mt(t,e))}),xC.apply(this,arguments)}function OC(){return OC=y(function*(t,e){return $i(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))}),OC.apply(this,arguments)}function FC(){return FC=y(function*(t,e){return $i(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))}),FC.apply(this,arguments)}class $l extends mF{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return y(function*(){switch(n.signInMethod){case"password":return function(t,e){return xC.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return OC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:jn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return y(function*(){switch(r.signInMethod){case"password":return function(t,e){return AC.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(t,e){return FC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:jn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function qi(t,e){return LC.apply(this,arguments)}function LC(){return LC=y(function*(t,e){return $i(t,"POST","/v1/accounts:signInWithIdp",mt(t,e))}),LC.apply(this,arguments)}class Gl{constructor(e){var n,r,i,s,o,a;const u=xl(Ml(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function(t){const e=xl(Ml(t)).link,n=e?xl(Ml(e)).deep_link_id:null,r=xl(Ml(t)).deep_link_id;return(r?xl(Ml(r)).link:null)||r||n||e||t}(e);try{return new Gl(n)}catch(r){return null}}}let vF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return $l._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Gl.parseLink(r);return A(i,"argument-error"),$l._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zte extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function wF(t,e){return HC.apply(this,arguments)}function HC(){return HC=y(function*(t,e){return $i(t,"POST","/v1/accounts:signUp",mt(t,e))}),HC.apply(this,arguments)}class Cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield vo._fromIdTokenResponse(e,r,i),o=EF(r);return new Cr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=EF(r);return new Cr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function EF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class vp extends Li{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vp(e,n,r,i)}}function CF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?vp._fromErrorAndOperation(t,s,e,r):s})}function WC(t,e){return zC.apply(this,arguments)}function zC(){return zC=y(function*(t,e,n=!1){const r=yield Hi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cr._forOperation(t,"link",r)}),zC.apply(this,arguments)}function QC(){return QC=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Hi(t,CF(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=pp(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Cr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&jn(r,"user-mismatch"),s}}),QC.apply(this,arguments)}function DF(t,e){return YC.apply(this,arguments)}function YC(){return YC=y(function*(t,e,n=!1){const r="signIn",i=yield CF(t,r,e),s=yield Cr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),YC.apply(this,arguments)}function ZC(){return ZC=y(function*(t,e){return DF($n(t),e)}),ZC.apply(this,arguments)}function ene(t,e,n){return lI.apply(this,arguments)}function lI(){return lI=y(function*(t,e,n){const r=$n(t),i=yield wF(r,{returnSecureToken:!0,email:e,password:n}),s=yield Cr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),lI.apply(this,arguments)}function tne(t,e,n){return function(t,e){return ZC.apply(this,arguments)}(Ht(t),vF.credential(e,n))}function cne(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function lne(t){return Ht(t).signOut()}new WeakMap;const Cp="__sak";class AF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yne=(()=>{class t extends AF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=St();return DC(t)||mp(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=dF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);yP()&&10===document.documentMode&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,10):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),SF=(()=>{class t extends AF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let vne=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function DI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class wne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=DI("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function yt(){return window}function TI(){return void 0!==yt().WorkerGlobalScope&&"function"==typeof yt().importScripts}function AI(){return(AI=y(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const xF="firebaseLocalStorageDb",Ip="firebaseLocalStorage",MF="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bp(t,e){return t.transaction([Ip],e?"readwrite":"readonly").objectStore(Ip)}function SI(){const t=indexedDB.open(xF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ip,{keyPath:MF})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(Ip)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase(xF);return new zl(t).toPromise()}(),e(yield SI()))}))})}function RF(t,e,n){return xI.apply(this,arguments)}function xI(){return xI=y(function*(t,e,n){const r=bp(t,!0).put({[MF]:e,value:n});return new zl(r).toPromise()}),xI.apply(this,arguments)}function MI(){return MI=y(function*(t,e){const n=bp(t,!1).get(e),r=yield new zl(n).toPromise();return void 0===r?null:r.value}),MI.apply(this,arguments)}function NF(t,e){const n=bp(t,!0).delete(e);return new zl(n).toPromise()}const Mne=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield SI()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return TI()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=vne._getInstance(TI()?self:null),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function(){return AI.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new wne(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield SI();return yield RF(n,Cp,"1"),yield NF(n,Cp),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>RF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function(t,e){return MI.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>NF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=bp(o,!1).getAll();return new zl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function PF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Eo(t,e){return e?ji(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}PF("rcb"),new Vl(3e4,6e4);class BI extends mF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zne(t){return DF(t.auth,new BI(t),t.bypassAuthState)}function Kne(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function(t,e){return QC.apply(this,arguments)}(n,new BI(t),t.bypassAuthState)}function Qne(t){return jI.apply(this,arguments)}function jI(){return jI=y(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),WC(n,new BI(t),t.bypassAuthState)}),jI.apply(this,arguments)}new Vl(2e3,1e4);const Tp=new Map;class Zne extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zne;case"linkViaPopup":case"linkViaRedirect":return Qne;case"reauthViaPopup":case"reauthViaRedirect":return Kne;default:jn(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=Tp.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return WI.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Tp.set(n.auth._key(),r)}return n.bypassAuthState||Tp.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function WI(){return WI=y(function*(t,e){const n=LF(e),r=FF(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),WI.apply(this,arguments)}function FF(t){return ji(t._redirectPersistence)}function LF(t){return gp("pendingRedirect",t.config.apiKey,t.name)}function VF(t,e){return XI.apply(this,arguments)}function XI(){return XI=y(function*(t,e,n=!1){const r=$n(t),i=Eo(r,e),o=yield new Zne(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),XI.apply(this,arguments)}class ire{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(BF(e))}saveEventToCache(e){this.cachedEventUids.add(BF(e)),this.lastProcessedEventTime=Date.now()}}function BF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function ore(t){return tb.apply(this,arguments)}function tb(){return tb=y(function*(t,e={}){return Mt(t,"GET","/v1/projects",e)}),tb.apply(this,arguments)}const are=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ure=/^https?/;function nb(){return nb=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield ore(t);for(const n of e)try{if(lre(n))return}catch(r){}jn(t,"unauthorized-domain")}),nb.apply(this,arguments)}function lre(t){const e=Ll(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ure.test(n))return!1;if(are.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dre=new Vl(3e4,6e4);function $F(){const t=yt().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Ap=null;function fre(t){return Ap=Ap||function(t){return new Promise((e,n)=>{var r,i,s;function o(){$F(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$F(),n(di(t,"network-request-failed"))},timeout:dre.get()})}if(null===(i=null===(r=yt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=yt().gapi)||void 0===s?void 0:s.load)){const a=PF("iframefcb");return yt()[a]=()=>{gapi.load?o():n(di(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`)}o()}}).catch(e=>{throw Ap=null,e})}(t),Ap}const pre=new Vl(5e3,15e3),yre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_re=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vre(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dC(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:su},i=_re.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qf(r).slice(1)}`}function rb(){return rb=y(function*(t){const e=yield fre(t),n=yt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:vre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yre,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=di(t,"network-request-failed"),u=yt().setTimeout(()=>{o(a)},pre.get());function c(){yt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),rb.apply(this,arguments)}const Ere={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class HF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function qF(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:su,eventId:i};if(e instanceof vs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof zte){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?dC(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Qf(a).slice(1)}`}const ib="webStorageSupport",Nre=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SF,this._completeRedirectFn=VF}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;ys(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=qF(e,n,r,Ll(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Ere),{width:r.toString(),height:i.toString(),top:s,left:o}),c=St().toLowerCase();n&&(a=oF(c)?"_blank":n),sF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=St()){var e;return mp(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new HF(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch(h){}return new HF(d)}(e,a,DI())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function(t){yt().location.href=t}(qF(e,n,r,Ll(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ys(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function(t){return rb.apply(this,arguments)}(e),i=new ire(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ib,{type:ib},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[ib];void 0!==o&&n(!!o),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return nb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dF()||DC()||mp()}};var WF="@firebase/auth";class kre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fre(t=cw()){const e=iu(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=iu(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Kf(n.getOptions(),null!=e?e:{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Nre,persistence:[Mne,yne,SF]})}!function(t){Un(new bn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{A(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),A(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hF(t)},u=new Ste(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ji);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Un(new bn("auth-internal",e=>{const n=$n(e.getProvider("auth").getImmediate());return new kre(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(WF,"0.19.3",void 0),Je(WF,"0.19.3","esm2017")}("Browser");class Co{constructor(e){return e}}class QF{constructor(){return jE("auth")}}const sb=new X("angularfire2.auth-instances");function Vre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Co(r)}}const Ure={provide:QF,deps:[[new Le,sb]]},Bre={provide:Co,useFactory:function(t,e){const n=BE("auth",t,e);return n&&new Co(n)},deps:[[new Le,sb],du]};let jre=(()=>{class t{constructor(){Je("angularfire",rp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({providers:[Bre,Ure]}),t})();function $re(t,...e){return{ngModule:jre,providers:[{provide:sb,useFactory:Vre(t),multi:!0,deps:[je,_e,$E,HE,[new Le,oC],...e]}]}}const Hre=li(ene,!0),qre=li(Fre,!0),Gre=li(cne,!0),Wre=li(tne,!0),zre=li(lne,!0);var N,Kre="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gi={},ob=ob||{},Y=Kre||self;function Sp(){}function ab(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Kl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ub="closure_uid_"+(1e9*Math.random()>>>0),Yre=0;function Jre(t,e,n){return t.call.apply(t.bind,arguments)}function Zre(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return(Wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jre:Zre).apply(null,arguments)}function xp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ws(){this.s=this.s,this.o=this.o}var eie={};ws.prototype.s=!1,ws.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,ub)&&t[ub]||(t[ub]=++Yre)}(this);delete eie[t]}},ws.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},JF=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ZF(t){return Array.prototype.concat.apply([],arguments)}function cb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mp(t){return/^[\s\xa0]*$/.test(t)}var An,XF=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Tn(t,e){return-1!=t.indexOf(e)}function lb(t,e){return t<e?-1:t>e?1:0}e:{var eL=Y.navigator;if(eL){var tL=eL.userAgent;if(tL){An=tL;break e}}An=""}function db(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nL(t){const e={};for(const n in t)e[n]=t[n];return e}var rL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<rL.length;s++)n=rL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hb(t){return hb[" "](t),t}hb[" "]=Sp;var Rp,rie=Tn(An,"Opera"),pu=Tn(An,"Trident")||Tn(An,"MSIE"),sL=Tn(An,"Edge"),fb=sL||pu,oL=Tn(An,"Gecko")&&!(Tn(An.toLowerCase(),"webkit")&&!Tn(An,"Edge"))&&!(Tn(An,"Trident")||Tn(An,"MSIE"))&&!Tn(An,"Edge"),iie=Tn(An.toLowerCase(),"webkit")&&!Tn(An,"Edge");function aL(){var t=Y.document;return t?t.documentMode:void 0}e:{var pb="",gb=function(){var t=An;return oL?/rv:([^\);]+)(\)|;)/.exec(t):sL?/Edge\/([\d\.]+)/.exec(t):pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):iie?/WebKit\/(\S+)/.exec(t):rie?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(gb&&(pb=gb?gb[1]:""),pu){var mb=aL();if(null!=mb&&mb>parseFloat(pb)){Rp=String(mb);break e}}Rp=pb}var sie={};function oie(){return e=sie,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=XF(String(Rp)).split("."),n=XF("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=lb(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||lb(0==i[2].length,0==s[2].length)||lb(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var aie=Y.document&&pu&&(aL()||parseInt(Rp,10))||void 0,uie=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",Sp,e),Y.removeEventListener("test",Sp,e)}catch(n){}return t}();function un(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ql(t,e){if(un.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(oL){e:{try{hb(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cie[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ql.Z.h.call(this)}}un.prototype.h=function(){this.defaultPrevented=!0},zt(Ql,un);var cie={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yl="closure_listenable_"+(1e6*Math.random()|0),lie=0;function die(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++lie,this.ca=this.fa=!1}function Np(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function kp(t){this.src=t,this.g={},this.h=0}function _b(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=YF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Np(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}kp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vb(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new die(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var wb="closure_lm_"+(1e6*Math.random()|0),Eb={};function cL(t,e,n,r,i){if(r&&r.once)return dL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)cL(t,e[s],n,r,i);return null}return n=Db(n),t&&t[Yl]?t.N(e,n,Kl(r)?!!r.capture:!!r,i):lL(t,e,n,!1,r,i)}function lL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Kl(i)?!!i.capture:!!i,a=Ib(t);if(a||(t[wb]=a=new kp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=fie;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uie||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function dL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dL(t,e[s],n,r,i);return null}return n=Db(n),t&&t[Yl]?t.O(e,n,Kl(r)?!!r.capture:!!r,i):lL(t,e,n,!0,r,i)}function hL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)hL(t,e[s],n,r,i);else r=Kl(r)?!!r.capture:!!r,n=Db(n),t&&t[Yl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vb(s=t.g[e],n,r,i))&&(Np(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Ib(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vb(e,n,r,i)),(n=-1<t?e[t]:null)&&Cb(n))}function Cb(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Yl])_b(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ib(e))?(_b(n,t),0==n.h&&(n.src=null,e[wb]=null)):Np(t)}}}function fL(t){return t in Eb?Eb[t]:Eb[t]="on"+t}function fie(t,e){if(t.ca)t=!0;else{e=new Ql(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Cb(t),t=n.call(r,e)}return t}function Ib(t){return(t=t[wb])instanceof kp?t:null}var bb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Db(t){return"function"==typeof t?t:(t[bb]||(t[bb]=function(e){return t.handleEvent(e)}),t[bb])}function Rt(){ws.call(this),this.i=new kp(this),this.P=this,this.I=null}function Kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new un(e,t);else if(e instanceof un)e.target=e.target||t;else{var i=e;iL(e=new un(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Pp(o,r,!0,e)&&i}if(i=Pp(o=e.g=t,r,!0,e)&&i,i=Pp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Pp(o=e.g=n[s],r,!1,e)&&i}function Pp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&_b(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}zt(Rt,ws),Rt.prototype[Yl]=!0,Rt.prototype.removeEventListener=function(t,e,n,r){hL(this,t,e,n,r)},Rt.prototype.M=function(){if(Rt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Np(n[r]);delete t.g[e],t.h--}}this.I=null},Rt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Tb=Y.JSON.stringify;function pie(){var t=gL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Sb,pL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new mie,t=>t.reset());class mie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yie(t){Y.setTimeout(()=>{throw t},0)}function Ab(t,e){Sb||function(){var t=Y.Promise.resolve(void 0);Sb=function(){t.then(vie)}}(),xb||(Sb(),xb=!0),gL.add(t,e)}var xb=!1,gL=new class{constructor(){this.h=this.g=null}add(e,n){const r=pL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function vie(){for(var t;t=pie();){try{t.h.call(t.g)}catch(n){yie(n)}var e=pL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xb=!1}function Op(t,e){Rt.call(this),this.h=t||1,this.g=e||Y,this.j=Wt(this.kb,this),this.l=Date.now()}function Mb(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Rb(t,e,n){if("function"==typeof t)n&&(t=Wt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function mL(t){t.g=Rb(()=>{t.g=null,t.i&&(t.i=!1,mL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}zt(Op,Rt),(N=Op.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kt(this,"tick"),this.da&&(Mb(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){Op.Z.M.call(this),Mb(this),delete this.g};class wie extends ws{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mL(this)}M(){super.M(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jl(t){ws.call(this),this.h=t,this.g={}}zt(Jl,ws);var yL=[];function _L(t,e,n,r){Array.isArray(n)||(n&&(yL[0]=n.toString()),n=yL);for(var i=0;i<n.length;i++){var s=cL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function vL(t){db(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cb(e)},t),t.g={}}function Fp(){this.g=!0}function gu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tb(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Jl.prototype.M=function(){Jl.Z.M.call(this),vL(this)},Jl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fp.prototype.Aa=function(){this.g=!1},Fp.prototype.info=function(){};var Io={},wL=null;function Lp(){return wL=wL||new Rt}function EL(t){un.call(this,Io.Ma,t)}function Zl(t){const e=Lp();Kt(e,new EL(e,t))}function CL(t,e){un.call(this,Io.STAT_EVENT,t),this.stat=e}function Sn(t){const e=Lp();Kt(e,new CL(e,t))}function IL(t,e){un.call(this,Io.Na,t),this.size=e}function Xl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}Io.Ma="serverreachability",zt(EL,un),Io.STAT_EVENT="statevent",zt(CL,un),Io.Na="timingevent",zt(IL,un);var Vp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nb(){}function TL(){}Nb.prototype.h=null;var Ob,ed={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kb(){un.call(this,"d")}function Pb(){un.call(this,"c")}function Up(){}function td(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Jl(this),this.P=Die,this.W=new Op(t=fb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new AL}function AL(){this.i=null,this.g="",this.h=!1}zt(kb,un),zt(Pb,un),zt(Up,Nb),Up.prototype.g=function(){return new XMLHttpRequest},Up.prototype.i=function(){return{}},Ob=new Up;var Die=45e3,Fb={},Bp={};function Lb(t,e,n){t.K=1,t.v=Gp(Wi(e)),t.s=n,t.U=!0,SL(t,null)}function SL(t,e){t.F=Date.now(),nd(t),t.A=Wi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),LL(n.h,"t",r),t.C=0,n=t.l.H,t.h=new AL,t.g=oV(t.l,n?e:null,!t.s),0<t.O&&(t.L=new wie(Wt(t.Ia,t,t.g),t.O)),_L(t.V,t.g,"readystatechange",t.gb),e=t.H?nL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Zl(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function xL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ML(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Tie(t,n),i==Bp){4==e&&(t.o=4,Sn(14),r=!1),gu(t.j,t.m,null,"[Incomplete Response]");break}if(i==Fb){t.o=4,Sn(15),gu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}gu(t.j,t.m,i,null),Vb(t,i)}xL(t)&&i!=Bp&&i!=Fb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qb(e),e.L=!0,Sn(11))):(gu(t.j,t.m,n,"[Invalid Chunked Response]"),bo(t),rd(t))}function Tie(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Bp:(n=Number(e.substring(n,r)),isNaN(n)?Fb:(r+=1)+n>e.length?Bp:(e=e.substr(r,n),t.C=r+n,e))}function nd(t){t.Y=Date.now()+t.P,RL(t,t.P)}function RL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Xl(Wt(t.eb,t),e)}function jp(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}function rd(t){0==t.l.G||t.I||nV(t.l,t)}function bo(t){jp(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Mb(t.W),vL(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Vb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||jb(n.i,t)))if(n.I=t.N,!t.J&&jb(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Xl(Wt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Jp(n),Qp(n)}Kb(n),Sn(18)}if(1>=BL(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Ao(n,11)}else if((t.J||n.g==t)&&Jp(n),!Mp(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Tn(p,"spdy")||Tn(p,"quic")||Tn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&($b(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,$e(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=sV(r,r.H?r.la:null,r.W),o.J){jL(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(jp(a),nd(a)),r.g=o}else eV(r);0<n.l.length&&Yp(n)}else"stop"!=c[0]&&"close"!=c[0]||Ao(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ao(n,7):Wb(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Zl(4)}catch(c){}}function Ub(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ab(t)||"string"==typeof t)JF(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ab(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ab(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function mu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof mu)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Bb(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Do(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Do(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Do(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=td.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;const e=this.L;e&&3==zi(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)e:{const l=zi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||fb||this.g&&(this.h.h||this.g.ga()||QL(this.g)))){this.I||4!=l||7==e||Zl(8==e||0>=d?3:2),jp(this);var n=this.g.ba();this.N=n;t:if(xL(this)){var r=QL(this.g);t="";var i=r.length,s=4==zi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bo(this),rd(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Sn(12),bo(this),rd(this);break e}gu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vb(this,n)}this.U?(ML(this,l,o),fb&&this.i&&3==l&&(_L(this.V,this.W,"tick",this.fb),this.W.start())):(gu(this.j,this.m,o,null),Vb(this,o)),4==l&&bo(this),this.i&&!this.I&&(4==l?nV(this.l,this):(this.i=!1,nd(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),bo(this),rd(this)}}}catch(l){}},N.fb=function(){if(this.g){var t=zi(this.g),e=this.g.ga();this.C<e.length&&(jp(this),ML(this,t,e),this.i&&4!=t&&nd(this))}},N.cancel=function(){this.I=!0,bo(this)},N.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Zl(3),Sn(17)),bo(this),this.o=2,rd(this)):RL(this,this.Y-t)},(N=mu.prototype).R=function(){Bb(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return Bb(this),this.g.concat()},N.get=function(t,e){return Do(this.h,t)?this.h[t]:e},N.set=function(t,e){Do(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var NL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function To(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof To){this.g=void 0!==e?e:t.g,$p(this,t.j),this.s=t.s,Hp(this,t.i),qp(this,t.m),this.l=t.l,e=t.h;var n=new od;n.i=e.i,e.g&&(n.g=new mu(e.g),n.h=e.h),kL(this,n),this.o=t.o}else t&&(n=String(t).match(NL))?(this.g=!!e,$p(this,n[1]||"",!0),this.s=id(n[2]||""),Hp(this,n[3]||"",!0),qp(this,n[4]),this.l=id(n[5]||"",!0),kL(this,n[6]||"",!0),this.o=id(n[7]||"")):(this.g=!!e,this.h=new od(null,this.g))}function Wi(t){return new To(t)}function $p(t,e,n){t.j=n?id(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hp(t,e,n){t.i=n?id(e,!0):e}function qp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kL(t,e,n){e instanceof od?(t.h=e,function(t,e){e&&!t.j&&(Es(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OL(this,r),LL(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=sd(e,Pie)),t.h=new od(e,t.g))}function $e(t,e,n){t.h.set(e,n)}function Gp(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function id(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rie(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}To.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sd(e,PL,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(sd(e,PL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(sd(n,"/"==n.charAt(0)?kie:Nie,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sd(n,Oie)),t.join("")};var PL=/[#\/\?@]/g,Nie=/[#\?:]/g,kie=/[#\?]/g,Pie=/[#\?@]/g,Oie=/#/g;function od(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Es(t){t.g||(t.g=new mu,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function OL(t,e){Es(t),e=yu(t,e),Do(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Do((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Bb(t)))}function FL(t,e){return Es(t),e=yu(t,e),Do(t.g.h,e)}function LL(t,e,n){OL(t,e),0<n.length&&(t.i=null,t.g.set(yu(t,e),cb(n)),t.h+=n.length)}function yu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VL(t){this.l=t||Vie,t=Y.PerformanceNavigationTiming?0<(t=Y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Y.g&&Y.g.Ea&&Y.g.Ea()&&Y.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=od.prototype).add=function(t,e){Es(this),this.i=null,t=yu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Es(this),this.g.forEach(function(n,r){JF(n,function(i){t.call(e,i,r,this)},this)},this)},N.T=function(){Es(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},N.R=function(t){Es(this);var e=[];if("string"==typeof t)FL(this,t)&&(e=ZF(e,this.g.get(yu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=ZF(e,t[n])}return e},N.set=function(t,e){return Es(this),this.i=null,FL(this,t=yu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Vie=10;function UL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function BL(t){return t.h?1:t.g?t.g.size:0}function jb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $b(t,e){t.g?t.g.add(e):t.h=e}function jL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function $L(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return cb(t.i)}function Hb(){}function Uie(){this.g=new Hb}function Bie(t,e,n){const r=n||"";try{Ub(t,function(i,s){let o=i;Kl(i)&&(o=Tb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function ad(t){this.l=t.$b||null,this.j=t.ib||!1}function zp(t,e){Rt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=qb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VL.prototype.cancel=function(){if(this.i=$L(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Hb.prototype.stringify=function(t){return Y.JSON.stringify(t,void 0)},Hb.prototype.parse=function(t){return Y.JSON.parse(t,void 0)},zt(ad,Nb),ad.prototype.g=function(){return new zp(this.l,this.j)},ad.prototype.i=function(t){return function(){return t}}({}),zt(zp,Rt);var qb=0;function HL(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function ud(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cd(t)}function cd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=zp.prototype).open=function(t,e){if(this.readyState!=qb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cd(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Y).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ud(this)),this.readyState=qb},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cd(this)),this.g&&(this.readyState=3,cd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Y.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HL(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ud(this):cd(this),3==this.readyState&&HL(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,ud(this))},N.Ta=function(t){this.g&&(this.response=t,ud(this))},N.ha=function(){this.g&&ud(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var $ie=Y.JSON.parse;function at(t){Rt.call(this),this.headers=new mu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qL,this.K=this.L=!1}zt(at,Rt);var qL="",Hie=/^https?$/i,qie=["POST","PUT"];function Wie(t){return"content-type"==t.toLowerCase()}function GL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WL(t),Kp(t)}function WL(t){t.D||(t.D=!0,Kt(t,"complete"),Kt(t,"error"))}function zL(t){if(t.h&&void 0!==ob&&(!t.C[1]||4!=zi(t)||2!=t.ba()))if(t.v&&4==zi(t))Rb(t.Fa,0,t);else if(Kt(t,"readystatechange"),4==zi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(NL)[1]||null;if(!i&&Y.self&&Y.self.location){var s=Y.self.location.protocol;i=s.substr(0,s.length-1)}r=!Hie.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var o=2<zi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",WL(t)}}finally{Kp(t)}}}function Kp(t,e){if(t.g){KL(t);const n=t.g,r=t.C[0]?Sp:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function KL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function zi(t){return t.g?t.g.readyState:0}function QL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Gb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return db(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function ld(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YL(t){this.za=0,this.l=[],this.h=new Fp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ld("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ld("baseRetryDelayMs",5e3,t),this.$a=ld("retryDelaySeedMs",1e4,t),this.Ya=ld("forwardChannelMaxRetries",2,t),this.ra=ld("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new VL(t&&t.concurrentRequestLimit),this.Ca=new Uie,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Wb(t){if(JL(t),3==t.G){var e=t.V++,n=Wi(t.F);$e(n,"SID",t.J),$e(n,"RID",e),$e(n,"TYPE","terminate"),dd(t,n),(e=new td(t,t.h,e,void 0)).K=2,e.v=Gp(Wi(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon&&(n=Y.navigator.sendBeacon(e.v.toString(),"")),!n&&Y.Image&&((new Image).src=e.v,n=!0),n||(e.g=oV(e.l,null),e.g.ea(e.v)),e.F=Date.now(),nd(e)}iV(t)}function Qp(t){t.g&&(Qb(t),t.g.cancel(),t.g=null)}function JL(t){Qp(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Jp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Y.clearTimeout(t.m),t.m=null)}function zb(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Yp(t)}function Yp(t){UL(t.i)||t.m||(t.m=!0,Ab(t.Ha,t),t.C=0)}function ZL(t,e){var n;n=e?e.m:t.V++;const r=Wi(t.F);$e(r,"SID",t.J),$e(r,"RID",n),$e(r,"AID",t.U),dd(t,r),t.o&&t.s&&Gb(r,t.o,t.s),n=new td(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=XL(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),$b(t.i,n),Lb(n,r,e)}function dd(t,e){t.j&&Ub({},function(n,r){$e(e,r,n)})}function XL(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Wt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Bie(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function eV(t){t.g||t.u||(t.Y=1,Ab(t.Ga,t),t.A=0)}function Kb(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Xl(Wt(t.Ga,t),rV(t,t.A)),t.A++,0))}function Qb(t){null!=t.B&&(Y.clearTimeout(t.B),t.B=null)}function tV(t){t.g=new td(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Wi(t.oa);$e(e,"RID","rpc"),$e(e,"SID",t.J),$e(e,"CI",t.N?"0":"1"),$e(e,"AID",t.U),dd(t,e),$e(e,"TYPE","xmlhttp"),t.o&&t.s&&Gb(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Gp(Wi(e)),n.s=null,n.U=!0,SL(n,t)}function Jp(t){null!=t.v&&(Y.clearTimeout(t.v),t.v=null)}function nV(t,e){var n=null;if(t.g==e){Jp(t),Qb(t),t.g=null;var r=2}else{if(!jb(t.i,e))return;n=e.D,jL(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Kt(r=Lp(),new IL(r,n,e,i)),Yp(t)}else eV(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(BL(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Xl(Wt(t.Ha,t,e),rV(t,t.C)),t.C++,0)))}(t,e)||2==r&&Kb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ao(t,5);break;case 4:Ao(t,10);break;case 3:Ao(t,6);break;default:Ao(t,2)}}function rV(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ao(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Wt(t.jb,t);n||(n=new To("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||$p(n,"https"),Gp(n)),function(t,e){const n=new Fp;if(Y.Image){const r=new Image;r.onload=xp(Wp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xp(Wp,n,r,"TestLoadImage: error",!1,e),r.onabort=xp(Wp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xp(Wp,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sn(2);t.G=0,t.j&&t.j.va(e),iV(t),JL(t)}function iV(t){t.G=0,t.I=-1,t.j&&((0!=$L(t.i).length||0!=t.l.length)&&(t.i.i.length=0,cb(t.l),t.l.length=0),t.j.ua())}function sV(t,e,n){let r=function(t){return t instanceof To?Wi(t):new To(t,void 0)}(n);if(""!=r.i)e&&Hp(r,e+"."+r.i),qp(r,r.m);else{const i=Y.location;r=function(t,e,n,r){var i=new To(null,void 0);return t&&$p(i,t),e&&Hp(i,e),n&&qp(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&db(t.aa,function(i,s){$e(r,s,i)}),n=t.sa,(e=t.D)&&n&&$e(r,e,n),$e(r,"VER",t.ma),dd(t,r),r}function oV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(n&&t.Ba&&!t.qa?new ad({ib:!0}):t.qa)).L=t.H,e}function aV(){}function Zp(){if(pu&&!(10<=Number(aie)))throw Error("Environmental error: no available transport.")}function sr(t,e){Rt.call(this),this.g=new YL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mp(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new _u(this)}function uV(t){kb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function cV(){Pb.call(this),this.status=1}function _u(t){this.g=t}(N=at.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ob.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ob),this.g.onreadystatechange=Wt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void GL(this,s)}t=n||"";const i=new mu(this.headers);r&&Ub(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=Wie;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Y.FormData&&t instanceof Y.FormData,!(0<=YF(qie,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KL(this),0<this.B&&((this.K=function(t){return pu&&oie()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.pa,this)):this.A=Rb(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){GL(this,s)}},N.pa=function(){void 0!==ob&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),Kp(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kp(this,!0)),at.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?zL(this):this.cb())},N.cb=function(){zL(this)},N.ba=function(){try{return 2<zi(this)?this.g.status:-1}catch(t){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$ie(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=YL.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new td(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=nL(s),iL(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XL(this,i,e),$e(n=Wi(this.F),"RID",t),$e(n,"CVER",22),this.D&&$e(n,"X-HTTP-Session-Id",this.D),dd(this,n),this.o&&s&&Gb(n,this.o,s),$b(this.i,i),this.Ra&&$e(n,"TYPE","init"),this.ja?($e(n,"$req",e),$e(n,"SID","null"),i.$=!0,Lb(i,n,null)):Lb(i,n,e),this.G=2}}else 3==this.G&&(t?ZL(this,t):0==this.l.length||UL(this.i)||ZL(this))},N.Ga=function(){if(this.u=null,tV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Xl(Wt(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sn(10),Qp(this),tV(this))},N.ab=function(){null!=this.v&&(this.v=null,Qp(this),Kb(this),Sn(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Sn(2)):(this.h.info("Failed to ping google.com"),Sn(1))},(N=aV.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},Zp.prototype.g=function(t,e){return new sr(t,e)},zt(sr,Rt),sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ab(Wt(t.hb,t,e))),Sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=sV(t,null,t.W),Yp(t)},sr.prototype.close=function(){Wb(this.g)},sr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,zb(this.g,e)}else this.v?((e={}).__data__=Tb(t),zb(this.g,e)):zb(this.g,t)},sr.prototype.M=function(){this.g.j=null,delete this.j,Wb(this.g),delete this.g,sr.Z.M.call(this)},zt(uV,kb),zt(cV,Pb),zt(_u,aV),_u.prototype.xa=function(){Kt(this.g,"a")},_u.prototype.wa=function(t){Kt(this.g,new uV(t))},_u.prototype.va=function(t){Kt(this.g,new cV(t))},_u.prototype.ua=function(){Kt(this.g,"b")},Zp.prototype.createWebChannel=Zp.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,Vp.NO_ERROR=0,Vp.TIMEOUT=8,Vp.HTTP_ERROR=6,bL.COMPLETE="complete",TL.EventType=ed,ed.OPEN="a",ed.CLOSE="b",ed.ERROR="c",ed.MESSAGE="d",Rt.prototype.listen=Rt.prototype.N,at.prototype.listenOnce=at.prototype.O,at.prototype.getLastError=at.prototype.La,at.prototype.getLastErrorCode=at.prototype.Da,at.prototype.getStatus=at.prototype.ba,at.prototype.getResponseJson=at.prototype.Qa,at.prototype.getResponseText=at.prototype.ga,at.prototype.send=at.prototype.ea;var Qie=Gi.createWebChannelTransport=function(){return new Zp},Yie=Gi.getStatEventTarget=function(){return Lp()},Yb=Gi.ErrorCode=Vp,Jie=Gi.EventType=bL,Zie=Gi.Event=Io,lV=Gi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xie=Gi.FetchXmlHttpFactory=ad,Xp=Gi.WebChannel=TL,ese=Gi.XhrIo=at;const dV="@firebase/firestore";class Qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");let vu="9.5.0";const Cs=new ru("@firebase/firestore");function Jb(){return Cs.logLevel}function D(t,...e){if(Cs.logLevel<=pe.DEBUG){const n=e.map(Zb);Cs.debug(`Firestore (${vu}): ${t}`,...n)}}function ut(t,...e){if(Cs.logLevel<=pe.ERROR){const n=e.map(Zb);Cs.error(`Firestore (${vu}): ${t}`,...n)}}function eg(t,...e){if(Cs.logLevel<=pe.WARN){const n=e.map(Zb);Cs.warn(`Firestore (${vu}): ${t}`,...n)}}function Zb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function W(t,e){t||V()}function S(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hV{constructor(e,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class tse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class rse{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W("string"==typeof r.accessToken),new hV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(null===e||"string"==typeof e),new Qt(e)}}class ise{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class sse{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ise(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class or{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.g(r),this.p=r=>n.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function ose(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}or.T=-1;class fV{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ose(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function wu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Yt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function gV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class hd{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===hd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends hd{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const ase=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends hd{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return ase.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class Eu{constructor(e){this.fields=e,e.sort(cn.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new kt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new kt(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const use=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(W(!!t),"string"==typeof t){let e=0;const n=use.exec(t);if(W(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cu(t){return"string"==typeof t?kt.fromBase64String(t):kt.fromUint8Array(t)}function Xb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yV(t){const e=t.mapValue.fields.__previous_value__;return Xb(e)?yV(e):e}function fd(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}function xo(t){return null==t}function tg(t){return 0===t&&1/t==-1/0}class F{constructor(e){this.path=e}static fromPath(e){return new F(ve.fromString(e))}static fromName(e){return new F(ve.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new ve(e.slice()))}}function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xb(t)?4:10:V()}function fi(t,e){const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fd(t).isEqual(fd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Is(r.timestampValue),o=Is(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Cu(t.bytesValue).isEqual(Cu(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ct(r.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ct(r.integerValue)===ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ct(r.doubleValue),o=ct(i.doubleValue);return s===o?tg(s)===tg(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return wu(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gV(s)!==gV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!fi(s[a],o[a])))return!1;return!0}(t,e);default:return V()}var i}function pd(t,e){return void 0!==(t.values||[]).find(n=>fi(n,e))}function Iu(t,e){const n=Mo(t),r=Mo(e);if(n!==r)return he(n,r);switch(n){case 0:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ct(i.integerValue||i.doubleValue),a=ct(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return vV(t.timestampValue,e.timestampValue);case 4:return vV(fd(t),fd(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Cu(i),a=Cu(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=he(o[u],a[u]);if(0!==c)return c}return he(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=he(ct(i.latitude),ct(s.latitude));return 0!==o?o:he(ct(i.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Iu(o[u],a[u]);if(c)return c}return he(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=he(a[l],c[l]);if(0!==d)return d;const h=Iu(o[a[l]],u[c[l]]);if(0!==h)return h}return he(a.length,c.length)}(t.mapValue,e.mapValue);default:throw V()}}function vV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=Is(t),r=Is(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function eD(t){return tD(t)}function tD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Is(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cu(t.bytesValue).toBase64():"referenceValue"in t?F.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=tD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${tD(r.fields[a])}`;return s+"}"}(t.mapValue):V();var e}function nD(t){return!!t&&"integerValue"in t}function rD(t){return!!t&&"arrayValue"in t}function wV(t){return!!t&&"nullValue"in t}function EV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gd(t.arrayValue.values[n]);return e}return Object.assign({},t)}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){So(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(gd(this.value))}}function CV(t){const e=[];return So(t.fields,(n,r)=>{const i=new cn([n]);if(rg(r)){const s=CV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Eu(e)}class He{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new He(e,0,ee.min(),ln.empty(),0)}static newFoundDocument(e,n,r){return new He(e,1,n,r,0)}static newNoDocument(e,n){return new He(e,2,n,ln.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,ln.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new He(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cse{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.A=null}}function IV(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cse(t,e,n,r,i,s,o)}function md(t){const e=S(t);if(null===e.A){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+eD(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=og(e.startAt)),e.endAt&&(n+="|ub:",n+=og(e.endAt)),e.A=n}return e.A}function ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!vse(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!fi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TV(t.startAt,e.startAt)&&TV(t.endAt,e.endAt)}function sg(t){return F.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class xn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.R(e,n,r):new hse(e,n,r):"array-contains"===n?new gse(e,r):"in"===n?new mse(e,r):"not-in"===n?new yse(e,r):"array-contains-any"===n?new _se(e,r):new xn(e,n,r)}static R(e,n,r){return"in"===n?new fse(e,r):new pse(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.P(Iu(n,this.value)):null!==n&&Mo(this.value)===Mo(n)&&this.P(Iu(n,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hse extends xn{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.P(n)}}class fse extends xn{constructor(e,n){super(e,"in",n),this.keys=bV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pse extends xn{constructor(e,n){super(e,"not-in",n),this.keys=bV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class gse extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rD(n)&&pd(n.arrayValue,this.value)}}class mse extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&pd(this.value.arrayValue,n)}}class yse extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!pd(this.value.arrayValue,n)}}class _se extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pd(this.value.arrayValue,r))}}class yd{constructor(e,n){this.position=e,this.before=n}}function og(t){return`${t.before?"b":"a"}:${t.position.map(e=>eD(e)).join(",")}`}class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function vse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function DV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?F.comparator(F.fromName(o.referenceValue),n.key):Iu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function TV(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}class Ki{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.V=null,this.S=null}}function Du(t){return new Ki(t)}function ag(t){return!xo(t.limit)&&"F"===t.limitType}function ug(t){return!xo(t.limit)&&"L"===t.limitType}function Tu(t){const e=S(t);if(null===e.V){e.V=[];const n=function(t){for(const e of t.filters)if(e.v())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.V.push(new bu(n)),e.V.push(new bu(cn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.V.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new bu(cn.keyField(),s))}}}return e.V}function Ir(t){const e=S(t);if(!e.S)if("F"===e.limitType)e.S=IV(e.path,e.collectionGroup,Tu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Tu(e))n.push(new bu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new yd(e.endAt.position,!e.endAt.before):null,i=e.startAt?new yd(e.startAt.position,!e.startAt.before):null;e.S=IV(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.S}function _d(t,e){return ig(Ir(t),Ir(e))&&t.limitType===e.limitType}function xV(t){return`${md(Ir(t))}|lt:${t.limitType}`}function aD(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${eD(r.value)}`;var r}).join(", ")}]`),xo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+og(t.startAt)),t.endAt&&(e+=", endAt: "+og(t.endAt)),`Target(${e})`}(Ir(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):F.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!DV(n.startAt,Tu(n),r)||n.endAt&&DV(n.endAt,Tu(n),r)));var n,r}function MV(t){return(e,n)=>{let r=!1;for(const i of Tu(t)){const s=wse(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function wse(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Iu(a,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}function RV(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function NV(t){return{integerValue:""+t}}function kV(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?NV(e):RV(t,e)}class cg{constructor(){this._=void 0}}function Ese(t,e,n){return t instanceof Au?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ro?OV(t,e):t instanceof No?FV(t,e):function(r,i){const s=PV(r,i),o=LV(s)+LV(r.C);return nD(s)&&nD(r.C)?NV(o):RV(r.N,o)}(t,e)}function Cse(t,e,n){return t instanceof Ro?OV(t,e):t instanceof No?FV(t,e):n}function PV(t,e){return t instanceof Su?nD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Au extends cg{}class Ro extends cg{constructor(e){super(),this.elements=e}}function OV(t,e){const n=VV(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class No extends cg{constructor(e){super(),this.elements=e}}function FV(t,e){let n=VV(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class Su extends cg{constructor(e,n){super(),this.N=e,this.C=n}}function LV(t){return ct(t.integerValue||t.doubleValue)}function VV(t){return rD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bse{constructor(e,n){this.version=e,this.transformResults=n}}class lt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lt}static exists(e){return new lt(void 0,e)}static updateTime(e){return new lt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class dg{}function Dse(t,e,n){t instanceof Ed?function(r,i,s){const o=r.value.clone(),a=$V(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(r,i,s){if(!lg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=$V(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(jV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function uD(t,e,n){var i;t instanceof Ed?function(r,i,s){if(!lg(r.precondition,i))return;const o=r.value.clone(),a=HV(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(BV(i),o).setHasLocalMutations()}(t,e,n):t instanceof bs?function(r,i,s){if(!lg(r.precondition,i))return;const o=HV(r.fieldTransforms,s,i),a=i.data;a.setAll(jV(r)),a.setAll(o),i.convertToFoundDocument(BV(i),a).setHasLocalMutations()}(t,e,n):lg(t.precondition,i=e)&&i.convertToNoDocument(ee.min())}function Tse(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PV(r.transform,i||null);null!=s&&(null==n&&(n=ln.empty()),n.set(r.field,s))}return n||null}function UV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&wu(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ro&&r instanceof Ro||n instanceof No&&r instanceof No?wu(n.elements,r.elements,fi):n instanceof Su&&r instanceof Su?fi(n.C,r.C):n instanceof Au&&r instanceof Au);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function BV(t){return t.isFoundDocument()?t.version:ee.min()}class Ed extends dg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class bs extends dg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function jV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $V(t,e,n){const r=new Map;W(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Cse(o,a,n[i]))}return r}function HV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ese(s,o,e))}return r}class Cd extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class cD extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Ase{constructor(e){this.count=e}}var dt,ge;function qV(t){switch(t){default:return V();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function GV(t){if(void 0===t)return ut("GRPC error has no .code"),w.UNKNOWN;switch(t){case dt.OK:return w.OK;case dt.CANCELLED:return w.CANCELLED;case dt.UNKNOWN:return w.UNKNOWN;case dt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case dt.INTERNAL:return w.INTERNAL;case dt.UNAVAILABLE:return w.UNAVAILABLE;case dt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case dt.NOT_FOUND:return w.NOT_FOUND;case dt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case dt.ABORTED:return w.ABORTED;case dt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case dt.DATA_LOSS:return w.DATA_LOSS;default:return V()}}(ge=dt||(dt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";class _t{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hg(this.root,e,this.comparator,!1)}getReverseIterator(){return new hg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hg(this.root,e,this.comparator,!0)}}class hg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Jt.RED,this.left=null!=i?i:Jt.EMPTY,this.right=null!=s?s:Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WV(this.data.getIterator())}getIteratorFrom(e){return new WV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class WV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Sse=new _t(F.comparator);function br(){return Sse}const xse=new _t(F.comparator);function lD(){return xse}const Mse=new _t(F.comparator);const Rse=new Ze(F.comparator);function be(...t){let e=Rse;for(const n of t)e=e.add(n);return e}const Nse=new Ze(he);function fg(){return Nse}class Id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n)),new Id(ee.min(),r,fg(),br(),be())}}class bd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new bd(kt.EMPTY_BYTE_STRING,n,be(),be(),be())}}class pg{constructor(e,n,r,i){this.k=e,this.removedTargetIds=n,this.key=r,this.$=i}}class KV{constructor(e,n){this.targetId=e,this.O=n}}class QV{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YV{constructor(){this.F=0,this.M=ZV(),this.L=kt.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=be(),n=be(),r=be();return this.M.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new bd(this.L,this.B,e,n,r)}G(){this.U=!1,this.M=ZV()}H(e,n){this.U=!0,this.M=this.M.insert(e,n)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class kse{constructor(e){this.tt=e,this.et=new Map,this.nt=br(),this.st=JV(),this.it=new Ze(he)}rt(e){for(const n of e.k)e.$&&e.$.isFoundDocument()?this.ot(n,e.$):this.ct(n,e.key,e.$);for(const n of e.removedTargetIds)this.ct(n,e.key,e.$)}at(e){this.forEachTarget(e,n=>{const r=this.ut(n);switch(e.state){case 0:this.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(n);break;case 3:this.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),r.j(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.et.forEach((r,i)=>{this.ht(i)&&n(i)})}ft(e){const n=e.targetId,r=e.O.count,i=this.dt(n);if(i){const s=i.target;if(sg(s))if(0===r){const o=new F(s.path);this.ct(n,o,He.newNoDocument(o,ee.min()))}else W(1===r);else this.wt(n)!==r&&(this.lt(n),this.it=this.it.add(n))}}_t(e){const n=new Map;this.et.forEach((s,o)=>{const a=this.dt(o);if(a){if(s.current&&sg(a.target)){const u=new F(a.target.path);null!==this.nt.get(u)||this.gt(o,u)||this.ct(o,u,He.newNoDocument(u,e))}s.K&&(n.set(o,s.W()),s.G())}});let r=be();this.st.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.dt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Id(e,n,this.it,this.nt,r);return this.nt=br(),this.st=JV(),this.it=new Ze(he),i}ot(e,n){if(!this.ht(e))return;const r=this.gt(e,n.key)?2:0;this.ut(e).H(n.key,r),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(e))}ct(e,n,r){if(!this.ht(e))return;const i=this.ut(e);this.gt(e,n)?i.H(n,1):i.J(n),this.st=this.st.insert(n,this.yt(n).delete(e)),r&&(this.nt=this.nt.insert(n,r))}removeTarget(e){this.et.delete(e)}wt(e){const n=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let n=this.et.get(e);return n||(n=new YV,this.et.set(e,n)),n}yt(e){let n=this.st.get(e);return n||(n=new Ze(he),this.st=this.st.insert(e,n)),n}ht(e){const n=null!==this.dt(e);return n||D("WatchChangeAggregator","Detected inactive target",e),n}dt(e){const n=this.et.get(e);return n&&n.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new YV),this.tt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}gt(e,n){return this.tt.getRemoteKeysForTarget(e).has(n)}}function JV(){return new _t(F.comparator)}function ZV(){return new _t(F.comparator)}const Pse={asc:"ASCENDING",desc:"DESCENDING"},Ose={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Fse{constructor(e,n){this.databaseId=e,this.D=n}}function Dd(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XV(t,e){return t.D?e.toBase64():e.toUint8Array()}function Lse(t,e){return Dd(t,e.toTimestamp())}function Pt(t){return W(!!t),ee.fromTimestamp(function(e){const n=Is(e);return new Yt(n.seconds,n.nanos)}(t))}function dD(t,e){return(n=t,new ve(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function eU(t){const e=ve.fromString(t);return W(hU(e)),e}function Td(t,e){return dD(t.databaseId,e.path)}function pi(t,e){const n=eU(e);if(n.get(1)!==t.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(nU(n))}function hD(t,e){return dD(t.databaseId,e)}function Ad(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nU(t){return W(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rU(t,e,n){return{name:Td(t,e),fields:n.value.mapValue.fields}}function oU(t,e){return{documents:[hD(t,e.path)]}}function aU(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=hD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(EV(l.value))return{unaryFilter:{field:xu(l.field),op:"IS_NAN"}};if(wV(l.value))return{unaryFilter:{field:xu(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(EV(l.value))return{unaryFilter:{field:xu(l.field),op:"IS_NOT_NAN"}};if(wV(l.value))return{unaryFilter:{field:xu(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(l.field),op:Hse(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:xu((c=u).field),direction:$se(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.D||xo(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=lU(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lU(e.endAt)),n}function uU(t){let e=function(t){const e=eU(t);return 4===e.length?ve.emptyPath():nU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){W(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=cU(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new bu(Mu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,xo(d)?null:d}(n.limit));let u=null;n.startAt&&(u=dU(n.startAt));let c=null;return n.endAt&&(c=dU(n.endAt)),function(t,e,n,r,i,s,o,a){return new Ki(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function cU(t){return t?void 0!==t.unaryFilter?[Gse(t)]:void 0!==t.fieldFilter?[qse(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>cU(e)).reduce((e,n)=>e.concat(n)):V():[]}function lU(t){return{before:t.before,values:t.position}}function dU(t){return new yd(t.values||[],!!t.before)}function $se(t){return Pse[t]}function Hse(t){return Ose[t]}function xu(t){return{fieldPath:t.canonicalString()}}function Mu(t){return cn.fromServerFormat(t.fieldPath)}function qse(t){return xn.create(Mu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gse(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Mu(t.unaryFilter.field);return xn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Mu(t.unaryFilter.field);return xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mu(t.unaryFilter.field);return xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mu(t.unaryFilter.field);return xn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return V()}}function Wse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Hr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fU(e)),e=zse(t.get(n),e);return fU(e)}function zse(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function fU(t){return t+"\x01\x01"}class ar{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}ar.store="owner",ar.key="owner";class Ds{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}Ds.store="mutationQueues",Ds.keyPath="userId";class Ve{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Ve.store="mutations",Ve.keyPath="batchId",Ve.userMutationsIndex="userMutationsIndex",Ve.userMutationsKeyPath=["userId","batchId"];class dn{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Hr(n)]}static key(e,n,r){return[e,Hr(n),r]}}dn.store="documentMutations",dn.PLACEHOLDER=new dn;class Xe{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Xe.store="remoteDocuments",Xe.readTimeIndex="readTimeIndex",Xe.readTimeIndexPath="readTime",Xe.collectionReadTimeIndex="collectionReadTimeIndex",Xe.collectionReadTimeIndexPath=["parentPath","readTime"];class gi{constructor(e){this.byteSize=e}}gi.store="remoteDocumentGlobal",gi.key="remoteDocumentGlobalKey";class Hn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Hn.store="targets",Hn.keyPath="targetId",Hn.queryTargetsIndexName="queryTargetsIndex",Hn.queryTargetsKeyPath=["canonicalId","targetId"];class Zt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Zt.store="targetDocuments",Zt.keyPath=["targetId","path"],Zt.documentTargetsIndex="documentTargetsIndex",Zt.documentTargetsKeyPath=["path","targetId"];class ur{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}ur.key="targetGlobalKey",ur.store="targetGlobal";class ko{constructor(e,n){this.collectionId=e,this.parent=n}}ko.store="collectionParents",ko.keyPath=["collectionId","parent"];class Yi{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}Yi.store="clientMetadata",Yi.keyPath="clientId";class Ru{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ru.store="bundles",Ru.keyPath="bundleId";class Nu{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Nu.store="namedQueries",Nu.keyPath="name";const pU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Po(t){return"IndexedDbTransactionError"===t.name}class pD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Dse(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&uD(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&uD(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ee.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(n,r)=>UV(n,r))&&wu(this.baseMutations,e.baseMutations,(n,r)=>UV(n,r))}}class gD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){W(e.mutations.length===r.length);let i=Mse;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gD(e,n,r,i)}}class Ts{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=kt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yU{constructor(e){this.Wt=e}}function _D(t){const e=uU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class noe{constructor(){this.Gt=new vD}addToCollectionParentIndex(e,n){return this.Gt.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.Gt.getEntries(n))}}class vD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(ve.comparator)).toArray()}}class Gn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(41943040,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class Fo{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Fo(0)}static ie(){return new Fo(-1)}}function Lo(t){return ED.apply(this,arguments)}function ED(){return ED=y(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==pU)throw t;D("LocalStore","Unexpectedly lost primary lease")}),ED.apply(this,arguments)}class Vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mV(this.inner)}}class NU{constructor(e,n,r){this.He=e,this.In=n,this.Ht=r}An(e,n){return this.In.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Rn(e,n,r))}Rn(e,n,r){return this.He.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Pn(e,n){return this.He.getEntries(e,n).next(r=>this.vn(e,r).next(()=>r))}vn(e,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return F.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Vn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Sn(e,n,r):this.Dn(e,n,r);var i}Vn(e,n){return this.An(e,new F(n)).next(r=>{let i=lD();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(e,n,r){const i=n.collectionGroup;let s=lD();return this.Ht.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ki(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Dn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Dn(e,n,r){let i,s;return this.He.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.In.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Cn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=He.newInvalidDocument(l),i=i.insert(l,d)),uD(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{vd(n,a)||(i=i.remove(o))}),i))}Cn(e,n,r){let i=be();for(const o of n)for(const a of o.mutations)a instanceof bs&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.He.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class DD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Nn=r,this.xn=i}static kn(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new DD(e,n.fromCache,r,i)}}class kU{$n(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ee.min())?this.Fn(e,n):this.On.Pn(e,i).next(s=>{const o=this.Mn(n,s);return(ag(n)||ug(n))&&this.Ln(n.limitType,o,i,r)?this.Fn(e,n):(Jb()<=pe.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aD(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Mn(e,n){let r=new Ze(MV(e));return n.forEach((i,s)=>{vd(e,s)&&(r=r.add(s))}),r}Ln(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return Jb()<=pe.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",aD(n)),this.On.getDocumentsMatchingQuery(e,n,ee.min())}}class poe{constructor(e,n,r,i){this.persistence=e,this.Bn=n,this.N=i,this.Un=new _t(he),this.qn=new Vu(s=>md(s),ig),this.Kn=ee.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new NU(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Un))}}function OU(t,e){return TD.apply(this,arguments)}function TD(){return TD=y(function*(t,e){const n=S(t);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.In.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new NU(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=be();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.Pn(o,d).next(h=>({Wn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}),TD.apply(this,arguments)}function goe(t,e){const n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.jn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);W(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.In.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.In.performConsistencyCheck(r)).next(()=>n.Qn.Pn(r,i))})}function FU(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ze.getLastRemoteSnapshotVersion(n))}function moe(t,e){const n=S(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.ze.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.ze.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,g=c,W((m=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.ze.updateTargetData(s,f))}var p,m,g});let u=br();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=be();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=br();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):D("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(ee.min())){const c=n.ze.getLastRemoteSnapshotVersion(s).next(l=>n.ze.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.Qn.vn(s,u)).next(()=>u)}).then(s=>(n.Un=i,s))}function yoe(t,e){const n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(r,e)))}function Uu(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ze.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.ze.allocateTargetId(r).next(o=>(i=new Ts(e,o,0,r.currentSequenceNumber),n.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Un.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Un=n.Un.insert(r.targetId,r),n.qn.set(e,r.targetId)),r})}function Bu(t,e,n){return AD.apply(this,arguments)}function AD(){return AD=y(function*(t,e,n){const r=S(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Po(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)}),AD.apply(this,arguments)}function Eg(t,e,n){const r=S(t);let i=ee.min(),s=be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.qn.get(c);return void 0!==d?C.resolve(l.Un.get(d)):l.ze.getTargetData(u,c)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Bn.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:be())).next(a=>({documents:a,Gn:s})))}class Eoe{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return C.resolve(this.Yn.get(n))}saveBundleMetadata(e,n){var r;return this.Yn.set(n.id,{id:(r=n).id,version:r.version,createTime:Pt(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,{name:(r=n).name,query:_D(r.bundledQuery),readTime:Pt(r.readTime)}),C.resolve();var r}}class RD{constructor(){this.Zn=new Ze(Ot.ts),this.es=new Ze(Ot.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Ot(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}cs(e){const n=new F(new ve([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new F(new ve([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=be();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.Zn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return F.comparator(e.key,n.key)||he(e.ls,n.ls)}static ns(e,n){return he(e.ls,n.ls)||F.comparator(e.key,n.key)}}class Coe{constructor(e,n){this.Ht=e,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Ze(Ot.ts)}checkEmpty(e){return C.resolve(0===this.In.length)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++;const o=new pD(s,n,r,i);this.In.push(o);for(const a of i)this.ds=this.ds.add(new Ot(a.key,s)),this.Ht.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(e,n){const i=this._s(n+1),s=i<0?0:i;return C.resolve(this.In.length>s?this.In[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return C.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this.ws(o.ls);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(he);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),C.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new F(s),0);let a=new Ze(he);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ls)),!0)},o),C.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this.ws(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){W(0===this.ys(n.batchId,"removed")),this.In.shift();let r=this.ds;return C.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,n){const r=new Ot(n,0),i=this.ds.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}ys(e,n){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const n=this._s(e);return n<0||n>=this.In.length?null:this.In[n]}}class Ioe{constructor(e,n){this.Ht=e,this.ps=n,this.docs=new _t(F.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.ps(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Ht.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.clone():He.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():He.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=br();const s=new F(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||vd(n,u)&&(i=i.insert(u.key,u.clone()))}return C.resolve(i)}Ts(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new boe(this)}getSize(e){return C.resolve(this.size)}}class boe extends class{constructor(){this.changes=new Vu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:ee.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:He.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.Se.addEntry(e,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.Se.getEntry(e,n)}getAllFromCache(e,n){return this.Se.getEntries(e,n)}}class Doe{constructor(e){this.persistence=e,this.Es=new Vu(n=>md(n),ig),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Is=0,this.As=new RD,this.targetCount=0,this.Rs=Fo.se()}forEachTarget(e,n){return this.Es.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Is&&(this.Is=n),C.resolve()}ce(e){this.Es.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.ce(n),C.resolve()}removeTargetData(e,n){return this.Es.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Es.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Es.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Es.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.cs(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.As.containsKey(n))}}class Toe{constructor(e,n){this.bs={},this.Le=new or(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Doe(this),this.Ht=new noe,this.He=new Ioe(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new yU(n),this.Je=new Eoe(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new Coe(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new Aoe(this.Le.next());return this.referenceDelegate.vs(),r(i).next(s=>this.referenceDelegate.Vs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ss(e,n){return C.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Aoe extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class ND{constructor(e){this.persistence=e,this.Ds=new RD,this.Cs=null}static Ns(e){return new ND(e)}get xs(){if(this.Cs)return this.Cs;throw V()}addReference(e,n,r){return this.Ds.addReference(r,n),this.xs.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Ds.removeReference(r,n),this.xs.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),C.resolve()}removeTarget(e,n){this.Ds.cs(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}vs(){this.Cs=new Set}Vs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.xs,r=>{const i=F.fromPath(r);return this.ks(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Cs=null,n.apply(e)))}updateLimboDocument(e,n){return this.ks(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(e){return 0}ks(e,n){return C.or([()=>C.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ss(e,n)])}}class OD{constructor(){this.activeTargetIds=fg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $U{constructor(){this.yi=new OD,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,n,r){this.pi[e]=n}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new OD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Soe{Ti(e){}shutdown(){}}class HU{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Moe{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Roe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,n,r,i){const s=this.Bi(e,n);D("RestConnection","Sending: ",s,r);const o={};return this.Ui(o,i),this.qi(e,s,o,r).then(a=>(D("RestConnection","Received: ",a),a),a=>{throw eg("RestConnection",`${e} failed with error: `,a,"url: ",s,"request:",r),a})}Ki(e,n,r,i){return this.Li(e,n,r,i)}Ui(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+vu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])}Bi(e,n){return`${this.Fi}/v1/${n}:${xoe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,n,r,i){return new Promise((s,o)=>{const a=new ese;a.listenOnce(Jie.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Yb.NO_ERROR:const c=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Yb.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case Yb.HTTP_ERROR:const l=a.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new b(h,d.message))}else o(new b(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(w.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ji(e,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Qie(),s=Yie(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Xie({})),this.Ui(o.initMessageHeaders,n),gP()||mP()||St().indexOf("Electron/")>=0||yP()||St().indexOf("MSAppHost/")>=0||Gf()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");D("Connection","Creating WebChannel: "+a,o);const u=i.createWebChannel(a,o);let c=!1,l=!1;const d=new Moe({vi:f=>{l?D("Connection","Not sending because WebChannel is closed:",f):(c||(D("Connection","Opening WebChannel transport."),u.open(),c=!0),D("Connection","WebChannel sending:",f),u.send(f))},Vi:()=>u.close()}),h=(f,p,m)=>{f.listen(p,g=>{try{m(g)}catch(v){setTimeout(()=>{throw v},0)}})};return h(u,Xp.EventType.OPEN,()=>{l||D("Connection","WebChannel transport opened.")}),h(u,Xp.EventType.CLOSE,()=>{l||(l=!0,D("Connection","WebChannel transport closed"),d.$i())}),h(u,Xp.EventType.ERROR,f=>{l||(l=!0,eg("Connection","WebChannel transport errored:",f),d.$i(new b(w.UNAVAILABLE,"The operation could not be completed")))}),h(u,Xp.EventType.MESSAGE,f=>{var p;if(!l){const m=f.data[0];W(!!m);const g=m,v=g.error||(null===(p=g[0])||void 0===p?void 0:p.error);if(v){D("Connection","WebChannel received error:",v);const _=v.status;let T=function(q){const Oe=dt[q];if(void 0!==Oe)return GV(Oe)}(_),R=v.message;void 0===T&&(T=w.INTERNAL,R="Unknown error status: "+_+" with message "+v.message),l=!0,d.$i(new b(T,R)),u.close()}else D("Connection","WebChannel received:",m),d.Oi(m)}}),h(s,Zie.STAT_EVENT,f=>{f.stat===lV.PROXY?D("Connection","Detected buffering proxy"):f.stat===lV.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.ki()},0),d}}function bg(){return"undefined"!=typeof document?document:null}function Nd(t){return new Fse(t,!0)}class LD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class GU{constructor(e,n,r,i,s,o,a){this.Oe=e,this.er=r,this.nr=i,this.sr=s,this.credentialsProvider=o,this.listener=a,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new LD(e,n)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return y(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return y(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return y(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(n)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),n=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===n&&this.Er(r)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(i)})})}Er(e){const n=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{n(()=>this.Ir(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi(y(function*(){e.state=0,e.start()}))}Ir(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return n=>{this.Oe.enqueueAndForget(()=>this.ir===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Noe extends GU{constructor(e,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s),this.N=i}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,c){return u.D?(W(void 0===c||"string"==typeof c),kt.fromBase64String(c||"")):(W(void 0===c||c instanceof Uint8Array),kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:GV(u.code);return new b(c,u.message||"")}(o);n=new QV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pi(t,r.document.name),s=Pt(r.document.updateTime),o=new ln({mapValue:{fields:r.document.fields}}),a=He.newFoundDocument(i,s,o);n=new pg(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=pi(t,r.document),s=r.readTime?Pt(r.readTime):ee.min(),o=He.newNoDocument(i,s);n=new pg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=pi(t,r.document);n=new pg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,s=new Ase(r.count||0);n=new KV(r.targetId,s)}}var u;return n}(this.N,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Pt(s.readTime):ee.min()}(e);return this.listener.Rr(n,r)}br(e){const n={};n.database=Ad(this.N),n.addTarget=function(i,s){let o;const a=s.target;return o=sg(a)?{documents:oU(i,a)}:{query:aU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=XV(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Dd(i,s.snapshotVersion.toTimestamp())),o}(this.N,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.mr(n)}Pr(e){const n={};n.database=Ad(this.N),n.removeTarget=e,this.mr(n)}}class koe extends GU{constructor(e,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s),this.N=i,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const n=function(t,e){return t&&t.length>0?(W(void 0!==e),t.map(n=>function(r,i){let s=Pt(r.updateTime?r.updateTime:i);return s.isEqual(ee.min())&&(s=Pt(i)),new bse(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Pt(e.commitTime);return this.listener.Dr(r,n)}return W(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Ad(this.N),this.mr(e)}Sr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function(t,e){let n;if(e instanceof Ed)n={update:rU(t,e.key,e.value)};else if(e instanceof Cd)n={delete:Td(t,e.key)};else if(e instanceof bs)n={update:rU(t,e.key,e.data),updateMask:Wse(e.fieldMask)};else{if(!(e instanceof cD))return V();n={verify:Td(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof No)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Su)return{fieldPath:s.field.canonicalString(),increment:o.C};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Lse(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.N,r))};this.mr(n)}}class Poe extends class{}{constructor(e,n,r){super(),this.credentials=e,this.sr=n,this.N=r,this.kr=!1}$r(){if(this.kr)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Li(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new b(w.UNKNOWN,i.toString())})}Ki(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Ki(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new b(w.UNKNOWN,i.toString())})}terminate(){this.kr=!0}}class Ooe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(ut(n),this.Mr=!1):D("OnlineStateTracker",n)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Foe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=s,this.zr.Ti(a=>{r.enqueueAndForget(y(function*(){var u;Ms(o)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=S(c);l.Wr.add(4),yield ju(l),l.Hr.set("Unknown"),l.Wr.delete(4),yield kd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Hr=new Ooe(r,i)}}function kd(t){return VD.apply(this,arguments)}function VD(){return VD=y(function*(t){if(Ms(t))for(const e of t.Gr)yield e(!0)}),VD.apply(this,arguments)}function ju(t){return UD.apply(this,arguments)}function UD(){return UD=y(function*(t){for(const e of t.Gr)yield e(!1)}),UD.apply(this,arguments)}function Dg(t,e){const n=S(t);n.Qr.has(e.targetId)||(n.Qr.set(e.targetId,e),$D(n)?jD(n):Hu(n).hr()&&BD(n,e))}function Pd(t,e){const n=S(t),r=Hu(n);n.Qr.delete(e),r.hr()&&WU(n,e),0===n.Qr.size&&(r.hr()?r.wr():Ms(n)&&n.Hr.set("Unknown"))}function BD(t,e){t.Jr.Y(e.targetId),Hu(t).br(e)}function WU(t,e){t.Jr.Y(e),Hu(t).Pr(e)}function jD(t){t.Jr=new kse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),Hu(t).start(),t.Hr.Lr()}function $D(t){return Ms(t)&&!Hu(t).ur()&&t.Qr.size>0}function Ms(t){return 0===S(t).Wr.size}function zU(t){t.Jr=void 0}function Loe(t){return HD.apply(this,arguments)}function HD(){return HD=y(function*(t){t.Qr.forEach((e,n)=>{BD(t,e)})}),HD.apply(this,arguments)}function Voe(t,e){return qD.apply(this,arguments)}function qD(){return qD=y(function*(t,e){zU(t),$D(t)?(t.Hr.qr(e),jD(t)):t.Hr.set("Unknown")}),qD.apply(this,arguments)}function Uoe(t,e,n){return GD.apply(this,arguments)}function GD(){return GD=y(function*(t,e,n){if(t.Hr.set("Online"),e instanceof QV&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Qr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Qr.delete(a),i.Jr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tg(t,r)}else if(e instanceof pg?t.Jr.rt(e):e instanceof KV?t.Jr.ft(e):t.Jr.at(e),!n.isEqual(ee.min()))try{const r=yield FU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Jr._t(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Qr.get(u);c&&i.Qr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Qr.get(a);if(!u)return;i.Qr.set(a,u.withResumeToken(kt.EMPTY_BYTE_STRING,u.snapshotVersion)),WU(i,a);const c=new Ts(u.target,a,1,u.sequenceNumber);BD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield Tg(t,r)}var r}),GD.apply(this,arguments)}function Tg(t,e,n){return WD.apply(this,arguments)}function WD(){return WD=y(function*(t,e,n){if(!Po(e))throw e;t.Wr.add(1),yield ju(t),t.Hr.set("Offline"),n||(n=()=>FU(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.Wr.delete(1),yield kd(t)}))}),WD.apply(this,arguments)}function KU(t,e){return e().catch(n=>Tg(t,n,e))}function $u(t){return zD.apply(this,arguments)}function zD(){return zD=y(function*(t){const e=S(t),n=Rs(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;Boe(e);)try{const i=yield yoe(e.localStore,r);if(null===i){0===e.jr.length&&n.wr();break}r=i.batchId,joe(e,i)}catch(i){yield Tg(e,i)}QU(e)&&YU(e)}),zD.apply(this,arguments)}function Boe(t){return Ms(t)&&t.jr.length<10}function joe(t,e){t.jr.push(e);const n=Rs(t);n.hr()&&n.Vr&&n.Sr(e.mutations)}function QU(t){return Ms(t)&&!Rs(t).ur()&&t.jr.length>0}function YU(t){Rs(t).start()}function $oe(t){return KD.apply(this,arguments)}function KD(){return KD=y(function*(t){Rs(t).Nr()}),KD.apply(this,arguments)}function Hoe(t){return QD.apply(this,arguments)}function QD(){return QD=y(function*(t){const e=Rs(t);for(const n of t.jr)e.Sr(n.mutations)}),QD.apply(this,arguments)}function qoe(t,e,n){return YD.apply(this,arguments)}function YD(){return YD=y(function*(t,e,n){const r=t.jr.shift(),i=gD.from(r,e,n);yield KU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield $u(t)}),YD.apply(this,arguments)}function Goe(t,e){return JD.apply(this,arguments)}function JD(){return JD=y(function*(t,e){var n;e&&Rs(t).Vr&&(yield(n=y(function*(r,i){if(qV(s=i.code)&&s!==w.ABORTED){const o=r.jr.shift();Rs(r).dr(),yield KU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $u(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),QU(t)&&YU(t)}),JD.apply(this,arguments)}function XD(){return XD=y(function*(t,e){const n=S(t);e?(n.Wr.delete(2),yield kd(n)):e||(n.Wr.add(2),yield ju(n),n.Hr.set("Unknown"))}),XD.apply(this,arguments)}function Hu(t){return t.Yr||(t.Yr=function(e,n,r){const i=S(e);return i.$r(),new Noe(n,i.sr,i.credentials,i.N,r)}(t.datastore,t.asyncQueue,{Si:Loe.bind(null,t),Ci:Voe.bind(null,t),Rr:Uoe.bind(null,t)}),t.Gr.push(function(){var e=y(function*(n){n?(t.Yr.dr(),$D(t)?jD(t):t.Hr.set("Unknown")):(yield t.Yr.stop(),zU(t))});return function(n){return e.apply(this,arguments)}}())),t.Yr}function Rs(t){return t.Xr||(t.Xr=function(e,n,r){const i=S(e);return i.$r(),new koe(n,i.sr,i.credentials,i.N,r)}(t.datastore,t.asyncQueue,{Si:$oe.bind(null,t),Ci:Goe.bind(null,t),Cr:Hoe.bind(null,t),Dr:qoe.bind(null,t)}),t.Gr.push(function(){var e=y(function*(n){n?(t.Xr.dr(),yield $u(t)):(yield t.Xr.stop(),t.jr.length>0&&(D("RemoteStore",`Stopping write stream with ${t.jr.length} pending writes`),t.jr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Xr}class eT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new eT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qu(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Po(t))return new b(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Gu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=lD(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new Gu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class JU{constructor(){this.Zr=new _t(F.comparator)}track(e){const n=e.doc.key,r=this.Zr.get(n);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(n,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(n):1===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):V():this.Zr=this.Zr.insert(n,e)}eo(){const e=[];return this.Zr.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wu{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Wu(e,n,Gu.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Woe{constructor(){this.no=void 0,this.listeners=[]}}class zoe{constructor(){this.queries=new Vu(e=>xV(e),_d),this.onlineState="Unknown",this.so=new Set}}function nT(){return nT=y(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Woe),i)try{s.no=yield n.onListen(r)}catch(o){const a=qu(o,`Initialization of query '${aD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.io(n.onlineState),s.no&&e.ro(s.no)&&sT(n)}),nT.apply(this,arguments)}function iT(){return iT=y(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),iT.apply(this,arguments)}function Koe(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.ro(i)&&(r=!0);o.no=i}}r&&sT(n)}function Qoe(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function sT(t){t.so.forEach(e=>{e.next()})}class oT{constructor(e,n,r){this.query=e,this.oo=n,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.uo(e)&&(this.oo.next(e),n=!0):this.ho(e,this.onlineState)&&(this.lo(e),n=!0),this.ao=e,n}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let n=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),n=!0),n}ho(e,n){return!e.fromCache||!(this.options.fo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=Wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class e2{constructor(e){this.key=e}}class t2{constructor(e){this.key=e}}class n2{constructor(e,n){this.query=e,this.po=n,this.To=null,this.current=!1,this.Eo=be(),this.mutatedKeys=be(),this.Io=MV(e),this.Ao=new Gu(this.Io)}get Ro(){return this.po}bo(e,n){const r=n?n.Po:new JU,i=n?n.Ao:this.Ao;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=ag(this.query)&&i.size===this.query.limit?i.last():null,c=ug(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=vd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.vo(h,f)||(r.track({type:2,doc:f}),g=!0,(u&&this.Io(f,u)>0||c&&this.Io(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(u||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),ag(this.query)||ug(this.query))for(;o.size>this.query.limit;){const l=ag(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ao:o,Po:r,Ln:a,mutatedKeys:s}}vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const s=e.Po.eo();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.Io(c.doc,l.doc)),this.Vo(r);const o=n?this.So():[],a=0===this.Eo.size&&this.current?1:0,u=a!==this.To;return this.To=a,0!==s.length||u?{snapshot:new Wu(this.query,e.Ao,i,s,e.mutatedKeys,0===a,u,!1),Do:o}:{Do:o}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new JU,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(n=>this.po=this.po.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.po=this.po.delete(n)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=be(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const n=[];return e.forEach(r=>{this.Eo.has(r)||n.push(new t2(r))}),this.Eo.forEach(r=>{e.has(r)||n.push(new e2(r))}),n}No(e){this.po=e.Gn,this.Eo=be();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return Wu.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Zoe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xoe{constructor(e){this.key=e,this.ko=!1}}class eae{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.$o={},this.Oo=new Vu(a=>xV(a),_d),this.Fo=new Map,this.Mo=new Set,this.Lo=new _t(F.comparator),this.Bo=new Map,this.Uo=new RD,this.qo={},this.Ko=new Map,this.jo=Fo.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function tae(t,e){return aT.apply(this,arguments)}function aT(){return aT=y(function*(t,e){const n=MT(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Uu(n.localStore,Ir(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield uT(n,e,r,"current"===a),n.isPrimaryClient&&Dg(n.remoteStore,o)}return i}),aT.apply(this,arguments)}function uT(t,e,n,r){return cT.apply(this,arguments)}function cT(){return cT=y(function*(t,e,n,r){t.Wo=(l,d,h)=>{return(f=y(function*(p,m,g,v){let _=m.view.bo(g);_.Ln&&(_=yield Eg(p.localStore,m.query,!1).then(({documents:q})=>m.view.bo(q,_)));const T=v&&v.targetChanges.get(m.targetId),R=m.view.applyChanges(_,p.isPrimaryClient,T);return vT(p,m.targetId,R.Do),R.snapshot}),function(p,m,g,v){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Eg(t.localStore,e,!0),s=new n2(e,i.Gn),o=s.bo(i.documents),a=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);vT(t,n,u.Do);const c=new Zoe(e,n,s);return t.Oo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),u.snapshot}),cT.apply(this,arguments)}function nae(t,e){return lT.apply(this,arguments)}function lT(){return lT=y(function*(t,e){const n=S(t),r=n.Oo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!_d(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Pd(n.remoteStore,r.targetId),zu(n,r.targetId)}).catch(Lo))):(zu(n,r.targetId),yield Bu(n.localStore,r.targetId,!0))}),lT.apply(this,arguments)}function dT(){return dT=y(function*(t,e,n){const r=RT(t);try{const i=yield function(s,o){const a=S(s),u=Yt.now(),c=o.reduce((d,h)=>d.add(h.key),be());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Qn.Pn(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=Tse(p,l.get(p.key));null!=m&&f.push(new bs(p.key,m,CV(m.value.mapValue),lt.exists(!0)))}return a.In.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.qo[s.currentUser.toKey()];u||(u=new _t(he)),u=u.insert(o,a),s.qo[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ji(r,i.changes),yield $u(r.remoteStore)}catch(i){const s=qu(i,"Failed to persist write");n.reject(s)}}),dT.apply(this,arguments)}function r2(t,e){return hT.apply(this,arguments)}function hT(){return hT=y(function*(t,e){const n=S(t);try{const r=yield moe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Bo.get(s);o&&(W(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ko=!0:i.modifiedDocuments.size>0?W(o.ko):i.removedDocuments.size>0&&(W(o.ko),o.ko=!1))}),yield Ji(n,r,e)}catch(r){yield Lo(r)}}),hT.apply(this,arguments)}function i2(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.io(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.io(o)&&(u=!0)}),u&&sT(a)}(r.eventManager,e),i.length&&r.$o.Rr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iae(t,e,n){return fT.apply(this,arguments)}function fT(){return fT=y(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Bo.get(e),s=i&&i.key;if(s){let o=new _t(F.comparator);o=o.insert(s,He.newNoDocument(s,ee.min()));const a=be().add(s),u=new Id(ee.min(),new Map,new Ze(he),o,a);yield r2(r,u),r.Lo=r.Lo.remove(s),r.Bo.delete(e),wT(r)}else yield Bu(r.localStore,e,!1).then(()=>zu(r,e,n)).catch(Lo)}),fT.apply(this,arguments)}function sae(t,e){return pT.apply(this,arguments)}function pT(){return pT=y(function*(t,e){const n=S(t),r=e.batch.batchId;try{const i=yield goe(n.localStore,e);_T(n,r,null),yT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ji(n,i)}catch(i){yield Lo(i)}}),pT.apply(this,arguments)}function oae(t,e,n){return gT.apply(this,arguments)}function gT(){return gT=y(function*(t,e,n){const r=S(t);try{const i=yield function(s,o){const a=S(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.In.lookupMutationBatch(u,o).next(l=>(W(null!==l),c=l.keys(),a.In.removeMutationBatch(u,l))).next(()=>a.In.performConsistencyCheck(u)).next(()=>a.Qn.Pn(u,c))})}(r.localStore,e);_T(r,e,n),yT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ji(r,i)}catch(i){yield Lo(i)}}),gT.apply(this,arguments)}function yT(t,e){(t.Ko.get(e)||[]).forEach(n=>{n.resolve()}),t.Ko.delete(e)}function _T(t,e,n){const r=S(t);let i=r.qo[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qo[r.currentUser.toKey()]=i}}function zu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(r=>{t.Uo.containsKey(r)||s2(t,r)})}function s2(t,e){t.Mo.delete(e.path.canonicalString());const n=t.Lo.get(e);null!==n&&(Pd(t.remoteStore,n),t.Lo=t.Lo.remove(e),t.Bo.delete(n),wT(t))}function vT(t,e,n){for(const r of n)r instanceof e2?(t.Uo.addReference(r.key,e),uae(t,r)):r instanceof t2?(D("SyncEngine","Document no longer in limbo: "+r.key),t.Uo.removeReference(r.key,e),t.Uo.containsKey(r.key)||s2(t,r.key)):V()}function uae(t,e){const n=e.key,r=n.path.canonicalString();t.Lo.get(n)||t.Mo.has(r)||(D("SyncEngine","New document in limbo: "+n),t.Mo.add(r),wT(t))}function wT(t){for(;t.Mo.size>0&&t.Lo.size<t.maxConcurrentLimboResolutions;){const e=t.Mo.values().next().value;t.Mo.delete(e);const n=new F(ve.fromString(e)),r=t.jo.next();t.Bo.set(r,new Xoe(n)),t.Lo=t.Lo.insert(n,r),Dg(t.remoteStore,new Ts(Ir(Du(n.path)),r,2,or.T))}}function Ji(t,e,n){return ET.apply(this,arguments)}function ET(){return ET=y(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Wo(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=DD.kn(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=y(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.Nn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Po(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Un.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Un=l.Un.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),ET.apply(this,arguments)}function cae(t,e){return CT.apply(this,arguments)}function CT(){return CT=y(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield OU(n.localStore,e);n.currentUser=e,(i=n).Ko.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ji(n,r.Wn)}var i}),CT.apply(this,arguments)}function lae(t,e){const n=S(t),r=n.Bo.get(e);if(r&&r.ko)return be().add(r.key);{let i=be();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Ro)}return i}}function MT(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iae.bind(null,e),e.$o.Rr=Koe.bind(null,e.eventManager),e.$o.Go=Qoe.bind(null,e.eventManager),e}function RT(t){const e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oae.bind(null,e),e}class vae{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.N=Nd(e.databaseInfo.databaseId),n.sharedClientState=n.Ho(e),n.persistence=n.Jo(e),yield n.persistence.start(),n.gcScheduler=n.Yo(e),n.localStore=n.Xo(e)})()}Yo(e){return null}Xo(e){return function(t,e,n,r){return new poe(t,e,n,r)}(this.persistence,new kU,e.initialUser,this.N)}Jo(e){return new Toe(ND.Ns,this.N)}Ho(e){return new $U}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NT{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>i2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cae.bind(null,r.syncEngine),yield function(t,e){return XD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zoe}createDatastore(e){const n=Nd(e.databaseInfo.databaseId),r=new Roe(e.databaseInfo);return new Poe(e.credentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>i2(this.syncEngine,a,0),o=HU.bt()?new HU:new Soe,new Foe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new eae(r,i,s,o,a,u);return c&&(l.Qo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(n){const r=S(n);D("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield ju(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Dae{constructor(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Qt.UNAUTHENTICATED,this.clientId=fV.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var s=y(function*(o){D("FirestoreClient","Received user=",o.uid),yield i.credentialListener(o),i.user=o});return function(o){return s.apply(this,arguments)}}())}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),n.resolve()}catch(r){const i=qu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function c2(t,e){return kT.apply(this,arguments)}function kT(){return kT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield OU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),kT.apply(this,arguments)}function l2(t,e){return PT.apply(this,arguments)}function PT(){return PT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield OT(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=y(function*(o,a){const u=S(o);u.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const c=Ms(u);u.Wr.add(3),yield ju(u),c&&u.Hr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Wr.delete(3),yield kd(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),PT.apply(this,arguments)}function OT(t){return FT.apply(this,arguments)}function FT(){return FT=y(function*(t){return t.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),yield c2(t,new vae)),t.offlineComponents}),FT.apply(this,arguments)}function Sg(t){return LT.apply(this,arguments)}function LT(){return LT=y(function*(t){return t.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),yield l2(t,new NT)),t.onlineComponents}),LT.apply(this,arguments)}function Ku(t){return BT.apply(this,arguments)}function BT(){return BT=y(function*(t){const e=yield Sg(t),n=e.eventManager;return n.onListen=tae.bind(null,e.syncEngine),n.onUnlisten=nae.bind(null,e.syncEngine),n}),BT.apply(this,arguments)}class Pae{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Od{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Od&&e.projectId===this.projectId&&e.database===this.database}}const g2=new Map;function jT(t,e,n){if(!n)throw new b(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m2(t){if(!F.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xg(t);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class v2{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v2({}),this._settingsFrozen=!1,e instanceof Od?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Od(r.options.projectId)}(e))}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v2(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new tse;switch(n.type){case"gapi":const r=n.client;return W(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new sse(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new b(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=g2.get(e);n&&(D("ComponentProvider","Removing Datastore"),g2.delete(e),n.terminate())}(this),Promise.resolve()}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}}class hn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hn(this.firestore,e,this._query)}}class mi extends hn{constructor(e,n,r){super(e,n,Du(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new F(e))}withConverter(e){return new mi(this.firestore,e,this._path)}}function w2(t,e,...n){if(t=Ht(t),1===arguments.length&&(e=fV.I()),jT("doc","path",e),t instanceof Fd){const r=ve.fromString(e,...n);return m2(r),new nt(t,null,new F(r))}{if(!(t instanceof nt||t instanceof mi))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return m2(r),new nt(t.firestore,t instanceof mi?t.converter:null,new F(r))}}class Lae{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new LD(this,"async_queue_retry"),this.Rc=()=>{const n=bg();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ar.tr()};const e=bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const n=bg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const n=new Nt;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return y(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(n){if(!Po(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const n=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.bc(),this.Ac.indexOf(e)>-1&&(n=0);const i=eT.createAndSchedule(this,e,n,r,s=>this.Vc(s));return this.yc.push(i),i}bc(){this.Tc&&V()}verifyOperationInProgress(){}Sc(){var e=this;return y(function*(){let n;do{n=e._c,yield n}while(n!==e._c)})()}Dc(e){for(const n of this.yc)if(n.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.yc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const n=this.yc.indexOf(e);this.yc.splice(n,1)}}function $T(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class We extends Fd{constructor(e,n){super(e,n),this.type="firestore",this._queue=new Lae,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||E2(this),this._firestoreClient.terminate()}}function Uae(t=cw()){return iu(t,"firestore").getImmediate()}function Ft(t){return t._firestoreClient||E2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function E2(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Pae(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Dae(t._credentials,t._queue,r)}class Qu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(kt.fromBase64String(e))}catch(n){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class HT{constructor(e){this._methodName=e}}class qT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const Bae=/^__.*__$/;class b2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function D2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class Mg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$c({path:r,Fc:!1});return i.Mc(e),i}Lc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$c({path:r,Fc:!1});return i.xc(),i}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Rg(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(D2(this.kc)&&Bae.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class $ae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.N=r||Nd(e)}jc(e,n,r,i=!1){return new Mg({kc:e,methodName:n,Kc:r,path:cn.emptyPath(),Fc:!1,qc:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}class Ld extends HT{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}function Uo(t,e){if(R2(t=Ht(t)))return zT("Unsupported field value:",e,t),function(t,e){const n={};return mV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,i)=>{const s=Uo(i,e.Oc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}(t,e);if(t instanceof HT)return function(n,r){if(!D2(r.kc))throw r.Uc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Uo(o,r.Bc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ht(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return kV(r.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Yt.fromDate(n);return{timestampValue:Dd(r.N,i)}}if(n instanceof Yt){const i=new Yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Dd(r.N,i)}}if(n instanceof qT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vo)return{bytesValue:XV(r.N,n._byteString)};if(n instanceof nt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Uc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Uc(`Unsupported field value: ${xg(n)}`)}(t,e)}function R2(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof qT||t instanceof Vo||t instanceof nt||t instanceof HT)}function zT(t,e,n){if(!R2(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xg(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}var r}function KT(t,e,n){if((e=Ht(e))instanceof Qu)return e._internalPath;if("string"==typeof e)return QT(t,e);throw Rg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Wae=new RegExp("[~\\*/\\[\\]]");function QT(t,e,n){if(e.search(Wae)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qu(...e.split("."))._internalPath}catch(r){throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+t+u)}function N2(t,e){return t.some(n=>n.isEqual(e))}class YT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ng("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class zae extends YT{data(){return super.data()}}function Ng(t,e){return"string"==typeof e?QT(t,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends YT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ng("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kg extends Ju{data(e={}){return super.data(e)}}class Zu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kg(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new kg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new kg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Kae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class jo extends class{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){const r={};return So(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new qT(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fd(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);W(hU(r));const i=new Od(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function Xae(t,e,n,...r){t=me(t,nt);const i=me(t.firestore,We),s=function(t){const e=t._freezeSettings(),n=Nd(t._databaseId);return new $ae(t._databaseId,!!e.ignoreUndefinedProperties,n)}(i);let o;return o="string"==typeof(e=Ht(e))||e instanceof Qu?function(t,e,n,r,i,s){const o=t.jc(1,e,n),a=[KT(e,r,n)],u=[i];if(s.length%2!=0)throw new b(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(KT(e,s[h])),u.push(s[h+1]);const c=[],l=ln.empty();for(let h=a.length-1;h>=0;--h)if(!N2(c,a[h])){const f=a[h];let p=u[h];p=Ht(p);const m=o.Lc(f);if(p instanceof Ld)c.push(f);else{const g=Uo(p,m);null!=g&&(c.push(f),l.set(f,g))}}const d=new Eu(c);return new b2(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function(t,e,n,r){const i=t.jc(1,e,n);zT("Data must be an object, but it was:",i,r);const s=[],o=ln.empty();So(r,(u,c)=>{const l=QT(e,u,n);c=Ht(c);const d=i.Lc(l);if(c instanceof Ld)s.push(l);else{const h=Uo(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Eu(s);return new b2(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),function(t,e){return function(n,r){const i=new Nt;return n.asyncQueue.enqueueAndForget(y(function*(){return function(t,e,n){return dT.apply(this,arguments)}(yield function(t){return Sg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Ft(t),e)}(i,[o.toMutation(t._key,lt.exists(!0))])}function eue(t,...e){var n,r,i;t=Ht(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||$T(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($T(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof nt)c=me(t.firestore,We),l=Du(t._key.path),u={next:d=>{e[o]&&e[o](function(t,e,n){const r=n.docs.get(e._key),i=new jo(t);return new Ju(t,i,e._key,r,new Bo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=me(t,hn);c=me(d.firestore,We),l=d._query;const h=new jo(c);u={next:f=>{e[o]&&e[o](new Zu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function(t){if(ug(t)&&0===t.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Ag(p),g=new oT(h,m,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return nT.apply(this,arguments)}(yield Ku(d),g)})),()=>{m.ec(),d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return iT.apply(this,arguments)}(yield Ku(d),g)}))}}(Ft(c),l,a,u)}!function(t,e=!0){vu="9.5.0",Un(new bn("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new We(i,new rse(n.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Je(dV,"3.3.1",t),Je(dV,"3.3.1","esm2017")}();class Xu{constructor(e){return e}}const j2="firestore",XT=new X("angularfire2.firestore-instances");function iue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xu(r)}}const sue={provide:class{constructor(){return jE(j2)}},deps:[[new Le,XT]]},oue={provide:Xu,useFactory:function(t,e){const n=BE(j2,t,e);return n&&new Xu(n)},deps:[[new Le,XT],du]};let aue=(()=>{class t{constructor(){Je("angularfire",rp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({providers:[oue,sue]}),t})();function uue(t,...e){return{ngModule:aue,providers:[{provide:XT,useFactory:iue(t),multi:!0,deps:[je,_e,$E,HE,[new Le,QF],[new Le,oC],...e]}]}}const $2=li(w2,!0),cue=li(Uae,!0),lue=li(eue,!0),due=li(Xae,!0);function hue(t,e){if(1&t){const n=I();k(0,"img",5),ke("click",function(){return function(t){z.lFrame.contextLView=t}(n),By().fnMakeLogout()}),P()}}let e0=(()=>{class t{constructor(n,r){this.auth=n,this.dataService=r}get userState(){return this.dataService.userState}ngOnInit(){}fnMakeLogout(){this.emailLogout(),window.location.pathname="/LabNotes"}fnGoHome(){window.location.pathname="/LabNotes"}emailLogout(){var n=this;return y(function*(){return yield zre(n.auth)})()}}return t.\u0275fac=function(n){return new(n||t)(E(Co),E(tu))},t.\u0275cmp=lr({type:t,selectors:[["app-upper-bar"]],decls:8,vars:1,consts:[[1,"cHeaderStyle"],[1,"cHeaderStyleSection"],[1,"cBtnTransparenci"],["src","/assets/img/logo.png","alt","",3,"click"],["src","/assets/img/logOut.png","alt","",3,"click",4,"ngIf"],["src","/assets/img/logOut.png","alt","",3,"click"]],template:function(n,r){1&n&&(k(0,"header",0),k(1,"section",1),k(2,"div"),k(3,"button",2),k(4,"img",3),ke("click",function(){return r.fnGoHome()}),P(),P(),P(),k(5,"div"),k(6,"button",2),Bc(7,hue,1,0,"img",4),P(),P(),P(),P()),2&n&&(bt(7),Fn("ngIf",r.userState.log))},directives:[dv],styles:[".cHeaderStyle[_ngcontent-%COMP%]{position:absolute;display:block;top:0%;background-color:#fbcfcf;width:100%;height:10%}.cHeaderStyleSection[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.cBtnTransparenci[_ngcontent-%COMP%]{background-color:Transparent;border:none}.cBtnTransparenci[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin:0 15px}"]}),t})(),fue=(()=>{class t{constructor(){this.title="Title",this.content="Contente of the Note",this.status="Create",this.date="01/12/2021"}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=lr({type:t,selectors:[["app-template-list-notes"]],inputs:{title:"title",content:"content",status:"status",date:"date"},decls:10,vars:4,consts:[[1,"cTemplateLN"],[1,"cContent"],[1,"cDate"]],template:function(n,r){1&n&&(k(0,"div",0),k(1,"h3"),Bt(2),P(),k(3,"p",1),Bt(4),P(),k(5,"div",2),k(6,"p"),Bt(7),P(),k(8,"p"),Bt(9),P(),P(),P()),2&n&&(bt(2),ls(r.title),bt(2),ls(r.content),bt(3),ls(r.status),bt(2),ls(r.date))},styles:[".cTemplateLN[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:10px;padding-bottom:10px;width:100%;border-bottom:solid;background-color:#8d8c8c;overflow-y:scroll;scrollbar-track-color:blue}h3[_ngcontent-%COMP%]{margin-left:10px}.cContent[_ngcontent-%COMP%]{font-style:italic;text-decoration:underline;margin-left:5px}.cDate[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around}"]}),t})(),H2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(E(Mi),E(Dt))},t.\u0275dir=G({type:t}),t})(),$o=(()=>{class t extends H2{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function(t){return ts(()=>{const e=t.prototype.constructor,n=e[bi]||Tm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[bi]||Tm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=G({type:t,features:[Ne]}),t})();const yi=new X("NgValueAccessor"),mue={provide:yi,useExisting:Me(()=>ec),multi:!0},_ue=new X("CompositionEventMode");let ec=(()=>{class t extends H2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=oi()?oi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Mi),E(Dt),E(_ue,8))},t.\u0275dir=G({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ke("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Be([mue]),Ne]}),t})();const fn=new X("NgValidators"),ks=new X("NgAsyncValidators");function eB(t){return null!=t}function tB(t){const e=jc(t)?Ct(t):t;return Lh(e),e}function nB(t){let e={};return t.forEach(n=>{e=null!=n?B(B({},e),n):e}),0===Object.keys(e).length?null:e}function rB(t,e){return e.map(n=>n(t))}function iB(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function t0(t){return null!=t?function(t){if(!t)return null;const e=t.filter(eB);return 0==e.length?null:function(n){return nB(rB(n,e))}}(iB(t)):null}function n0(t){return null!=t?function(t){if(!t)return null;const e=t.filter(eB);return 0==e.length?null:function(n){return function(...t){const e=G0(t),{args:n,keys:r}=rk(t),i=new Se(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;zr(n[l]).subscribe(new wt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?sk(r,a):a),s.complete())}))}});return e?i.pipe(ik(e)):i}(rB(n,e).map(tB)).pipe(xe(nB))}}(iB(t)):null}function aB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function r0(t){return t?Array.isArray(t)?t:[t]:[]}function Og(t,e){return Array.isArray(t)?t.includes(e):t===e}function lB(t,e){const n=r0(e);return r0(t).forEach(i=>{Og(n,i)||n.push(i)}),n}function dB(t,e){return r0(e).filter(n=>!Og(t,n))}class hB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=t0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=n0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Mn extends hB{get formDirective(){return null}get path(){return null}}class Ps extends hB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fB{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null==(n=this._cd)?void 0:n.submitted):!!(null==(i=null==(r=this._cd)?void 0:r.control)?void 0:i[e])}}let Fg=(()=>{class t extends fB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Ps,2))},t.\u0275dir=G({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Vh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Ne]}),t})(),s0=(()=>{class t extends fB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Mn,10))},t.\u0275dir=G({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Vh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Ne]}),t})();function Bd(t,e){u0(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pB(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Bg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function u0(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(aB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(aB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Bg(e._rawValidators,i),Bg(e._rawAsyncValidators,i)}function pB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $g(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const jd="VALID",Hg="INVALID",tc="PENDING",$d="DISABLED";function d0(t){return(f0(t)?t.validators:t)||null}function yB(t){return Array.isArray(t)?t0(t):t||null}function h0(t,e){return(f0(e)?e.asyncValidators:t)||null}function _B(t){return Array.isArray(t)?n0(t):t||null}function f0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class p0{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=yB(this._rawValidators),this._composedAsyncValidatorFn=_B(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jd}get invalid(){return this.status===Hg}get pending(){return this.status==tc}get disabled(){return this.status===$d}get enabled(){return this.status!==$d}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_B(e)}addValidators(e){this.setValidators(lB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dB(e,this._rawAsyncValidators))}hasValidator(e){return Og(this._rawValidators,e)}hasAsyncValidator(e){return Og(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$d,this.errors=null,this._forEachChild(r=>{r.disable(Lt(B({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Lt(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=jd,this._forEachChild(r=>{r.enable(Lt(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Lt(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jd||this.status===tc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$d:jd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tc,this._hasOwnPendingAsyncValidator=!0;const n=tB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof g0?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof Nue&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?$d:this.errors?Hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tc)?tc:this._anyControlsHaveStatus(Hg)?Hg:jd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){f0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qg extends p0{constructor(e=null,n,r){super(d0(n),h0(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$g(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$g(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class g0 extends p0{constructor(e,n,r){super(d0(n),h0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof qg?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Nue extends p0{constructor(e,n,r){super(d0(n),h0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof qg?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const kue={provide:Mn,useExisting:Me(()=>qd)},Hd=(()=>Promise.resolve(null))();let qd=(()=>{class t extends Mn{constructor(n,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ye,this.form=new g0({},t0(n),n0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Hd.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Bd(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Hd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),$g(this._directives,n)})}addFormGroup(n){Hd.then(()=>{const r=this._findContainer(n.path),i=new g0({});(function(t,e){u0(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Hd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Hd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(E(fn,10),E(ks,10))},t.\u0275dir=G({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ke("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([kue]),Ne]}),t})();const Oue={provide:Ps,useExisting:Me(()=>Gd)},EB=(()=>Promise.resolve(null))();let Gd=(()=>{class t extends Ps{constructor(n,r,i,s){super(),this.control=new qg,this._registered=!1,this.update=new Ye,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ec?n=s:function(t){return Object.getPrototypeOf(t.constructor)===$o}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){EB.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;EB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(E(Mn,9),E(fn,10),E(ks,10),E(yi,10))},t.\u0275dir=G({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Be([Oue]),Ne,nn]}),t})(),m0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),IB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({}),t})(),sce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({imports:[[IB]]}),t})(),jB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({imports:[sce]}),t})(),oce=(()=>{class t{constructor(n,r){this.db=n,this.dataService=r,this.id="nota",this.idUser="",this.title="",this.content=""}get userState(){return this.dataService.userState}fnMakeNewNote(){var n=this;return y(function*(){if(n.title&&n.content){n.idUser="string"==typeof n.userState.id?n.userState.id:"noData";const r=Date.now().toString();yield due($2(n.db,"users",n.idUser),{[r]:{title:n.title,content:n.content}}),n.title="",n.content=""}})()}}return t.\u0275fac=function(n){return new(n||t)(E(Xu),E(tu))},t.\u0275cmp=lr({type:t,selectors:[["app-snote"]],decls:10,vars:2,consts:[[1,"cSimpleNote"],[1,"cUpperPartNote"],["type","text","name","title","placeholder","Titulo de nota",1,"cFontTitleNote",3,"ngModel","ngModelChange"],[1,"cContentePartNote"],["type","text","name","content","placeholder","Escribe aqui tu nota",1,"cFontContentNote",3,"ngModel","ngModelChange"],[1,"cLowerPartNOte"],[1,"cListButtonsNote"],["type","button","src","/assets/img/saveNotethird.png","alt","",3,"click"],["type","button","src","/assets/img/editNotethird.png","alt",""],["type","button","src","/assets/img/deleteNotethird.png","alt",""]],template:function(n,r){1&n&&(k(0,"div",0),k(1,"div",1),k(2,"input",2),ke("ngModelChange",function(s){return r.title=s}),P(),P(),k(3,"div",3),k(4,"textarea",4),ke("ngModelChange",function(s){return r.content=s}),P(),P(),k(5,"div",5),k(6,"li",6),k(7,"img",7),ke("click",function(){return r.fnMakeNewNote()}),P(),wn(8,"img",8),wn(9,"img",9),P(),P(),P()),2&n&&(bt(2),Fn("ngModel",r.title),bt(2),Fn("ngModel",r.content))},directives:[ec,Fg,Gd],styles:['[_ngcontent-%COMP%]:root{--main-bg-color: brown;--background-cards: rgb(236, 233, 217);--red-burger: rgb(224, 22, 22)}*[_ngcontent-%COMP%]{margin:0;padding:0}.cSimpleNote[_ngcontent-%COMP%]{display:flex;position:absolute;flex-direction:column;justify-content:space-between;height:90%;width:90%;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#d6d690;border-style:solid;border-width:2px;border-radius:10px}.cUpperPartNote[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:5px}.cUpperPartNote[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;border:none}.cContentePartNote[_ngcontent-%COMP%]{width:90%;height:60%;margin:5%}.cContentePartNote[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100%;background:none;border:none}.cLowerPartNOte[_ngcontent-%COMP%]{margin-bottom:5%}.cFontTitleNote[_ngcontent-%COMP%]{font-size:2.5em;font-family:"Courier New",Courier,monospace;text-align:center;font-weight:bold;width:90%}.cFontContentNote[_ngcontent-%COMP%]{font-size:2em}.cListButtonsNote[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;list-style-type:none}.cButtonOnNote[_ngcontent-%COMP%]{padding:0% 5%}img[_ngcontent-%COMP%]{width:30px}']}),t})(),ace=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=lr({type:t,selectors:[["app-note"]],decls:2,vars:0,consts:[[1,"cDivNote"]],template:function(n,r){1&n&&(k(0,"div",0),wn(1,"app-snote"),P())},directives:[oce],styles:[".cDivNote[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}"]}),t})();function uce(t,e){if(1&t&&wn(0,"app-template-list-notes",5),2&t){const n=e.$implicit;Fn("title",n.title)("content",n.content)("status",null==n.edited?"Created":"Edited")("date",n.date)}}function cce(t,e){if(1&t&&(k(0,"section",3),Bc(1,uce,1,4,"app-template-list-notes",4),P()),2&t){const n=By();bt(1),Fn("ngForOf",n.notes)}}function lce(t,e){1&t&&(k(0,"section",6),wn(1,"app-note"),P())}const dce=[{path:"LabNotes",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=lr({type:t,selectors:[["app-back"]],decls:2,vars:0,consts:[["src","/assets/img/bigLogo.png","alt",""]],template:function(n,r){1&n&&(k(0,"div"),wn(1,"img",0),P())},styles:["div[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:center;justify-items:center}div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"]}),t})()},{path:"LabNotes/login",component:(()=>{class t{constructor(n,r){this.auth=n,this.dataService=r,this.email="",this.password="",this.alert="",this.userState={log:null,email:""}}ngOnInit(){}fnMakeLogin(n){var r=this;return y(function*(){n.preventDefault(),r.email?r.password?r.password.length<=7?r.alert="Short Password":yield r.emailLogin(r.email,r.password).then(i=>{r.userState={log:!0,email:i.user.email},r.dataService.fnUpdateLogIn(r.userState),window.location.pathname="/LabNotes/notes"}).catch(()=>{r.alert="Wrong email or password"}):r.alert="Empty Password":r.alert="Empty Email"})()}fnGoRegister(){window.location.pathname="/LabNotes/register"}emailLogin(n,r){var i=this;return y(function*(){return yield Wre(i.auth,n,r)})()}}return t.\u0275fac=function(n){return new(n||t)(E(Co),E(tu))},t.\u0275cmp=lr({type:t,selectors:[["app-log-in"]],decls:23,vars:3,consts:[[1,"cPageLogin"],[1,"cFormLogin"],[1,"cdivInputs"],[1,"cText"],["type","text","name","email","placeholder","user@labnotes.com",3,"ngModel","ngModelChange"],["type","text","name","password","placeholder","Minimum 8 letters",3,"ngModel","ngModelChange"],[1,"cAlert"],[1,"divBtn"],[3,"click"],[1,"cdivlogito"],["src","assets/img/logo.png","alt",""]],template:function(n,r){1&n&&(wn(0,"app-upper-bar"),k(1,"div",0),k(2,"form",1),k(3,"h2"),Bt(4,"Login"),P(),k(5,"div",2),k(6,"p",3),Bt(7,"User / Email"),P(),k(8,"input",4),ke("ngModelChange",function(s){return r.email=s}),P(),P(),k(9,"div",2),k(10,"p",3),Bt(11,"Password"),P(),k(12,"input",5),ke("ngModelChange",function(s){return r.password=s}),P(),P(),k(13,"div"),k(14,"p",6),Bt(15),P(),P(),k(16,"div",7),k(17,"button",8),ke("click",function(s){return r.fnMakeLogin(s)}),Bt(18,"OK"),P(),k(19,"button",8),ke("click",function(){return r.fnGoRegister()}),Bt(20,"Register"),P(),P(),k(21,"div",9),wn(22,"img",10),P(),P(),P()),2&n&&(bt(8),Fn("ngModel",r.email),bt(4),Fn("ngModel",r.password),bt(3),ls(r.alert))},directives:[e0,m0,s0,qd,ec,Fg,Gd],styles:[".cPageLogin[_ngcontent-%COMP%]{position:absolute;top:10%;display:flex;height:90%;width:100%;background-color:#c4c4c4;justify-content:center;align-items:center}.cFormLogin[_ngcontent-%COMP%]{min-width:50%;background-color:#fbcfcf;border:5px solid #000000;border-radius:15px}.cFormLogin[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;text-align:center;font-family:Roboto;font-style:normal;font-weight:normal;font-size:48px;line-height:56px;margin-bottom:5%}.divBtn[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:space-around}.divBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:medium}.cdivlogito[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:5px;text-align:right}.cdivInputs[_ngcontent-%COMP%]{margin:auto;width:80%}.cText[_ngcontent-%COMP%]{font-size:1.2em}.cFormLogin[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:10%;background:#FFFFFF;border:3px solid #000000;box-sizing:border-box;border-radius:5px;font-size:120%;margin-bottom:10%}.cFormLogin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#6C6C6C;border:3px solid #000000;box-sizing:border-box;border-radius:5px;width:30%;height:10%;margin:auto;text-align:center}img[_ngcontent-%COMP%]{margin-right:15px}.cAlert[_ngcontent-%COMP%]{color:red;font-weight:bold;font-size:large;margin:auto auto 5%;text-align:center}"]}),t})()},{path:"LabNotes/register",component:(()=>{class t{constructor(n){this.auth=n,this.email="",this.passwordSet="",this.passwordConfirm="",this.alert="",this.userState={log:null,email:""}}ngOnInit(){}fnMakeRegister(){this.email?this.passwordSet?this.passwordSet.length<=7?this.alert="Short Password":this.passwordSet==this.passwordConfirm?this.emailSignUp(this.email,this.passwordSet).then(n=>{window.location.pathname="/LabNotes/notes"}).catch(n=>this.alert=n):this.alert="Passwords dont match":this.alert="Empty Password":this.alert="Empty Email"}emailSignUp(n,r){var i=this;return y(function*(){yield Hre(i.auth,n,r)})()}}return t.\u0275fac=function(n){return new(n||t)(E(Co))},t.\u0275cmp=lr({type:t,selectors:[["app-register"]],decls:25,vars:4,consts:[[1,"cPageLogin"],[1,"cFormLogin"],[1,"cdivInputs"],[1,"cText"],["type","email","name","email","placeholder","user@labnotes.com",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Minimun 8 letters",3,"ngModel","ngModelChange"],[1,"cAlert"],[1,"divBtn"],[3,"click"],[1,"cdivlogito"],["src","assets/img/logo.png","alt",""]],template:function(n,r){1&n&&(wn(0,"app-upper-bar"),k(1,"div",0),k(2,"form",1),k(3,"h2"),Bt(4,"Register"),P(),k(5,"div",2),k(6,"p",3),Bt(7,"Email"),P(),k(8,"input",4),ke("ngModelChange",function(s){return r.email=s}),P(),P(),k(9,"div",2),k(10,"p",3),Bt(11,"Set Password"),P(),k(12,"input",5),ke("ngModelChange",function(s){return r.passwordSet=s}),P(),P(),k(13,"div",2),k(14,"p",3),Bt(15,"Confirm Password"),P(),k(16,"input",5),ke("ngModelChange",function(s){return r.passwordConfirm=s}),P(),P(),k(17,"div"),k(18,"p",6),Bt(19),P(),P(),k(20,"div",7),k(21,"button",8),ke("click",function(){return r.fnMakeRegister()}),Bt(22,"Register"),P(),P(),k(23,"div",9),wn(24,"img",10),P(),P(),P()),2&n&&(bt(8),Fn("ngModel",r.email),bt(4),Fn("ngModel",r.passwordSet),bt(4),Fn("ngModel",r.passwordConfirm),bt(3),ls(r.alert))},directives:[e0,m0,s0,qd,ec,Fg,Gd],styles:[".cPageLogin[_ngcontent-%COMP%]{position:absolute;top:10%;display:flex;height:90%;width:100%;background-color:#c4c4c4;justify-content:center;align-items:center}.cFormLogin[_ngcontent-%COMP%]{min-width:50%;background-color:#fbcfcf;border:5px solid #000000;border-radius:15px}.cFormLogin[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;text-align:center;font-family:Roboto;font-style:normal;font-weight:normal;font-size:48px;line-height:56px;margin-bottom:5%}.divBtn[_ngcontent-%COMP%]{text-align:center}.divBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:medium}.cdivlogito[_ngcontent-%COMP%]{text-align:right}.cdivInputs[_ngcontent-%COMP%]{margin:auto;width:80%}.cText[_ngcontent-%COMP%]{font-size:1.2em}.cFormLogin[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:10%;background:#FFFFFF;border:3px solid #000000;box-sizing:border-box;border-radius:5px;font-size:120%;margin-bottom:5%}.cFormLogin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#6C6C6C;border:3px solid #000000;box-sizing:border-box;border-radius:5px;width:30%;height:10%;margin:auto;text-align:center}img[_ngcontent-%COMP%]{margin-right:15px}.cAlert[_ngcontent-%COMP%]{color:red;font-weight:bold;font-size:large;margin:auto auto 5%;text-align:center}"]}),t})()},{path:"LabNotes/notes",component:(()=>{class t{constructor(n,r){this.dataService=n,this.afs=r,this.idUser=""}get userState(){return this.dataService.userState}get notes(){return this.dataService.notes}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(E(tu),E(Xu))},t.\u0275cmp=lr({type:t,selectors:[["app-page"]],decls:6,vars:2,consts:[[1,"cDivPage"],["class","cScreenNotes",4,"ngIf"],["class","cScreenNote",4,"ngIf"],[1,"cScreenNotes"],[3,"title","content","status","date",4,"ngFor","ngForOf"],[3,"title","content","status","date"],[1,"cScreenNote"]],template:function(n,r){1&n&&(wn(0,"app-upper-bar"),k(1,"div",0),k(2,"main"),Bc(3,cce,2,1,"section",1),Bc(4,lce,2,0,"section",2),P(),wn(5,"footer"),P()),2&n&&(bt(3),Fn("ngIf",r.userState.log),bt(1),Fn("ngIf",r.userState.log))},directives:[e0,dv,V1,fue,ace],styles:[".cBtnTransparenci[_ngcontent-%COMP%]{background-color:Transparent;border:none}.cDivPage[_ngcontent-%COMP%]{width:100%;height:100%}.cBtnTransparenci[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin:0 15px}.cScreenNote[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;left:30%;width:70%;height:100%;background-color:#c4c4c4}.cScreenNotes[_ngcontent-%COMP%]{position:absolute;width:30%;height:100%;background:#6C6C6C;overflow-y:scroll}main[_ngcontent-%COMP%]{position:absolute;top:10%;height:90%;width:100%}"]}),t})()}];let hce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({imports:[[uP.forRoot(dce)],uP]}),t})(),fce=(()=>{class t{constructor(n,r,i){this.auth=n,this.dataService=r,this.afs=i,this.userState={log:null,email:"",id:""},this.idUser="",this.notes=[],this.user$=new Se(s=>Gre(n,s))}ngOnInit(){var n=this;return y(function*(){console.log("Star Load");const r=yield n.getUser();switch(n.userState.email=null==r?void 0:r.email,n.userState.log=!!r,n.userState.id=null==r?void 0:r.uid,console.log(n.userState),n.dataService.fnUpdateLogIn(n.userState),console.log(n.userState),console.log("Midle Load"),console.log(window.location.pathname),window.location.pathname){case"/LabNotes":window.location.pathname=n.userState.log?"/LabNotes/note":"/LabNotes/login";break;case"/LabNotes/login":case"/LabNotes/register":n.userState.log&&(window.location.href="/LabNotes/notes");break;case"/LabNotes/notes":n.userState.log||(window.location.pathname="/login");break;default:window.location.href="/LabNotes/login"}n.idUser="string"==typeof n.userState.id?n.userState.id:"",n.userState.log&&lue($2(n.afs,"users",n.idUser),i=>{n.notes=[],Object.entries(i.data()).forEach(s=>{var o;const a={title:s[1].title,content:s[1].content,date:s[0],edited:null===(o=s[1])||void 0===o?void 0:o.edited};n.notes.push(a)}),n.notes.sort((s,o)=>s.date>o.date?-1:s.date<o.date?1:void 0),n.dataService.notes=n.notes,console.log(n.notes)}),console.log("End Load")})()}getUser(){var n=this;return y(function*(){return yield n.user$.pipe(ac(1)).toPromise()})()}}return t.\u0275fac=function(n){return new(n||t)(E(Co),E(tu),E(Xu))},t.\u0275cmp=lr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&wn(0,"router-outlet")},directives:[$v],styles:[""]}),t})(),pce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=Xt({imports:[[mv,jB]]}),t})();const $B_firebase={projectId:"labnotes-e80b9",appId:"1:434696769471:web:3125ff2dcea1fd9f5b5b0a",storageBucket:"labnotes-e80b9.appspot.com",apiKey:"AIzaSyDeo3U9vAh7kYd9ulafNn03pm2CynvjjTg",authDomain:"labnotes-e80b9.firebaseapp.com",messagingSenderId:"434696769471"};let gce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t,bootstrap:[fce]}),t.\u0275inj=Xt({providers:[tu],imports:[[VK,hce,pce,dee(()=>hee($B_firebase)),$re(()=>qre()),uue(()=>cue()),jB,mv]]}),t})();(function(){if(IN)throw new Error("Cannot enable prod mode after platform setup.");CN=!1})(),FK().bootstrapModule(gce).catch(t=>console.error(t))}},Nn=>{Nn(Nn.s=609)}]);